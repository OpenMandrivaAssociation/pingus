From c92489cab38a16bec0ece2d32c431cc2d8a38935 Mon Sep 17 00:00:00 2001
From: Ingo Ruhnke <grumbel@gmail.com>
Date: Fri, 20 Mar 2015 16:11:57 +0100
Subject: [PATCH 079/129] Removed trailing whitespace

---
 extra/pingus-level-resave.cpp                 |   4 +-
 extra/pingus-level-resource-check.cpp         |   4 +-
 extra/pingus-level.cpp                        |  14 +--
 extra/pingus-level2png.cpp                    |  12 +--
 extra/pingus-levelset.cpp                     |   6 +-
 extra/sprite-view.cpp                         |   2 +-
 src/editor/action_properties.cpp              |  12 +--
 src/editor/action_properties.hpp              |   8 +-
 src/editor/button.cpp                         |  26 ++---
 src/editor/button.hpp                         |   6 +-
 src/editor/checkbox.cpp                       |  12 +--
 src/editor/checkbox.hpp                       |   8 +-
 src/editor/combobox.cpp                       |  20 ++--
 src/editor/combobox.hpp                       |  16 +--
 src/editor/editor_level.cpp                   |  32 +++---
 src/editor/editor_level.hpp                   |   8 +-
 src/editor/editor_screen.cpp                  | 100 +++++++++---------
 src/editor/editor_screen.hpp                  |  14 +--
 src/editor/file_dialog.cpp                    |  38 +++----
 src/editor/file_dialog.hpp                    |  10 +-
 src/editor/file_list.cpp                      |  12 +--
 src/editor/file_list.hpp                      |  10 +-
 src/editor/generic_level_obj.cpp              |  26 ++---
 src/editor/generic_level_obj.hpp              |  14 +--
 src/editor/group_level_obj.cpp                |  22 ++--
 src/editor/group_level_obj.hpp                |   6 +-
 src/editor/gui_style.cpp                      |   6 +-
 src/editor/gui_style.hpp                      |   6 +-
 src/editor/inputbox.cpp                       |  14 +--
 src/editor/inputbox.hpp                       |   8 +-
 src/editor/label.cpp                          |   8 +-
 src/editor/label.hpp                          |   4 +-
 src/editor/level_obj.cpp                      |   4 +-
 src/editor/level_obj.hpp                      |  14 +--
 src/editor/level_obj_factory.cpp              |   8 +-
 src/editor/level_properties.cpp               |  18 ++--
 src/editor/level_properties.hpp               |   6 +-
 src/editor/message_box.cpp                    |   6 +-
 src/editor/minimap.cpp                        |  14 +--
 src/editor/minimap.hpp                        |   6 +-
 src/editor/object_properties.cpp              |  86 +++++++--------
 src/editor/object_properties.hpp              |  12 +--
 src/editor/object_selector.cpp                |  42 ++++----
 src/editor/object_selector.hpp                |   4 +-
 src/editor/object_selector_list.cpp           |  28 ++---
 src/editor/object_selector_list.hpp           |   8 +-
 src/editor/object_selector_list_objects.hpp   |  90 ++++++++--------
 src/editor/object_selector_set.cpp            |   4 +-
 src/editor/object_selector_set.hpp            |   6 +-
 src/editor/panel.cpp                          |  82 +++++++-------
 src/editor/panel.hpp                          |   6 +-
 src/editor/viewport.cpp                       |  58 +++++-----
 src/editor/viewport.hpp                       |  14 +--
 src/engine/display/blitter.cpp                |   8 +-
 src/engine/display/blitter.hpp                |   4 +-
 src/engine/display/blitter_impl.hpp           |   6 +-
 src/engine/display/delta/clip_draw_op.hpp     |   4 +-
 .../display/delta/delta_framebuffer.cpp       |   4 +-
 .../display/delta/delta_framebuffer.hpp       |   6 +-
 src/engine/display/delta/draw_op.cpp          |  24 ++---
 src/engine/display/delta/draw_op_buffer.cpp   |  30 +++---
 src/engine/display/delta/draw_op_buffer.hpp   |   6 +-
 .../display/delta/draw_rect_draw_op.hpp       |   6 +-
 .../display/delta/fill_rect_draw_op.hpp       |   6 +-
 src/engine/display/delta/rect_merger.cpp      |  40 +++----
 src/engine/display/delta/rect_merger.hpp      |   6 +-
 src/engine/display/delta/surface_draw_op.hpp  |   6 +-
 src/engine/display/display.cpp                |  24 ++---
 src/engine/display/display.hpp                |   6 +-
 src/engine/display/drawing_context.cpp        |  58 +++++-----
 src/engine/display/drawing_context.hpp        |   6 +-
 src/engine/display/drawing_request.hpp        |   6 +-
 src/engine/display/font.cpp                   |  24 ++---
 src/engine/display/font.hpp                   |   4 +-
 src/engine/display/font_description.cpp       |  16 +--
 src/engine/display/font_description.hpp       |  10 +-
 src/engine/display/framebuffer.hpp            |   4 +-
 src/engine/display/framebuffer_surface.cpp    |  36 +++----
 src/engine/display/framebuffer_surface.hpp    |   4 +-
 src/engine/display/graphic_context_state.cpp  |  26 ++---
 src/engine/display/graphic_context_state.hpp  |   4 +-
 src/engine/display/null_framebuffer.cpp       |   4 +-
 src/engine/display/null_framebuffer.hpp       |   4 +-
 .../display/opengl/opengl_framebuffer.cpp     |  40 +++----
 .../display/opengl/opengl_framebuffer.hpp     |   6 +-
 .../opengl_framebuffer_surface_impl.cpp       |  14 +--
 .../opengl_framebuffer_surface_impl.hpp       |   4 +-
 src/engine/display/resource_modifier.cpp      |   4 +-
 src/engine/display/resource_modifier.hpp      |   6 +-
 src/engine/display/scene_context.cpp          |  24 ++---
 src/engine/display/scene_context.hpp          |   6 +-
 src/engine/display/scene_group.hpp            |   4 +-
 src/engine/display/screenshot.cpp             |  12 +--
 src/engine/display/screenshot.hpp             |   4 +-
 src/engine/display/sdl_framebuffer.cpp        |  14 +--
 src/engine/display/sdl_framebuffer.hpp        |   4 +-
 .../display/sdl_framebuffer_surface_impl.cpp  |   4 +-
 .../display/sdl_framebuffer_surface_impl.hpp  |   8 +-
 src/engine/display/sprite.cpp                 |  10 +-
 src/engine/display/sprite.hpp                 |   4 +-
 src/engine/display/sprite_description.cpp     |   4 +-
 src/engine/display/sprite_description.hpp     |  10 +-
 src/engine/display/sprite_impl.cpp            |  10 +-
 src/engine/display/sprite_impl.hpp            |   6 +-
 src/engine/display/surface.cpp                |  32 +++---
 src/engine/display/surface.hpp                |   4 +-
 src/engine/gui/button.hpp                     |   4 +-
 src/engine/gui/combobox_listener.hpp          |   6 +-
 src/engine/gui/component.cpp                  |  14 +--
 src/engine/gui/component.hpp                  |  10 +-
 src/engine/gui/game_delta_recorder.hpp        |   4 +-
 src/engine/gui/group_component.cpp            |  34 +++---
 src/engine/gui/group_component.hpp            |  14 +--
 src/engine/gui/gui_manager.cpp                |   8 +-
 src/engine/gui/gui_manager.hpp                |   4 +-
 src/engine/gui/rect_component.hpp             |  10 +-
 src/engine/gui/surface_button.cpp             |  10 +-
 src/engine/gui/surface_button.hpp             |   6 +-
 src/engine/input/control.hpp                  |  58 +++++-----
 src/engine/input/controller.cpp               |  52 ++++-----
 src/engine/input/controller.hpp               |  12 +--
 src/engine/input/controller_description.cpp   |  10 +-
 src/engine/input/controller_description.hpp   |  14 +--
 src/engine/input/core_driver.cpp              |  40 +++----
 src/engine/input/core_driver.hpp              |   4 +-
 src/engine/input/driver.hpp                   |   4 +-
 src/engine/input/driver_factory.cpp           |  22 ++--
 src/engine/input/evdev/evdev_device.cpp       |  50 ++++-----
 src/engine/input/evdev/evdev_device.hpp       |  12 +--
 src/engine/input/evdev/evdev_driver.cpp       |   8 +-
 src/engine/input/evdev/evdev_driver.hpp       |   4 +-
 src/engine/input/event.hpp                    |  36 +++----
 src/engine/input/manager.cpp                  |  28 ++---
 src/engine/input/manager.hpp                  |   6 +-
 src/engine/input/sdl_driver.cpp               |  38 +++----
 src/engine/input/sdl_driver.hpp               |   6 +-
 src/engine/input/wiimote/wiimote.cpp          |  60 +++++------
 src/engine/input/wiimote/wiimote.hpp          |  14 +--
 src/engine/input/wiimote/wiimote_driver.cpp   |  24 ++---
 src/engine/input/wiimote/wiimote_driver.hpp   |   8 +-
 src/engine/input/xinput/xinput_device.cpp     |  22 ++--
 src/engine/input/xinput/xinput_device.hpp     |  14 +--
 src/engine/input/xinput/xinput_driver.cpp     |  20 ++--
 src/engine/input/xinput/xinput_driver.hpp     |   6 +-
 src/engine/resource/resource.hpp              |   2 +-
 src/engine/resource/resource_manager.hpp      |   4 +-
 src/engine/screen/gui_screen.cpp              |  10 +-
 src/engine/screen/gui_screen.hpp              |   4 +-
 src/engine/screen/screen.cpp                  |   4 +-
 src/engine/screen/screen.hpp                  |   4 +-
 src/engine/screen/screen_manager.cpp          |  46 ++++----
 src/engine/screen/screen_manager.hpp          |   8 +-
 src/engine/screen/screen_manager_impl.hpp     |   4 +-
 src/engine/sound/sound.cpp                    |   4 +-
 src/engine/sound/sound.hpp                    |   4 +-
 src/engine/sound/sound_dummy.cpp              |   4 +-
 src/engine/sound/sound_dummy.hpp              |   4 +-
 src/engine/sound/sound_impl.hpp               |   6 +-
 src/engine/sound/sound_real.cpp               |  10 +-
 src/engine/sound/sound_real.hpp               |   4 +-
 src/engine/sound/sound_res_mgr.cpp            |   4 +-
 src/engine/sound/sound_res_mgr.hpp            |   4 +-
 src/engine/system/sdl_system.cpp              |   4 +-
 src/lisp/getters.hpp                          |   4 +-
 src/lisp/lexer.cpp                            |  24 ++---
 src/lisp/lexer.hpp                            |   8 +-
 src/lisp/lisp.cpp                             |   6 +-
 src/lisp/lisp.hpp                             |   6 +-
 src/lisp/parser.cpp                           |  10 +-
 src/lisp/parser.hpp                           |   4 +-
 src/lisp/property_iterator.hpp                |   8 +-
 src/math/color.hpp                            |   4 +-
 src/math/math.cpp                             |   6 +-
 src/math/math.hpp                             |   4 +-
 src/math/origin.cpp                           |   2 +-
 src/math/quad_tree.hpp                        |  20 ++--
 src/math/rect.hpp                             |  86 +++++++--------
 src/math/size.hpp                             |  16 +--
 src/math/vector2f.cpp                         |   4 +-
 src/math/vector2f.hpp                         |   6 +-
 src/math/vector2i.cpp                         |   4 +-
 src/math/vector2i.hpp                         |   6 +-
 src/math/vector3f.cpp                         |   4 +-
 src/math/vector3f.hpp                         |   4 +-
 src/pingus/action_holder.cpp                  |   4 +-
 src/pingus/action_holder.hpp                  |   6 +-
 src/pingus/action_name.hpp                    |   2 +-
 src/pingus/actions/angel.cpp                  |   4 +-
 src/pingus/actions/angel.hpp                  |   4 +-
 src/pingus/actions/basher.cpp                 |  10 +-
 src/pingus/actions/basher.hpp                 |   4 +-
 src/pingus/actions/blocker.cpp                |   4 +-
 src/pingus/actions/blocker.hpp                |   4 +-
 src/pingus/actions/boarder.cpp                |  10 +-
 src/pingus/actions/boarder.hpp                |   4 +-
 src/pingus/actions/bomber.cpp                 |   4 +-
 src/pingus/actions/bomber.hpp                 |   4 +-
 src/pingus/actions/bridger.cpp                |  12 +--
 src/pingus/actions/bridger.hpp                |   4 +-
 src/pingus/actions/climber.cpp                |   8 +-
 src/pingus/actions/climber.hpp                |   4 +-
 src/pingus/actions/digger.cpp                 |   4 +-
 src/pingus/actions/digger.hpp                 |   4 +-
 src/pingus/actions/drown.cpp                  |   8 +-
 src/pingus/actions/drown.hpp                  |   4 +-
 src/pingus/actions/exiter.cpp                 |   8 +-
 src/pingus/actions/exiter.hpp                 |   4 +-
 src/pingus/actions/faller.cpp                 |  16 +--
 src/pingus/actions/faller.hpp                 |   4 +-
 src/pingus/actions/floater.cpp                |   4 +-
 src/pingus/actions/floater.hpp                |   4 +-
 src/pingus/actions/jumper.cpp                 |  10 +-
 src/pingus/actions/jumper.hpp                 |   4 +-
 src/pingus/actions/laser_kill.cpp             |   4 +-
 src/pingus/actions/laser_kill.hpp             |   4 +-
 src/pingus/actions/miner.cpp                  |  14 +--
 src/pingus/actions/miner.hpp                  |   4 +-
 src/pingus/actions/slider.cpp                 |  10 +-
 src/pingus/actions/slider.hpp                 |   4 +-
 src/pingus/actions/smashed.cpp                |   4 +-
 src/pingus/actions/smashed.hpp                |   6 +-
 src/pingus/actions/splashed.cpp               |   4 +-
 src/pingus/actions/splashed.hpp               |   4 +-
 src/pingus/actions/superman.cpp               |   4 +-
 src/pingus/actions/superman.hpp               |   4 +-
 src/pingus/actions/waiter.cpp                 |   4 +-
 src/pingus/actions/waiter.hpp                 |   4 +-
 src/pingus/actions/walker.cpp                 |   6 +-
 src/pingus/actions/walker.hpp                 |   4 +-
 src/pingus/capture_rectangle.cpp              |   8 +-
 src/pingus/capture_rectangle.hpp              |   4 +-
 src/pingus/collider.cpp                       |   4 +-
 src/pingus/collider.hpp                       |   4 +-
 src/pingus/colliders/pingu_collider.cpp       |   4 +-
 src/pingus/colliders/pingu_collider.hpp       |   4 +-
 src/pingus/collision_map.cpp                  |   8 +-
 src/pingus/collision_map.hpp                  |   4 +-
 src/pingus/collision_mask.cpp                 |  10 +-
 src/pingus/collision_mask.hpp                 |   8 +-
 src/pingus/components/action_button.cpp       |   8 +-
 src/pingus/components/action_button.hpp       |   6 +-
 src/pingus/components/button_panel.cpp        |   8 +-
 src/pingus/components/button_panel.hpp        |  10 +-
 src/pingus/components/check_box.cpp           |   6 +-
 src/pingus/components/check_box.hpp           |   4 +-
 src/pingus/components/choice_box.cpp          |  16 +--
 src/pingus/components/choice_box.hpp          |  10 +-
 src/pingus/components/label.cpp               |   4 +-
 src/pingus/components/label.hpp               |   4 +-
 src/pingus/components/menu_button.cpp         |   4 +-
 src/pingus/components/menu_button.hpp         |   6 +-
 src/pingus/components/pingus_counter.cpp      |   4 +-
 src/pingus/components/pingus_counter.hpp      |   4 +-
 src/pingus/components/playfield.cpp           |  32 +++---
 src/pingus/components/playfield.hpp           |   6 +-
 src/pingus/components/slider_box.cpp          |  14 +--
 src/pingus/components/slider_box.hpp          |   4 +-
 src/pingus/components/smallmap.cpp            |  16 +--
 src/pingus/components/smallmap.hpp            |   4 +-
 src/pingus/components/time_display.cpp        |   6 +-
 src/pingus/components/time_display.hpp        |   4 +-
 src/pingus/config_manager.cpp                 |   8 +-
 src/pingus/config_manager.hpp                 |   4 +-
 src/pingus/direction.cpp                      |   4 +-
 src/pingus/direction.hpp                      |   4 +-
 src/pingus/fonts.cpp                          |   8 +-
 src/pingus/fonts.hpp                          |   4 +-
 src/pingus/fps_counter.cpp                    |   8 +-
 src/pingus/fps_counter.hpp                    |   4 +-
 src/pingus/game_event.hpp                     |   4 +-
 src/pingus/game_time.cpp                      |   4 +-
 src/pingus/game_time.hpp                      |   4 +-
 src/pingus/gettext.cpp                        |   4 +-
 src/pingus/global_event.cpp                   |   4 +-
 src/pingus/global_event.hpp                   |   4 +-
 src/pingus/globals.cpp                        |   4 +-
 src/pingus/globals.hpp                        |   6 +-
 src/pingus/goal_manager.cpp                   |   6 +-
 src/pingus/goal_manager.hpp                   |   4 +-
 src/pingus/ground_map.cpp                     |  40 +++----
 src/pingus/ground_map.hpp                     |   6 +-
 src/pingus/groundtype.cpp                     |   4 +-
 src/pingus/groundtype.hpp                     |   4 +-
 src/pingus/layer_manager.cpp                  |   4 +-
 src/pingus/layer_manager.hpp                  |   4 +-
 src/pingus/levelset.cpp                       |  22 ++--
 src/pingus/levelset.hpp                       |  10 +-
 src/pingus/mover.cpp                          |   4 +-
 src/pingus/mover.hpp                          |   4 +-
 src/pingus/movers/linear_mover.cpp            |   4 +-
 src/pingus/movers/linear_mover.hpp            |   4 +-
 src/pingus/options.cpp                        |  20 ++--
 src/pingus/options.hpp                        |  14 +--
 .../particles/pingu_particle_holder.cpp       |   4 +-
 .../particles/pingu_particle_holder.hpp       |   4 +-
 src/pingus/particles/rain_particle_holder.cpp |   6 +-
 src/pingus/particles/rain_particle_holder.hpp |   4 +-
 .../particles/smoke_particle_holder.cpp       |   6 +-
 .../particles/smoke_particle_holder.hpp       |   4 +-
 src/pingus/particles/snow_particle_holder.cpp |   4 +-
 src/pingus/particles/snow_particle_holder.hpp |   4 +-
 src/pingus/path_manager.cpp                   |   6 +-
 src/pingus/path_manager.hpp                   |   4 +-
 src/pingus/pingu.cpp                          |   6 +-
 src/pingus/pingu.hpp                          |   6 +-
 src/pingus/pingu_action.cpp                   |   8 +-
 src/pingus/pingu_action.hpp                   |   4 +-
 src/pingus/pingu_enums.hpp                    |   4 +-
 src/pingus/pingu_holder.cpp                   |   4 +-
 src/pingus/pingu_holder.hpp                   |   4 +-
 src/pingus/pingus_demo.cpp                    |   4 +-
 src/pingus/pingus_demo.hpp                    |   4 +-
 src/pingus/pingus_level.cpp                   |  14 +--
 src/pingus/pingus_level.hpp                   |   4 +-
 src/pingus/pingus_level_impl.hpp              |  14 +--
 src/pingus/pingus_main.cpp                    |  76 ++++++-------
 src/pingus/pingus_main.hpp                    |   4 +-
 src/pingus/plf_res_mgr.cpp                    |   4 +-
 src/pingus/plf_res_mgr.hpp                    |   8 +-
 src/pingus/prefab_file.cpp                    |   2 +-
 src/pingus/prefab_file.hpp                    |   4 +-
 src/pingus/res_descriptor.cpp                 |   4 +-
 src/pingus/res_descriptor.hpp                 |   6 +-
 src/pingus/resource.cpp                       |   4 +-
 src/pingus/resource.hpp                       |   4 +-
 src/pingus/resource_manager.cpp               |  10 +-
 src/pingus/resource_manager.hpp               |   4 +-
 src/pingus/result.hpp                         |   4 +-
 src/pingus/savegame.cpp                       |   8 +-
 src/pingus/savegame.hpp                       |   6 +-
 src/pingus/savegame_manager.cpp               |   4 +-
 src/pingus/savegame_manager.hpp               |   6 +-
 src/pingus/screens/addon_menu.cpp             |   4 +-
 src/pingus/screens/addon_menu.hpp             |   8 +-
 src/pingus/screens/credits.cpp                |  12 +--
 src/pingus/screens/credits.hpp                |   4 +-
 src/pingus/screens/demo_session.cpp           |  24 ++---
 src/pingus/screens/demo_session.hpp           |   6 +-
 src/pingus/screens/font_test_screen.cpp       |  32 +++---
 src/pingus/screens/font_test_screen.hpp       |   4 +-
 src/pingus/screens/game_session.cpp           |  16 +--
 src/pingus/screens/game_session.hpp           |   4 +-
 src/pingus/screens/level_menu.cpp             |  32 +++---
 src/pingus/screens/level_menu.hpp             |   8 +-
 src/pingus/screens/option_menu.cpp            |  24 ++---
 src/pingus/screens/option_menu.hpp            |   6 +-
 src/pingus/screens/pingus_menu.cpp            |  30 +++---
 src/pingus/screens/pingus_menu.hpp            |   6 +-
 src/pingus/screens/result_screen.cpp          |  18 ++--
 src/pingus/screens/result_screen.hpp          |   4 +-
 src/pingus/screens/start_screen.cpp           |  10 +-
 src/pingus/screens/start_screen.hpp           |   4 +-
 src/pingus/screens/story_screen.cpp           |  30 +++---
 src/pingus/screens/story_screen.hpp           |   4 +-
 src/pingus/server.cpp                         |   8 +-
 src/pingus/server.hpp                         |   4 +-
 src/pingus/server_event.cpp                   |  12 +--
 src/pingus/server_event.hpp                   |   4 +-
 src/pingus/smallmap_image.cpp                 |   4 +-
 src/pingus/smallmap_image.hpp                 |   6 +-
 src/pingus/stat_manager.cpp                   |   4 +-
 src/pingus/stat_manager.hpp                   |   4 +-
 src/pingus/state_sprite.cpp                   |   6 +-
 src/pingus/state_sprite.hpp                   |   6 +-
 src/pingus/string_format.cpp                  |  10 +-
 src/pingus/string_format.hpp                  |   4 +-
 src/pingus/world.cpp                          |   8 +-
 src/pingus/world.hpp                          |   4 +-
 src/pingus/worldmap/dot.cpp                   |   4 +-
 src/pingus/worldmap/dot.hpp                   |   4 +-
 src/pingus/worldmap/dot_factory.cpp           |   4 +-
 src/pingus/worldmap/dot_factory.hpp           |   4 +-
 src/pingus/worldmap/drawable.cpp              |   4 +-
 src/pingus/worldmap/drawable.hpp              |   4 +-
 src/pingus/worldmap/drawable_factory.cpp      |   4 +-
 src/pingus/worldmap/drawable_factory.hpp      |   4 +-
 src/pingus/worldmap/graph.cpp                 |   4 +-
 src/pingus/worldmap/graph.hpp                 |   4 +-
 src/pingus/worldmap/level_dot.cpp             |  12 +--
 src/pingus/worldmap/level_dot.hpp             |   4 +-
 src/pingus/worldmap/path.cpp                  |   6 +-
 src/pingus/worldmap/path.hpp                  |   4 +-
 src/pingus/worldmap/path_drawable.cpp         |   4 +-
 src/pingus/worldmap/path_drawable.hpp         |   4 +-
 src/pingus/worldmap/path_graph.cpp            |  18 ++--
 src/pingus/worldmap/path_graph.hpp            |   4 +-
 src/pingus/worldmap/pathfinder.hpp            |   8 +-
 src/pingus/worldmap/pingus.cpp                |   8 +-
 src/pingus/worldmap/pingus.hpp                |   4 +-
 src/pingus/worldmap/pingus_worldmap.cpp       |  14 +--
 src/pingus/worldmap/pingus_worldmap.hpp       |   6 +-
 src/pingus/worldmap/sprite_drawable.cpp       |   4 +-
 src/pingus/worldmap/sprite_drawable.hpp       |   4 +-
 src/pingus/worldmap/story_dot.cpp             |   4 +-
 src/pingus/worldmap/worldmap.cpp              |  16 +--
 src/pingus/worldmap/worldmap.hpp              |   6 +-
 src/pingus/worldmap/worldmap_component.cpp    |   6 +-
 src/pingus/worldmap/worldmap_component.hpp    |   6 +-
 src/pingus/worldmap/worldmap_screen.cpp       |  10 +-
 src/pingus/worldmap/worldmap_screen.hpp       |   4 +-
 src/pingus/worldmap/worldmap_story.cpp        |   8 +-
 src/pingus/worldmap/worldmap_story.hpp        |   6 +-
 src/pingus/worldobj.cpp                       |   4 +-
 src/pingus/worldobj.hpp                       |   6 +-
 src/pingus/worldobj_factory.cpp               |   6 +-
 src/pingus/worldobj_factory.hpp               |   4 +-
 src/pingus/worldobj_renderer.cpp              |   8 +-
 src/pingus/worldobj_renderer.hpp              |   4 +-
 src/pingus/worldobjs/conveyor_belt.cpp        |   4 +-
 src/pingus/worldobjs/conveyor_belt.hpp        |   4 +-
 src/pingus/worldobjs/entrance.cpp             |   4 +-
 src/pingus/worldobjs/entrance.hpp             |   4 +-
 src/pingus/worldobjs/exit.cpp                 |   4 +-
 src/pingus/worldobjs/exit.hpp                 |   4 +-
 src/pingus/worldobjs/fake_exit.cpp            |   8 +-
 src/pingus/worldobjs/fake_exit.hpp            |   4 +-
 src/pingus/worldobjs/groundpiece.cpp          |   8 +-
 src/pingus/worldobjs/groundpiece.hpp          |   4 +-
 src/pingus/worldobjs/guillotine.cpp           |   6 +-
 src/pingus/worldobjs/guillotine.hpp           |   6 +-
 src/pingus/worldobjs/hammer.cpp               |   4 +-
 src/pingus/worldobjs/hammer.hpp               |   4 +-
 src/pingus/worldobjs/hotspot.cpp              |   4 +-
 src/pingus/worldobjs/hotspot.hpp              |   4 +-
 src/pingus/worldobjs/ice_block.cpp            |   6 +-
 src/pingus/worldobjs/ice_block.hpp            |   4 +-
 src/pingus/worldobjs/laser_exit.cpp           |   4 +-
 src/pingus/worldobjs/laser_exit.hpp           |   4 +-
 src/pingus/worldobjs/liquid.cpp               |   6 +-
 src/pingus/worldobjs/liquid.hpp               |   4 +-
 src/pingus/worldobjs/rain_generator.cpp       |   4 +-
 src/pingus/worldobjs/rain_generator.hpp       |   4 +-
 src/pingus/worldobjs/smasher.cpp              |   6 +-
 src/pingus/worldobjs/smasher.hpp              |   4 +-
 src/pingus/worldobjs/snow_generator.cpp       |   4 +-
 src/pingus/worldobjs/snow_generator.hpp       |   4 +-
 .../worldobjs/solid_color_background.cpp      |   4 +-
 .../worldobjs/solid_color_background.hpp      |   4 +-
 src/pingus/worldobjs/spike.cpp                |   8 +-
 src/pingus/worldobjs/spike.hpp                |   4 +-
 src/pingus/worldobjs/starfield_background.cpp |   4 +-
 src/pingus/worldobjs/starfield_background.hpp |   4 +-
 .../worldobjs/starfield_background_stars.cpp  |   4 +-
 .../worldobjs/starfield_background_stars.hpp  |   4 +-
 src/pingus/worldobjs/surface_background.cpp   |  10 +-
 src/pingus/worldobjs/surface_background.hpp   |   4 +-
 src/pingus/worldobjs/switch_door_door.cpp     |   4 +-
 src/pingus/worldobjs/switch_door_switch.cpp   |   4 +-
 src/pingus/worldobjs/switch_door_switch.hpp   |   4 +-
 src/pingus/worldobjs/teleporter.cpp           |   4 +-
 src/pingus/worldobjs/teleporter.hpp           |   4 +-
 src/pingus/worldobjs/teleporter_target.cpp    |   4 +-
 src/pingus/worldobjs/teleporter_target.hpp    |   6 +-
 src/util/command_line.cpp                     |   4 +-
 src/util/command_line.hpp                     |  12 +--
 src/util/command_line_generic.cpp             |  96 ++++++++---------
 src/util/command_line_generic.hpp             |  12 +--
 src/util/file_reader.cpp                      |   6 +-
 src/util/file_reader.hpp                      |   4 +-
 src/util/file_reader_impl.hpp                 |   4 +-
 src/util/file_writer.hpp                      |   4 +-
 src/util/line_iterator.cpp                    |   8 +-
 src/util/line_iterator.hpp                    |   6 +-
 src/util/log.hpp                              |   4 +-
 src/util/memory_pool.hpp                      |  26 ++---
 src/util/overrride_file_reader.cpp            |   2 +-
 src/util/pathname.cpp                         |  24 ++---
 src/util/pathname.hpp                         |  18 ++--
 src/util/sexpr_file_reader.cpp                |  38 +++----
 src/util/sexpr_file_reader.hpp                |   4 +-
 src/util/sexpr_file_writer.cpp                |  18 ++--
 src/util/sexpr_file_writer.hpp                |   4 +-
 src/util/string_util.cpp                      |   4 +-
 src/util/string_util.hpp                      |  10 +-
 src/util/system.cpp                           |  32 +++---
 src/util/system.hpp                           |   8 +-
 src/util/utf8.cpp                             |  38 +++----
 src/util/utf8.hpp                             |  22 ++--
 test/input_test.cpp                           |   6 +-
 test/line_iterator_test.cpp                   |   2 +-
 test/memory_pool_test.cpp                     |   4 +-
 test/rect_merger_test.cpp                     |  20 ++--
 test/resource_manager_test.cpp                |   2 +-
 483 files changed, 2482 insertions(+), 2482 deletions(-)

diff --git a/extra/pingus-level-resave.cpp b/extra/pingus-level-resave.cpp
index 3441bcdb3..6c892b115 100644
--- a/extra/pingus-level-resave.cpp
+++ b/extra/pingus-level-resave.cpp
@@ -15,7 +15,7 @@ int main(int argc, char** argv)
 {
   g_path_manager.set_path("data");
   Resource::init();
- 
+
   Display::create_window(NULL_FRAMEBUFFER, Size(640, 480), false, false);
 
   Fonts::init();
@@ -23,7 +23,7 @@ int main(int argc, char** argv)
 
   for(int i = 1; i < argc; ++i)
   {
-    try 
+    try
     {
       std::cout << "Processing: " << argv[i] << " " << i << "/" << (argc-1) << std::endl;
       Pathname filename(argv[i], Pathname::SYSTEM_PATH);
diff --git a/extra/pingus-level-resource-check.cpp b/extra/pingus-level-resource-check.cpp
index 7ac46c698..83fdc8b1a 100644
--- a/extra/pingus-level-resource-check.cpp
+++ b/extra/pingus-level-resource-check.cpp
@@ -18,7 +18,7 @@ int main(int argc, char** argv)
 {
   g_path_manager.set_path("data");
   Resource::init();
- 
+
   Display::create_window(NULL_FRAMEBUFFER, Size(640, 480), false, false);
 
   Fonts::init();
@@ -26,7 +26,7 @@ int main(int argc, char** argv)
 
   for(int i = 1; i < argc; ++i)
   {
-    try 
+    try
     {
       std::cout << "Processing: " << argv[i] << " " << i << "/" << (argc-1) << std::endl;
       PingusLevel plf(Pathname(argv[i], Pathname::SYSTEM_PATH));
diff --git a/extra/pingus-level.cpp b/extra/pingus-level.cpp
index 8b45c3e68..053f7b1eb 100644
--- a/extra/pingus-level.cpp
+++ b/extra/pingus-level.cpp
@@ -9,7 +9,7 @@
 int main(int argc, char** argv)
 {
   std::vector<Pathname> files;
-  enum { 
+  enum {
     kAuthor      = (1<<0),
     kName        = (1<<1),
     kChecksum    = (1<<2),
@@ -41,8 +41,8 @@ int main(int argc, char** argv)
 
   while (argp.next())
   {
-    switch (argp.get_key()) 
-    {          
+    switch (argp.get_key())
+    {
       case 'h':
         argp.print_help();
         exit(EXIT_SUCCESS);
@@ -79,7 +79,7 @@ int main(int argc, char** argv)
       case 's':
         mode |= kSize;
         break;
-        
+
       case CommandLine::REST_ARG:
         files.push_back(Pathname(argp.get_argument(), Pathname::SYSTEM_PATH));
         break;
@@ -106,10 +106,10 @@ int main(int argc, char** argv)
         std::cout << "description   : " << plf.get_description() << std::endl;
         std::cout << "author        : " << plf.get_author() << std::endl;
         std::cout << "music         : " << plf.get_music() << std::endl;
-        std::cout << "ambient light : " 
+        std::cout << "ambient light : "
                   << static_cast<int>(plf.get_ambient_light().r) << " "
-                  << static_cast<int>(plf.get_ambient_light().g) << " " 
-                  << static_cast<int>(plf.get_ambient_light().b) << " " 
+                  << static_cast<int>(plf.get_ambient_light().g) << " "
+                  << static_cast<int>(plf.get_ambient_light().b) << " "
                   << static_cast<int>(plf.get_ambient_light().a)
                   << std::endl;
         std::cout << "objects       : " << plf.get_objects().size() << std::endl;
diff --git a/extra/pingus-level2png.cpp b/extra/pingus-level2png.cpp
index f7660912f..8acf06014 100644
--- a/extra/pingus-level2png.cpp
+++ b/extra/pingus-level2png.cpp
@@ -33,8 +33,8 @@ int main(int argc, char** argv)
 
   while (argp.next())
   {
-    switch (argp.get_key()) 
-    {          
+    switch (argp.get_key())
+    {
       case 'h':
         argp.print_help();
         exit(EXIT_SUCCESS);
@@ -53,7 +53,7 @@ int main(int argc, char** argv)
         break;
     }
   }
-  
+
   if (files.size() != 2)
   {
     argp.print_help();
@@ -67,7 +67,7 @@ int main(int argc, char** argv)
     // render all the objects
     WorldObjRenderer renderer;
     Size size;
-    
+
     if (System::get_file_extension(files[0].get_raw_path()) == "prefab")
     {
       PrefabFile prefab = PrefabFile::from_path(files[0]);
@@ -86,9 +86,9 @@ int main(int argc, char** argv)
     if (crop)
     {
       Rect rect = renderer.get_clip_rect();
-      
+
       out_surface = Surface(rect.get_width(), rect.get_height());
-      
+
       // FIXME: alpha doesn't work, as the PNG saver can't handle that
       out_surface.fill(Color(255, 255, 255, 255));
 
diff --git a/extra/pingus-levelset.cpp b/extra/pingus-levelset.cpp
index bacb4871d..970dae9e7 100644
--- a/extra/pingus-levelset.cpp
+++ b/extra/pingus-levelset.cpp
@@ -22,7 +22,7 @@
 int main(int argc, char** argv)
 {
   std::vector<Pathname> files;
-  enum { 
+  enum {
     kTitle       = (1<<0),
     kDescription = (1<<1),
     kLevels      = (1<<2),
@@ -46,8 +46,8 @@ int main(int argc, char** argv)
 
   while (argp.next())
   {
-    switch (argp.get_key()) 
-    {          
+    switch (argp.get_key())
+    {
       case 'h':
         argp.print_help();
         exit(EXIT_SUCCESS);
diff --git a/extra/sprite-view.cpp b/extra/sprite-view.cpp
index bad0ac5e8..04cc3ca4e 100644
--- a/extra/sprite-view.cpp
+++ b/extra/sprite-view.cpp
@@ -17,7 +17,7 @@ int main(int argc, char** argv)
 {
   g_path_manager.set_path("data");
   Resource::init();
- 
+
   Display::create_window(OPENGL_FRAMEBUFFER, Size(800, 600), false, false);
 
   Fonts::init();
diff --git a/src/editor/action_properties.cpp b/src/editor/action_properties.cpp
index 68f27c3b1..de2b8f9a0 100644
--- a/src/editor/action_properties.cpp
+++ b/src/editor/action_properties.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -26,7 +26,7 @@ namespace Editor {
 
 /*
  *
- * ActionDialog: 
+ * ActionDialog:
  * [active] [Actionname] [count]
  *
  */
@@ -62,7 +62,7 @@ ActionProperties::draw_background(DrawingContext& gc)
 void
 ActionProperties::update (float delta)
 {
-  
+
 }
 
 void
@@ -74,7 +74,7 @@ ActionProperties::add_action(ActionName::Enum id)
 
   comp.checkbox->set_checked(true);
   comp.inputbox->set_text("20");
-   
+
   action_comps[id] = comp;
 
   comp.checkbox->on_change.connect(std::bind(&ActionProperties::on_checkbox_change, this, std::placeholders::_1, id));
@@ -111,7 +111,7 @@ ActionProperties::on_checkbox_change(bool t, ActionName::Enum id)
 {
   if (t)
   {
-    level->set_action(ActionName::to_string(id), 
+    level->set_action(ActionName::to_string(id),
                       StringUtil::to<int>(action_comps[id].inputbox->get_text()));
   }
   else
diff --git a/src/editor/action_properties.hpp b/src/editor/action_properties.hpp
index ffb7cb8ac..d858e9be3 100644
--- a/src/editor/action_properties.hpp
+++ b/src/editor/action_properties.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -50,8 +50,8 @@ public:
   ~ActionProperties();
 
   void draw_background(DrawingContext& gc);
-  void update (float delta); 
-  
+  void update (float delta);
+
   void add_action(ActionName::Enum id);
 
   void set_level(EditorLevel* level);
diff --git a/src/editor/button.cpp b/src/editor/button.cpp
index 85ef51968..e92d32bc7 100644
--- a/src/editor/button.cpp
+++ b/src/editor/button.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -22,7 +22,7 @@
 namespace Editor {
 
 Button::Button(const Rect& rect_, const std::string& text_) :
-  RectComponent(rect_), 
+  RectComponent(rect_),
   text(text_),
   mouse_over(false),
   mouse_down(false),
@@ -47,43 +47,43 @@ Button::draw (DrawingContext& gc)
     else if (mouse_over)
       GUIStyle::draw_raised_box(gc, rect, Color(255, 255, 255), 2);
     else
-      GUIStyle::draw_raised_box(gc, rect, Color(237, 233, 227), 2);  
+      GUIStyle::draw_raised_box(gc, rect, Color(237, 233, 227), 2);
   }
 
-  gc.print_center(Fonts::verdana11, 
+  gc.print_center(Fonts::verdana11,
                   Vector2i(rect.left + rect.get_width()/2, rect.top + rect.get_height()/2 - 6),
                   text);
 }
 
 void
 Button::update (float delta)
-{  
+{
 }
 
 void
-Button::on_pointer_enter () 
+Button::on_pointer_enter ()
 {
   mouse_over = true;
 }
 
 void
-Button::on_pointer_leave () 
+Button::on_pointer_leave ()
 {
   mouse_over = false;
 }
-  
+
 void
-Button::on_primary_button_press (int x, int y) 
+Button::on_primary_button_press (int x, int y)
 {
   mouse_down = true;
 }
 
 void
-Button::on_primary_button_release (int x, int y) 
-{ 
+Button::on_primary_button_release (int x, int y)
+{
   mouse_down = false;
   if (mouse_over)
-    on_click();    
+    on_click();
 }
 
 } // namespace Editor
diff --git a/src/editor/button.hpp b/src/editor/button.hpp
index d89dfe669..ddcd5dfcb 100644
--- a/src/editor/button.hpp
+++ b/src/editor/button.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,7 +37,7 @@ public:
   void draw (DrawingContext& gc);
   void update (float delta);
   void update_layout() {}
-  
+
   void set_text(const std::string& text);
 
   void on_pointer_enter();
diff --git a/src/editor/checkbox.cpp b/src/editor/checkbox.cpp
index 399ad7516..4672900f4 100644
--- a/src/editor/checkbox.cpp
+++ b/src/editor/checkbox.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -42,9 +42,9 @@ Checkbox::draw(DrawingContext& gc)
     GUIStyle::draw_raised_box(gc, rect);
 
   if (!label.empty())
-    gc.print_center(Fonts::verdana11, 
-                    Vector2i(rect.left + rect.get_width()/2, 
-                             rect.top + rect.get_height()/2 - Fonts::verdana11.get_height()/2), 
+    gc.print_center(Fonts::verdana11,
+                    Vector2i(rect.left + rect.get_width()/2,
+                             rect.top + rect.get_height()/2 - Fonts::verdana11.get_height()/2),
                     label);
 }
 
@@ -56,7 +56,7 @@ Checkbox::on_primary_button_press(int x, int y)
 }
 
 void
-Checkbox::set_checked(bool t) 
+Checkbox::set_checked(bool t)
 {
   checked = t;
   //on_change(checked);
diff --git a/src/editor/checkbox.hpp b/src/editor/checkbox.hpp
index 66382d79b..7a680a5c8 100644
--- a/src/editor/checkbox.hpp
+++ b/src/editor/checkbox.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -35,13 +35,13 @@ public:
 
   void draw(DrawingContext& gc);
   void update_layout() {}
-  
+
   void set_checked(bool t);
   bool is_checked() const { return checked; }
   void on_primary_button_press(int x, int y);
 
   boost::signals2::signal<void (bool)> on_change;
- 
+
 private:
   Checkbox (const Checkbox&);
   Checkbox& operator= (const Checkbox&);
diff --git a/src/editor/combobox.cpp b/src/editor/combobox.cpp
index f644acc19..46d8d3375 100644
--- a/src/editor/combobox.cpp
+++ b/src/editor/combobox.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -73,7 +73,7 @@ Combobox::on_primary_button_press(int x, int y)
     // Determine which item was selected, if any, and set the current item to it.
     drop_down = false;
     ungrab();
-      
+
     if (hover_item != -1)
     {
       current_item = hover_item;
@@ -85,7 +85,7 @@ Combobox::on_primary_button_press(int x, int y)
     drop_down = true;
     grab();
 
-    list_rect = Rect(Vector2i(rect.left, 
+    list_rect = Rect(Vector2i(rect.left,
                               rect.top + get_box_offset()),
                      Size(rect.get_width(),
                           rect.get_height() * static_cast<int>(item_list.size())));
@@ -104,8 +104,8 @@ Combobox::draw(DrawingContext &gc)
 
     if (current_item != -1)
     {
-      gc.print_left(Fonts::verdana11, 
-                    Vector2i(rect.left + 5, 
+      gc.print_left(Fonts::verdana11,
+                    Vector2i(rect.left + 5,
                              rect.top + rect.get_height()/2 - Fonts::verdana11.get_height()/2),
                     item_list[current_item].label);
     }
@@ -122,8 +122,8 @@ Combobox::draw(DrawingContext &gc)
                               Size(rect.get_width(), rect.get_height())),
                          Color(150,200,255), 95);
 
-      gc.print_left(Fonts::verdana11, 
-                    Vector2i(list_rect.left + 5, 
+      gc.print_left(Fonts::verdana11,
+                    Vector2i(list_rect.left + 5,
                              list_rect.top + i * rect.get_height() + rect.get_height()/2 - Fonts::verdana11.get_height()/2),
                     item_list[i].label, 100);
     }
@@ -151,7 +151,7 @@ Combobox::set_selected_item(int id)
       current_item = i;
       return true;
     }
-  return false;  
+  return false;
 }
 
 void
@@ -171,6 +171,6 @@ Combobox::on_pointer_move(int x, int y)
   }
 }
 
-} // namespace Editor 
+} // namespace Editor
 
 /* EOF */
diff --git a/src/editor/combobox.hpp b/src/editor/combobox.hpp
index 603556bd9..294e9a6a1 100644
--- a/src/editor/combobox.hpp
+++ b/src/editor/combobox.hpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -24,7 +24,7 @@
 #include "engine/gui/rect_component.hpp"
 
 namespace Editor {
-      
+
 /** A ComboItems holds a specific item in a Combobox (string, id, etc.) */
 class ComboItem
 {
@@ -81,13 +81,13 @@ public:
   /** Gets emmited when a button is pressed and released over the
       same component */
   void on_primary_button_press(int x, int y);
-  
+
   void on_pointer_move(int x, int y);
-  
+
   int get_box_offset();
-  
+
   void update_layout() {}
-  
+
   boost::signals2::signal<void (const ComboItem&)> on_select;
 
 private:
@@ -97,7 +97,7 @@ private:
 
 };
 
-} // namespace Editor 
+} // namespace Editor
 
 #endif
 
diff --git a/src/editor/editor_level.cpp b/src/editor/editor_level.cpp
index b4d455e30..9312e0022 100644
--- a/src/editor/editor_level.cpp
+++ b/src/editor/editor_level.cpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -66,7 +66,7 @@ public:
   ~LevelImpl()
   {
   }
-                   
+
   std::string resname;
 
   std::string levelname;
@@ -81,7 +81,7 @@ public:
   std::map<std::string, int> actions;
 
   int time;
-  
+
   std::string author;
   std::string music;
 
@@ -101,7 +101,7 @@ EditorLevel::from_level_file(const Pathname& pathname)
   PingusLevel plf(pathname);
 
   std::unique_ptr<EditorLevel> level(new EditorLevel);
-        
+
   // Assign all of the level information to our LevelImpl
   level->impl->levelname        = plf.get_levelname();
   level->impl->description      = plf.get_description();
@@ -113,7 +113,7 @@ EditorLevel::from_level_file(const Pathname& pathname)
   level->impl->time             = plf.get_time();
   level->impl->author           = plf.get_author();
   level->impl->music            = plf.get_music();
-  
+
   // remove obsolete "none" tag
   if (level->impl->music == "none")
   {
@@ -161,14 +161,14 @@ EditorLevel::from_prefab_file(const Pathname& pathname)
     if (obj)
     {
       // move origin of the level to the center of it
-      obj->set_pos(obj->get_pos() + Vector3f(static_cast<float>(level->impl->size.width)/2.0f, 
+      obj->set_pos(obj->get_pos() + Vector3f(static_cast<float>(level->impl->size.width)/2.0f,
                                              static_cast<float>(level->impl->size.height)/2.0f));
 
       level->add_object(obj);
     }
   }
 
-  level->sort(); 
+  level->sort();
 
   return level;
 }
@@ -205,11 +205,11 @@ EditorLevel::save_prefab(const std::string& filename)
   std::ostringstream out_file;
 
   SExprFileWriter fw(out_file);
-        
+
   // Write header
   fw.begin_section("pingus-prefab");
   fw.write_int("version", 3);
- 
+
   Vector3f level_center(static_cast<float>(get_size().width)/2.0f,
                         static_cast<float>(get_size().height)/2.0f);
 
@@ -226,7 +226,7 @@ EditorLevel::save_prefab(const std::string& filename)
   fw.end_section();     // pingus-prefab
 
   out_file << "\n\n;; EOF ;;" << std::endl;
-        
+
   // Write the file
   System::write_file(filename, out_file.str());
 }
@@ -243,7 +243,7 @@ EditorLevel::save_level(const std::string& filename)
   std::ostringstream out_file;
 
   SExprFileWriter fw(out_file);
-        
+
   // Write header
   fw.begin_section("pingus-level");
   fw.write_int("version", 3);
@@ -256,7 +256,7 @@ EditorLevel::save_level(const std::string& filename)
   fw.write_int("number-to-save", impl->number_to_save);
   fw.write_int("time", impl->time);
   fw.write_string("music", impl->music);
-        
+
   // Write the list of actions to the file
   fw.begin_section("actions");
   for (auto i = impl->actions.begin(); i != impl->actions.end(); i++)
@@ -280,7 +280,7 @@ EditorLevel::save_level(const std::string& filename)
   fw.end_section();     // pingus-level
 
   out_file << "\n\n;; EOF ;;" << std::endl;
-        
+
   // Write the file
   System::write_file(filename, out_file.str());
 }
@@ -488,7 +488,7 @@ EditorLevel::lower_object(LevelObjPtr obj)
       impl->objects.insert(--(j.base()), obj);
     }
   }
-}  
+}
 
 EditorLevel::Objects*
 EditorLevel::get_objects()
@@ -496,7 +496,7 @@ EditorLevel::get_objects()
   return &(impl->objects);
 }
 
-void 
+void
 EditorLevel::add_object(LevelObjPtr obj)
 {
   impl->objects.push_back(obj);
diff --git a/src/editor/editor_level.hpp b/src/editor/editor_level.hpp
index 3c43e40c9..9ebc2cf6c 100644
--- a/src/editor/editor_level.hpp
+++ b/src/editor/editor_level.hpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -52,7 +52,7 @@ public:
 
   Size get_size() const;
   void set_size(const Size& s);
-  
+
   void set_description(const std::string& str);
   void set_levelname(const std::string& str);
   void set_author(const std::string& str);
@@ -76,7 +76,7 @@ public:
   /** Sorts the level according to the objects z-pos */
   void sort();
 
-  void set_action(const std::string& actionname, int count); 
+  void set_action(const std::string& actionname, int count);
   std::map<std::string, int> get_actions() const;
 
   void raise_object(LevelObjPtr obj);
diff --git a/src/editor/editor_screen.cpp b/src/editor/editor_screen.cpp
index d7097e15b..c6c490f5c 100644
--- a/src/editor/editor_screen.cpp
+++ b/src/editor/editor_screen.cpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -54,10 +54,10 @@ EditorScreen::EditorScreen() :
 {
   // Create the viewport for the images and data
   viewport = new Viewport(this, Rect(0, 38,
-                                     size.width - 244, 
+                                     size.width - 244,
                                      size.height));
   gui_manager->add(viewport);
-        
+
   // Create the panel for the buttons
   panel = new Panel(this);
 
@@ -79,16 +79,16 @@ EditorScreen::EditorScreen() :
 
   object_selector = gui_manager->create<ObjectSelector>(this, Rect());
 
-  file_load_dialog = gui_manager->create<FileDialog>(this, Rect(Vector2i(50, 50), 
-                                                                Size(size.width  - 100, 
-                                                                     size.height - 100)), 
+  file_load_dialog = gui_manager->create<FileDialog>(this, Rect(Vector2i(50, 50),
+                                                                Size(size.width  - 100,
+                                                                     size.height - 100)),
                                                      FileDialog::LOAD);
   file_load_dialog->set_directory(".");
   file_load_dialog->hide();
 
-  file_save_dialog = gui_manager->create<FileDialog>(this, Rect(Vector2i(50, 50), 
-                                                                Size(Display::get_width() - 100, 
-                                                                     Display::get_height() - 100)), 
+  file_save_dialog = gui_manager->create<FileDialog>(this, Rect(Vector2i(50, 50),
+                                                                Size(Display::get_width() - 100,
+                                                                     Display::get_height() - 100)),
                                                      FileDialog::SAVE);
   file_save_dialog->set_directory(".");
   file_save_dialog->hide();
@@ -97,7 +97,7 @@ EditorScreen::EditorScreen() :
     Size msg_size(600, 160);
 
     m_level_new_msgbox = gui_manager->create<MessageBox>(Rect(Vector2i((Display::get_width() - msg_size.width)/2,
-                                                                       (Display::get_height() - msg_size.height)/2), 
+                                                                       (Display::get_height() - msg_size.height)/2),
                                                               msg_size));
     m_level_new_msgbox->set_title("Create new level");
     m_level_new_msgbox->set_text("Replace current level with an empty new one?");
@@ -145,7 +145,7 @@ EditorScreen::on_action_down_press()
 }
 
 // Save the current level
-void 
+void
 EditorScreen::save(const Pathname& file)
 {
   std::string filename = file.get_sys_path();
@@ -173,14 +173,14 @@ EditorScreen::set_level(std::unique_ptr<EditorLevel> level)
 
   level_properties->set_level(plf.get());
   action_properties->set_level(plf.get());
-  viewport->refresh();   
+  viewport->refresh();
 }
 
 // Load a new level
-void 
+void
 EditorScreen::load(const Pathname& file)
 {
-  try 
+  try
   {
     std::string filename = file.get_sys_path();
 
@@ -209,7 +209,7 @@ EditorScreen::draw(DrawingContext& gc)
   // Black out screen
   //gc.fill_screen(Color(255,0,255)); // FIXME: Could be removed for added speed
   gui_manager->draw(gc);
-  
+
   if (show_help)
   {
     Size size_(640, 400);
@@ -218,12 +218,12 @@ EditorScreen::draw(DrawingContext& gc)
                           gc.get_width()/2  + size_.width/2 + 2,
                           gc.get_height()/2 + size_.height/2 + 2),
                      Color(0,0,0));
-    gc.draw_fillrect(Rect(gc.get_width()/2  - size_.width/2, 
+    gc.draw_fillrect(Rect(gc.get_width()/2  - size_.width/2,
                           gc.get_height()/2 - size_.height/2,
-                          gc.get_width()/2  + size_.width/2, 
+                          gc.get_width()/2  + size_.width/2,
                           gc.get_height()/2 + size_.height/2),
                      Color(255,255,255));
-      
+
     gc.print_center(Fonts::verdana11,
                     Vector2i(gc.get_width()/2,
                              gc.get_height()/2 - size_.height/2 + 12),
@@ -322,22 +322,22 @@ EditorScreen::level_new_without_confirm()
   set_level(std::unique_ptr<EditorLevel>(new EditorLevel));
 }
 
-void 
+void
 EditorScreen::level_new()
 {
   m_level_new_msgbox->show();
 }
 
-void 
+void
 EditorScreen::level_load()
 {
   if (file_load_dialog->is_visible())
     file_load_dialog->hide();
-  else 
+  else
     file_load_dialog->show();
 }
 
-void 
+void
 EditorScreen::level_save()
 {
   if (level_pathname.empty())
@@ -346,16 +346,16 @@ EditorScreen::level_save()
   }
   else
   {
-    save(level_pathname); 
+    save(level_pathname);
   }
 }
 
-void 
+void
 EditorScreen::level_save_as()
 {
   if (file_save_dialog->is_visible())
     file_save_dialog->hide();
-  else 
+  else
     file_save_dialog->show();
 }
 
@@ -374,66 +374,66 @@ EditorScreen::objects_duplicate()
   viewport->duplicate_selected_objects();
 }
 
-void 
+void
 EditorScreen::objects_delete()
 {
   viewport->delete_selected_objects();
 }
 
-void 
+void
 EditorScreen::objects_raise_to_top()
 {
   viewport->raise_objects_to_top();
 }
 
-void 
+void
 EditorScreen::objects_raise()
 {
   viewport->raise_objects();
 }
 
-void 
+void
 EditorScreen::objects_lower()
 {
   viewport->lower_objects();
 }
 
-void 
+void
 EditorScreen::objects_lower_to_bottom()
 {
   viewport->lower_objects_to_bottom();
 }
 
-void 
+void
 EditorScreen::objects_flip_vertical()
 {
   viewport->vflip_selected_objects();
 }
 
-void 
+void
 EditorScreen::objects_flip_horizontal()
 {
   viewport->hflip_selected_objects();
 }
 
-void 
+void
 EditorScreen::objects_rotate_left()
 {
   viewport->rotate_270_selected_objects();
 }
 
-void 
+void
 EditorScreen::objects_rotate_right()
 {
   viewport->rotate_90_selected_objects();
 }
 
-void 
+void
 EditorScreen::toggle_grid_snap()
 {
-  log_info("not implemented"); 
+  log_info("not implemented");
 }
- 
+
 void
 EditorScreen::toggle_minimap()
 {
@@ -445,18 +445,18 @@ EditorScreen::toggle_minimap()
   update_layout();
 }
 
-void 
+void
 EditorScreen::toggle_object_selector()
 {
   if (object_selector->is_visible())
     object_selector->hide();
   else
     object_selector->show();
-  
+
   update_layout();
 }
 
-void 
+void
 EditorScreen::toggle_help()
 {
   show_help = !show_help;
@@ -502,7 +502,7 @@ EditorScreen::toggle_level_properties()
 void
 EditorScreen::exit()
 {
-  ScreenManager::instance()->pop_screen();  
+  ScreenManager::instance()->pop_screen();
 }
 
 void
@@ -521,23 +521,23 @@ EditorScreen::update_layout()
   if (object_selector->is_visible())
   {
     viewport->set_rect(Rect(0, 38, size_.width - 244, size_.height));
-    level_properties->set_rect(Rect(Vector2i(0,38), Size(size_.width-244, 258))); 
+    level_properties->set_rect(Rect(Vector2i(0,38), Size(size_.width-244, 258)));
   }
   else
   {
     viewport->set_rect(Rect(0, 38, size_.width, size_.height));
-    level_properties->set_rect(Rect(Vector2i(0,38), Size(size_.width, 258))); 
+    level_properties->set_rect(Rect(Vector2i(0,38), Size(size_.width, 258)));
   }
 
   action_properties->set_rect(Rect(Vector2i(0, 38), Size(150, 240)));
 
-  object_properties->set_rect(Rect(Vector2i(0, size_.height - object_properties->get_rect().get_height()), 
+  object_properties->set_rect(Rect(Vector2i(0, size_.height - object_properties->get_rect().get_height()),
                                    Size(object_properties->get_rect().get_width(),
                                         object_properties->get_rect().get_height())));
-  
-  file_load_dialog->set_rect(Rect(Vector2i(50, 50), Size(size_.width  - 100, 
+
+  file_load_dialog->set_rect(Rect(Vector2i(50, 50), Size(size_.width  - 100,
                                                          size_.height - 100)));
-  file_save_dialog->set_rect(Rect(Vector2i(50, 50), Size(size_.width  - 100, 
+  file_save_dialog->set_rect(Rect(Vector2i(50, 50), Size(size_.width  - 100,
                                                          size_.height - 100)));
 }
 
@@ -549,14 +549,14 @@ EditorScreen::resize(const Size& size_)
   {
     Size msg_size(600, 160);
     m_level_new_msgbox->set_rect(Rect(Vector2i((Display::get_width()  - msg_size.width)/2,
-                                               (Display::get_height() - msg_size.height)/2), 
+                                               (Display::get_height() - msg_size.height)/2),
                                       msg_size));
   }
 
   update_layout();
 }
 
-} // namespace Editor 
+} // namespace Editor
 
 /* EOF */
 
diff --git a/src/editor/editor_screen.hpp b/src/editor/editor_screen.hpp
index 25d97b357..17ec64d15 100644
--- a/src/editor/editor_screen.hpp
+++ b/src/editor/editor_screen.hpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -47,7 +47,7 @@ class EditorScreen : public GUIScreen
 private:
   std::unique_ptr<EditorLevel> plf;
   Pathname level_pathname;
-  
+
   Panel* panel;
   Viewport*   viewport;
   ObjectSelector*   object_selector;
@@ -60,7 +60,7 @@ private:
   FileDialog*       file_save_dialog;
 
   MessageBox* m_level_new_msgbox;
-  
+
   bool show_help;
 
 public:
@@ -86,7 +86,7 @@ public:
 
   /** Return the gui_manager */
   GUI::GUIManager* get_gui_manager() const { return gui_manager.get(); }
-        
+
   /** Return the viewport */
   Viewport* get_viewport() const { return viewport; }
 
@@ -94,7 +94,7 @@ public:
 
   /** Return a pointer to the current level */
   EditorLevel* get_level() const { return plf.get(); }
-  
+
   /** Show a file dialog box */
   void show_file_dialog(bool for_loading);
 
@@ -151,7 +151,7 @@ private:
   EditorScreen& operator= (const EditorScreen&);
 };
 
-} // namespace Editor 
+} // namespace Editor
 
 #endif
 
diff --git a/src/editor/file_dialog.cpp b/src/editor/file_dialog.cpp
index dc52017cc..26fcbede1 100644
--- a/src/editor/file_dialog.cpp
+++ b/src/editor/file_dialog.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -58,13 +58,13 @@ FileDialog::FileDialog(EditorScreen* editor_, const Rect& rect_, Mode mode_) :
                                        Size(100, 30)), _("Datadir"));
   userdir_button = create<Button>(Rect(Vector2i(4 + 110, rect.get_height() - 4 - 30),
                                        Size(100, 30)), _("Userdir"));
-  
+
   open_button = create<Button>(Rect(Vector2i(rect.get_width() - 104, rect.get_height() - 4 - 30),
                                     Size(100, 30)), mode == LOAD ? _("Open") : _("Save"));
-  
+
   cancel_button = create<Button>(Rect(Vector2i(rect.get_width() - 104 - 104, rect.get_height() - 4 - 30),
                                       Size(100, 30)), _("Cancel"));
-  
+
   up_button->on_click.connect(std::bind(&FileDialog::on_up, this));
   down_button->on_click.connect(std::bind(&FileDialog::on_down, this));
 
@@ -76,10 +76,10 @@ FileDialog::FileDialog(EditorScreen* editor_, const Rect& rect_, Mode mode_) :
 
   filename_label = create<Label>(Rect(6, 4+30, 4 + 60, 26+30), _("Filename:"));
   pathname_label = create<Label>(Rect(6, 4+60, 4 + 60, 26+60), _("Pathname:"));
-  
+
   filename_inputbox = create<Inputbox>(Rect(4 + 60, 4+30, rect.get_width()-4, 26+30));
   pathname_inputbox = create<Inputbox>(Rect(4 + 60, 4+60, rect.get_width()-4, 26+60));
-  
+
   filename_inputbox->on_enter.connect(std::bind(&FileDialog::on_filename_enter, this));
   pathname_inputbox->on_enter.connect(std::bind(&FileDialog::on_pathname_change, this));
 }
@@ -91,13 +91,13 @@ FileDialog::~FileDialog()
 void
 FileDialog::draw_background(DrawingContext& gc)
 {
-  // Window border and title 
+  // Window border and title
   GUIStyle::draw_raised_box(gc, Rect(0,0,rect.get_width(), rect.get_height()));
   gc.draw_fillrect(Rect(4,4,rect.get_width()-4, 30), Color(77,130,180));
-  gc.print_center(Fonts::pingus_small, Vector2i(rect.get_width()/2, 2), 
+  gc.print_center(Fonts::pingus_small, Vector2i(rect.get_width()/2, 2),
                   mode == LOAD ? _("Open a level") : _("Save your level"));
 }
-  
+
 void
 FileDialog::load_file(const System::DirectoryEntry& entry)
 { // called when somebody clicks a file
@@ -110,7 +110,7 @@ FileDialog::load_file(const System::DirectoryEntry& entry)
   else
   {
     filename_inputbox->set_text(entry.name);
-  }  
+  }
 }
 
 void
@@ -155,7 +155,7 @@ FileDialog::on_open()
       editor->load(file);
       hide();
     }
-    else if (mode == SAVE) 
+    else if (mode == SAVE)
     {
       Pathname file(Pathname::join(pathname_inputbox->get_text(), filename_inputbox->get_text()),
                     Pathname::SYSTEM_PATH);
@@ -187,18 +187,18 @@ FileDialog::update_layout()
 
   file_list->set_rect(Rect(4, 30 + 30 + 30,
                            rect.get_width()-4 - 30, rect.get_height() - 4 - 35));
-  
+
   Rect file_rect = file_list->get_rect();
 
   up_button->set_rect(Rect(file_rect.right + 2, file_rect.top,
                            rect.get_width()-4, file_rect.top + file_rect.get_height()/2 - 1));
-                     
+
   down_button->set_rect(Rect(file_rect.right + 2, file_rect.top + file_rect.get_height()/2 + 1,
                              rect.get_width()-4, file_rect.bottom));
-  
+
   open_button->set_rect(Rect(Vector2i(rect.get_width() - 104, rect.get_height() - 4 - 30),
                              Size(100, 30)));
-  
+
   cancel_button->set_rect(Rect(Vector2i(rect.get_width() - 104 - 104, rect.get_height() - 4 - 30),
                                Size(100, 30)));
 
@@ -211,13 +211,13 @@ FileDialog::update_layout()
 
 void
 FileDialog::on_userdir()
-{ 
+{
   set_directory(System::get_userdir() + "levels/");
 }
 
 void
 FileDialog::on_datadir()
-{ 
+{
   set_directory(Pathname("levels/", Pathname::DATA_PATH).get_sys_path());
 }
 
@@ -250,7 +250,7 @@ FileDialog::update_button_state()
   else
     down_button->disable();
 }
-  
+
 } // namespace Editor
 
 /* EOF */
diff --git a/src/editor/file_dialog.hpp b/src/editor/file_dialog.hpp
index 7494c5086..4e6c803bb 100644
--- a/src/editor/file_dialog.hpp
+++ b/src/editor/file_dialog.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -29,7 +29,7 @@ class Label;
 
 class FileDialog : public GUI::GroupComponent
 {
-public: 
+public:
   enum Mode { LOAD, SAVE };
 private:
   EditorScreen* editor;
@@ -53,7 +53,7 @@ private:
 public:
   FileDialog(EditorScreen* editor, const Rect& rect, Mode mode);
   ~FileDialog();
-  
+
   void draw_background(DrawingContext& gc);
   void update_layout();
 
@@ -66,7 +66,7 @@ private:
 
   void on_up();
   void on_down();
-  
+
   void on_datadir();
   void on_userdir();
 
diff --git a/src/editor/file_list.cpp b/src/editor/file_list.cpp
index ea274f8f9..896463e1f 100644
--- a/src/editor/file_list.cpp
+++ b/src/editor/file_list.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -40,7 +40,7 @@ FileList::FileList(const Rect& rect_) :
 }
 
 void
-FileList::update_layout() 
+FileList::update_layout()
 {
   hspace = rect.get_width()/2;
   vspace = 20;
@@ -48,7 +48,7 @@ FileList::update_layout()
   num_pages = static_cast<int>(directory.size()) / items_per_page();
   if ((directory.size() % items_per_page()) != 0 || num_pages == 0)
     num_pages += 1;
-  
+
   if (page >= num_pages)
     page = num_pages-1;
 }
@@ -124,7 +124,7 @@ FileList::draw(DrawingContext& gc)
       else
         gc.draw_rect(Rect(x, y, x + hspace, y + vspace), Color(0, 0, 255));
     }
-      
+
     gc.print_left(Fonts::verdana11, Vector2i(x + 4, y + 3),
                   ((i->type == System::DE_DIRECTORY) ? "[DIR]  " : "[FILE] ") + i->name);
 
@@ -165,7 +165,7 @@ FileList::on_pointer_move (int x, int y)
     + Math::clamp(0, x / hspace, rect.get_width() / hspace - 1) * (rect.get_height()/vspace);
 
   current_item += page * items_per_page();
-  
+
   if (current_item < 0 || current_item >= int(directory.size()))
     current_item = -1;
 }
diff --git a/src/editor/file_list.hpp b/src/editor/file_list.hpp
index 85efe6aa0..2164ccc36 100644
--- a/src/editor/file_list.hpp
+++ b/src/editor/file_list.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -39,16 +39,16 @@ private:
   int click_item;
   int page;
   int num_pages;
-  
+
 public:
   FileList(const Rect& rect);
 
   void draw (DrawingContext& gc);
   void update (float delta);
-  
+
   void update_layout();
   std::string get_direction() const { return m_direction; }
-  void set_directory(const std::string& pathname, const std::string& pattern = "*"); 
+  void set_directory(const std::string& pathname, const std::string& pattern = "*");
 
   void on_pointer_move (int x, int y);
 
diff --git a/src/editor/generic_level_obj.cpp b/src/editor/generic_level_obj.cpp
index b781f43cd..ac53e50a3 100644
--- a/src/editor/generic_level_obj.cpp
+++ b/src/editor/generic_level_obj.cpp
@@ -149,7 +149,7 @@ GenericLevelObj::get_attributes(std::string obj_type)
   }
 }
 
-void 
+void
 GenericLevelObj::set_res_desc(const ResDescriptor d)
 {
   desc = d;
@@ -162,7 +162,7 @@ GenericLevelObj::draw(DrawingContext &gc)
 {
   if (attribs & HAS_COLOR && section_name == "surface-background")
   {
-    gc.draw(sprite, pos);        
+    gc.draw(sprite, pos);
     gc.draw_fillrect(get_rect(), color, pos.z);
   }
   else if (attribs & HAS_SPRITE || attribs & HAS_SPRITE_FAKE)
@@ -191,7 +191,7 @@ GenericLevelObj::draw(DrawingContext &gc)
     else
     {
       gc.draw(sprite, pos);
-    }  
+    }
   }
 }
 
@@ -226,19 +226,19 @@ GenericLevelObj::is_at(int x, int y)
 
 void
 GenericLevelObj::set_stretch_x(const bool s)
-{ 
+{
   stretch_x = s;
 }
 
 void
 GenericLevelObj::set_stretch_y(const bool s)
-{ 
+{
   stretch_y = s;
 }
 
 void
 GenericLevelObj::set_keep_aspect(const bool a)
-{ 
+{
   keep_aspect = a;
 }
 
@@ -266,7 +266,7 @@ GenericLevelObj::set_modifier(ResourceModifier::Enum modifier)
   if (attribs & CAN_ROTATE)
   {
     desc.modifier = modifier;
-    refresh_sprite();  
+    refresh_sprite();
   }
 }
 
@@ -299,7 +299,7 @@ GenericLevelObj::write_properties(FileWriter &fw)
   }
 
   fw.write_vector("position", pos);
-      
+
   if (attribs_ & HAS_SPEED)
     fw.write_int("speed", speed);
   if (attribs_ & HAS_PARALLAX)
@@ -353,7 +353,7 @@ GenericLevelObj::write_properties(FileWriter &fw)
 
   // Writes any extra properties that may be necessary (virtual function)
   write_extra_properties(fw);
-      
+
   fw.end_section();     // object's section_name
 }
 
@@ -440,13 +440,13 @@ GenericLevelObj::load_generic_surface()
   }
   else if (section_name == "iceblock")
   {
-    desc.res_name = "worldobjs/iceblock";    
+    desc.res_name = "worldobjs/iceblock";
     desc.modifier = ResourceModifier::ROT0;
     sprite = Sprite(desc);
   }
   else if (section_name == "conveyorbelt")
   {
-    desc.res_name = "worldobjs/conveyorbelt_middle";    
+    desc.res_name = "worldobjs/conveyorbelt_middle";
     desc.modifier = ResourceModifier::ROT0;
     sprite = Sprite(desc);
   }
@@ -454,7 +454,7 @@ GenericLevelObj::load_generic_surface()
   {
     desc.res_name = "worldobjs/switchdoor_box";
     desc.modifier = ResourceModifier::ROT0;
-    sprite = Sprite(desc);   
+    sprite = Sprite(desc);
   }
   else if (section_name == "switchdoor-switch")
   {
@@ -506,6 +506,6 @@ GenericLevelObj::duplicate(const Vector2i& offset) const
   return obj;
 }
 
-} // namespace Editor 
+} // namespace Editor
 
 /* EOF */
diff --git a/src/editor/generic_level_obj.hpp b/src/editor/generic_level_obj.hpp
index 372124e58..d639cf762 100644
--- a/src/editor/generic_level_obj.hpp
+++ b/src/editor/generic_level_obj.hpp
@@ -90,10 +90,10 @@ protected:
 
   /** Optional color field for certain objects */
   Color color;
-        
+
   /** Optional translation origin of the sprite */
   Origin origin;
-  
+
   int small_stars;
   int middle_stars;
   int large_stars;
@@ -188,8 +188,8 @@ public:
   void set_pos(const Vector3f p);
 
   void set_pos_z(float z);
-  float get_pos_z() const; 
-        
+  float get_pos_z() const;
+
   /** Original position of the objects before being dragged around */
   void set_orig_pos(const Vector3f p) { orig_pos = p; }
 
@@ -296,8 +296,8 @@ private:
 
   /** Write any additional properties to the file for this type */
   virtual void write_extra_properties(FileWriter& fw) { }
-        
-  /** Sets a position vector of where the sprite is located based 
+
+  /** Sets a position vector of where the sprite is located based
       on the "translation origin" specified in the sprite file. */
   void set_translated_pos();
 
@@ -305,7 +305,7 @@ private:
   GenericLevelObj & operator=(const GenericLevelObj&);
 };
 
-} // namespace Editor 
+} // namespace Editor
 
 #endif
 
diff --git a/src/editor/group_level_obj.cpp b/src/editor/group_level_obj.cpp
index 8cd09b4a3..3a5c3f937 100644
--- a/src/editor/group_level_obj.cpp
+++ b/src/editor/group_level_obj.cpp
@@ -26,7 +26,7 @@ namespace Editor {
 std::shared_ptr<GroupLevelObj>
 GroupLevelObj::from_prefab(const std::string& name)
 {
-  try 
+  try
   {
     PrefabFile prefab = PrefabFile::from_resource(name);
 
@@ -73,13 +73,13 @@ GroupLevelObj::~GroupLevelObj()
 std::string
 GroupLevelObj::get_section_name() const
 {
-  if (is_prefab()) 
+  if (is_prefab())
   {
-    return "prefab"; 
+    return "prefab";
   }
   else
   {
-    return "group"; 
+    return "group";
   }
 }
 
@@ -158,7 +158,7 @@ GroupLevelObj::draw(DrawingContext& gc)
   for(auto it = m_objects.begin(); it != m_objects.end(); ++it)
   {
     (*it)->draw(gc);
-  }  
+  }
 }
 
 void
@@ -213,13 +213,13 @@ GroupLevelObj::is_at(int x, int y)
   {
     if ((*it)->is_at(x, y))
       return true;
-  } 
+  }
   return false;
 }
 
 void
 GroupLevelObj::set_release_rate(const int r)
-{ 
+{
   m_release_rate = r;
 
   for(auto it = m_objects.begin(); it != m_objects.end(); ++it)
@@ -236,18 +236,18 @@ GroupLevelObj::set_owner(const int owner)
   for(auto it = m_objects.begin(); it != m_objects.end(); ++it)
   {
     (*it)->set_owner(m_owner_id);
-  } 
+  }
 }
 
 void
 GroupLevelObj::set_direction(const std::string direction)
-{ 
+{
   m_direction = direction;
 
   for(auto it = m_objects.begin(); it != m_objects.end(); ++it)
   {
     (*it)->set_direction(m_direction);
-  }  
+  }
 }
 
 void
@@ -258,7 +258,7 @@ GroupLevelObj::set_repeat(const int repeat)
   for(auto it = m_objects.begin(); it != m_objects.end(); ++it)
   {
     (*it)->set_repeat(m_repeat);
-  } 
+  }
 }
 
 LevelObjPtr
diff --git a/src/editor/group_level_obj.hpp b/src/editor/group_level_obj.hpp
index 96d269325..ae4cefebd 100644
--- a/src/editor/group_level_obj.hpp
+++ b/src/editor/group_level_obj.hpp
@@ -113,7 +113,7 @@ public:
 
   /** Retrive the objects scroll value in the y direction */
   float get_scroll_y() const { return 0; }
-  
+
   /** Returns the parallax speed multiplier in the x direction */
   float get_para_x() const { return 0; }
 
@@ -136,7 +136,7 @@ public:
 
   void set_pos_z(float z) { }
   float get_pos_z() const { return 0.0f; }
-        
+
   /** Original position of the objects before being dragged around */
   void set_orig_pos(const Vector3f p) { m_orig_pos = p; }
 
@@ -211,7 +211,7 @@ public:
 
   /** Call when the sprite needs to be reloaded */
   void refresh_sprite() { }
-  
+
   /** Returns true if the mouse is hovering over this object */
   bool is_at (int x, int y);
 
diff --git a/src/editor/gui_style.cpp b/src/editor/gui_style.cpp
index d6b5d7fcf..3f5b768fa 100644
--- a/src/editor/gui_style.cpp
+++ b/src/editor/gui_style.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -38,7 +38,7 @@ GUIStyle::draw_lowered_box(DrawingContext& gc, const Rect& rect, const Color& co
   gc.draw_fillrect(Rect(rect.left+border, rect.top+border, rect.right, rect.bottom),
                    Color(255, 255, 255));
   gc.draw_fillrect(Rect(rect.left+border, rect.top+border, rect.right-border, rect.bottom-border),
-                   color);  
+                   color);
 }
 
 } // namespace Editor
diff --git a/src/editor/gui_style.hpp b/src/editor/gui_style.hpp
index 0c51105ed..12d4aa32e 100644
--- a/src/editor/gui_style.hpp
+++ b/src/editor/gui_style.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,7 +27,7 @@ private:
   public:
   static void draw_raised_box(DrawingContext& gc, const Rect& rect,
                               const Color& color = Color(237, 233, 227), int border = 1);
-  static void draw_lowered_box(DrawingContext& gc, const Rect& rect, 
+  static void draw_lowered_box(DrawingContext& gc, const Rect& rect,
                                const Color& color = Color(237, 233, 227), int border = 1);
 };
 
diff --git a/src/editor/inputbox.cpp b/src/editor/inputbox.cpp
index 6463b74ee..c769b8710 100644
--- a/src/editor/inputbox.cpp
+++ b/src/editor/inputbox.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -42,9 +42,9 @@ Inputbox::draw(DrawingContext& gc)
 {
   gc.draw_fillrect(rect, Color(255,255,255));
   gc.draw_rect(rect, has_focus() ? Color(255,128,0) : Color(0,0,0));
-  
-  gc.print_left(Fonts::verdana11, 
-                Vector2i(rect.left + 5, 
+
+  gc.print_left(Fonts::verdana11,
+                Vector2i(rect.left + 5,
                          rect.top + rect.get_height()/2 - Fonts::verdana11.get_height()/2),
                 text);
 }
@@ -64,7 +64,7 @@ Inputbox::on_key_pressed(const Input::KeyboardEvent& ev)
     {
       text = text.substr(0, text.size()-1);
       on_change(text);
-    }      
+    }
   }
   else if (ev.keysym.sym == SDLK_RETURN) // enter
   {
@@ -72,7 +72,7 @@ Inputbox::on_key_pressed(const Input::KeyboardEvent& ev)
     on_enter(text);
   }
   else
-  { 
+  {
     if (ev.keysym.unicode)
     {
       text += UTF8::encode_utf8(ev.keysym.unicode);
diff --git a/src/editor/inputbox.hpp b/src/editor/inputbox.hpp
index 87321dbba..6eea9848d 100644
--- a/src/editor/inputbox.hpp
+++ b/src/editor/inputbox.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,13 +27,13 @@ class Inputbox : public GUI::RectComponent
 {
 private:
   std::string text;
-  
+
 public:
   Inputbox(const Rect& rect);
   Inputbox();
 
   void draw(DrawingContext& gc);
-  
+
   void set_text(const std::string& text);
   std::string get_text() const { return text; }
   void on_key_pressed(const Input::KeyboardEvent& ev);
diff --git a/src/editor/label.cpp b/src/editor/label.cpp
index d4b99c5f0..ea68bda7a 100644
--- a/src/editor/label.cpp
+++ b/src/editor/label.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -35,14 +35,14 @@ Label::Label(const std::string& text_) :
 void
 Label::draw (DrawingContext& gc)
 {
-  gc.print_left(Fonts::verdana11, 
+  gc.print_left(Fonts::verdana11,
                 Vector2i(rect.left, rect.top + rect.get_height()/2 - Fonts::verdana11.get_height()/2),
                 text);
 }
 
 void
 Label::update (float delta)
-{  
+{
 }
 
 } // namespace Editor
diff --git a/src/editor/label.hpp b/src/editor/label.hpp
index 374525b7c..d58ce80ee 100644
--- a/src/editor/label.hpp
+++ b/src/editor/label.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/editor/level_obj.cpp b/src/editor/level_obj.cpp
index a9698201c..413fa41d5 100644
--- a/src/editor/level_obj.cpp
+++ b/src/editor/level_obj.cpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/editor/level_obj.hpp b/src/editor/level_obj.hpp
index d9bddc6a6..5a3444f55 100644
--- a/src/editor/level_obj.hpp
+++ b/src/editor/level_obj.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -107,7 +107,7 @@ public:
 
   /** Retrive the objects scroll value in the y direction */
   virtual float get_scroll_y() const = 0;
-  
+
   /** Returns the parallax speed multiplier in the x direction */
   virtual float get_para_x() const = 0;
 
@@ -141,7 +141,7 @@ public:
 
   virtual void set_pos_z(float z) = 0;
   virtual float get_pos_z() const = 0;
-        
+
   /** Original position of the objects before being dragged around */
   virtual void set_orig_pos(const Vector3f p) = 0;
 
@@ -220,7 +220,7 @@ public:
 
   /** Call when the sprite needs to be reloaded */
   virtual void refresh_sprite() = 0;
-  
+
   /** Draws the sprite with the modifier applied */
   virtual void draw(DrawingContext &gc) = 0;
 
@@ -242,8 +242,8 @@ public:
 
   virtual LevelObjPtr duplicate(const Vector2i& offset) const = 0;
 };
-  
-} // namespace Editor 
+
+} // namespace Editor
 
 #endif
 
diff --git a/src/editor/level_obj_factory.cpp b/src/editor/level_obj_factory.cpp
index 40a3ee26f..d7279e238 100644
--- a/src/editor/level_obj_factory.cpp
+++ b/src/editor/level_obj_factory.cpp
@@ -24,7 +24,7 @@ namespace Editor {
 
 LevelObjPtr
 LevelObjFactory::create(const FileReader& reader)
-{    
+{
   if (reader.get_name() == "group")
   {
     std::shared_ptr<GroupLevelObj> group = std::make_shared<GroupLevelObj>();
@@ -42,7 +42,7 @@ LevelObjFactory::create(const FileReader& reader)
     return group;
   }
   if (reader.get_name() == "prefab")
-  {  
+  {
     std::string name;
     reader.read_string("name", name);
 
@@ -98,12 +98,12 @@ LevelObjFactory::create(const FileReader& reader)
       obj->set_res_desc(desc);
     }
     if (attribs & HAS_TYPE)
-    {   
+    {
       reader.read_string("type", tmp_str);
       obj->set_type(tmp_str);
     }
     if (attribs & HAS_GPTYPE)
-    {   
+    {
       reader.read_string("type", tmp_str);
       obj->set_ground_type(tmp_str);
     }
diff --git a/src/editor/level_properties.cpp b/src/editor/level_properties.cpp
index 374a2da0e..557511af7 100644
--- a/src/editor/level_properties.cpp
+++ b/src/editor/level_properties.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,7 +28,7 @@
 
 /*
   Level Properties:
-  Levelname, Description, Author, 
+  Levelname, Description, Author,
   Number of Pingus, Time, Pingus to Save,
   Width, Height, (could be handled elsewhere)
   Playable (unneeded)
@@ -169,7 +169,7 @@ LevelProperties::on_number_to_save_change(const std::string& str)
   {
     log_error("LevelProperties::on_number_to_save_change: '%1%' not an integer", str);
   }
-  
+
 }
 
 void
@@ -194,7 +194,7 @@ LevelProperties::on_time_change(const std::string& str)
 
 void
 LevelProperties::on_music_change(const std::string& str)
-{ 
+{
   level->set_music(str);
 }
 
@@ -203,19 +203,19 @@ LevelProperties::update_layout()
 {
   GroupComponent::update_layout();
 
-  int w = rect.get_width() - 120; 
+  int w = rect.get_width() - 120;
   author->set_rect(Rect(Vector2i(110,  10), Size(  w, 20)));
   levelname->set_rect(Rect(Vector2i(110,  32), Size(  w, 20)));
   description->set_rect(Rect(Vector2i(110,  54), Size(  w, 20*3)));
-  
+
   int y = 116;
   number_of_pingus->set_rect(Rect(Vector2i(110,  y), Size(  w, 20)));
-  number_to_save->set_rect(Rect(Vector2i(110,  y+22), Size(  w, 20))); 
+  number_to_save->set_rect(Rect(Vector2i(110,  y+22), Size(  w, 20)));
 
   time->set_rect(Rect(Vector2i(110,  y+44), Size(  w, 20)));
   width->set_rect(Rect(Vector2i(110,  y+66), Size(  w, 20)));
   height->set_rect(Rect(Vector2i(110,  y+88), Size(  w, 20)));
-  
+
   music->set_rect(Rect(Vector2i(110, y+110), Size(  w, 20)));
 }
 
diff --git a/src/editor/level_properties.hpp b/src/editor/level_properties.hpp
index 8b5dd342f..27038f21d 100644
--- a/src/editor/level_properties.hpp
+++ b/src/editor/level_properties.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -48,7 +48,7 @@ public:
   ~LevelProperties();
 
   void draw_background (DrawingContext& gc);
-  void update(float delta); 
+  void update(float delta);
 
   void set_level(EditorLevel* level);
 
diff --git a/src/editor/message_box.cpp b/src/editor/message_box.cpp
index 780ecc3e8..726aeac86 100644
--- a/src/editor/message_box.cpp
+++ b/src/editor/message_box.cpp
@@ -61,14 +61,14 @@ MessageBox::set_ok_text(const std::string& text)
 void
 MessageBox::draw_background(DrawingContext& gc)
 {
-  // Window border and title 
+  // Window border and title
   GUIStyle::draw_raised_box(gc, Rect(0,0,rect.get_width(), rect.get_height()));
   gc.draw_fillrect(Rect(4,4,rect.get_width()-4, 30), Color(77,130,180));
-  gc.print_center(Fonts::pingus_small, Vector2i(rect.get_width()/2, 2), 
+  gc.print_center(Fonts::pingus_small, Vector2i(rect.get_width()/2, 2),
                   m_title);
 
   // main text
-  gc.print_center(Fonts::verdana11, Vector2i(rect.get_width()/2, 42), 
+  gc.print_center(Fonts::verdana11, Vector2i(rect.get_width()/2, 42),
                   m_text);
 }
 
diff --git a/src/editor/minimap.cpp b/src/editor/minimap.cpp
index b904201ea..1b58405bf 100644
--- a/src/editor/minimap.cpp
+++ b/src/editor/minimap.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -70,13 +70,13 @@ Minimap::draw(DrawingContext& gc)
       color = Color(255,255,0);
     else if (attr & HAS_GPTYPE) // groundpiece
       color = Color(0,255,0);
-    else if (attr & HAS_REPEAT) 
+    else if (attr & HAS_REPEAT)
       color = Color(0,0,255); // liquid
     else // hotspot, background, etc.
       color = Color(255,0,0);
 
-    Color bg_color(static_cast<uint8_t>(3 * color.r / 4), 
-                   static_cast<uint8_t>(3 * color.g / 4), 
+    Color bg_color(static_cast<uint8_t>(3 * color.r / 4),
+                   static_cast<uint8_t>(3 * color.g / 4),
                    static_cast<uint8_t>(3 * color.b / 4));
 
     dc.draw_fillrect(r, bg_color, (*i)->get_pos().z);
@@ -95,14 +95,14 @@ Minimap::draw(DrawingContext& gc)
                  viewport_rect.get_height() * minimap_rect.get_height() / levelsize.height));
   dc.draw_fillrect(view, Color(255, 255, 0, 150), 1000000.0f);
   dc.draw_rect(view, Color(255, 255, 0), 1000000.0f);
-  
+
   gc.draw(dc);
 }
 
 void
 Minimap::update (float delta)
 {
-  
+
 }
 
 void
diff --git a/src/editor/minimap.hpp b/src/editor/minimap.hpp
index bc2665246..598a13cbf 100644
--- a/src/editor/minimap.hpp
+++ b/src/editor/minimap.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -31,7 +31,7 @@ private:
   EditorScreen* editor;
   std::unique_ptr<DrawingContext> drawing_context;
   bool dragging;
-  
+
 public:
   Minimap(EditorScreen*, const Rect& );
   ~Minimap();
diff --git a/src/editor/object_properties.cpp b/src/editor/object_properties.cpp
index e3f48faec..50575ac0f 100644
--- a/src/editor/object_properties.cpp
+++ b/src/editor/object_properties.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -86,10 +86,10 @@ ObjectProperties::ObjectProperties(EditorScreen* editor_, const Rect& rect_) :
 {
   type_label = create<Label>(Rect(Vector2i(4, 4), Size(120, 20)), _("Object:"));
   mesg_label = create<Label>(Rect(Vector2i(10, 0), Size(180, 20)), _("Nothing selected"));
-    
+
   Rect label_rect(10,0, 80, 20);
   Rect box_rect(80,0, 190, 20);
-  
+
   // Groundpiece Type
   gptype_label = create<Label>(label_rect, "GPType:");
   gptype_type = create<Combobox>(box_rect);
@@ -104,7 +104,7 @@ ObjectProperties::ObjectProperties(EditorScreen* editor_, const Rect& rect_) :
   gptype_type->set_selected_item(Groundtype::GP_GROUND);
 
   gptype_type->on_select.connect(std::bind(&ObjectProperties::on_gptype_change, this, std::placeholders::_1));
-  
+
   entrance_direction_label = create<Label>(label_rect, _("Direction:"));
   entrance_direction = create<Combobox>(box_rect);
   entrance_direction->add(0, _("Left"));
@@ -113,18 +113,18 @@ ObjectProperties::ObjectProperties(EditorScreen* editor_, const Rect& rect_) :
   entrance_direction->set_selected_item(0);
 
   entrance_direction->on_select.connect(std::bind(&ObjectProperties::on_entrance_direction_change, this, std::placeholders::_1));
-  
+
   release_rate_label = create<Label>(label_rect, _("ReleaseRate:"));
   release_rate_inputbox = create<Inputbox>(box_rect);
 
   release_rate_inputbox->on_change.connect(std::bind(&ObjectProperties::on_release_rate_change, this, std::placeholders::_1));
-  
+
   // Background Stretch
   stretch_label = create<Label>(label_rect, "Stretch:");
-  stretch_x_checkbox = create<Checkbox>(Rect(Vector2i(box_rect.left, box_rect.top), 
+  stretch_x_checkbox = create<Checkbox>(Rect(Vector2i(box_rect.left, box_rect.top),
                                              Size(box_rect.get_width()/2, box_rect.get_height())),
                                         "X");
-  stretch_y_checkbox = create<Checkbox>(Rect(Vector2i(box_rect.left+box_rect.get_width()/2, box_rect.top), 
+  stretch_y_checkbox = create<Checkbox>(Rect(Vector2i(box_rect.left+box_rect.get_width()/2, box_rect.top),
                                              Size(box_rect.get_width()/2, box_rect.get_height())),
                                         "Y");
 
@@ -132,11 +132,11 @@ ObjectProperties::ObjectProperties(EditorScreen* editor_, const Rect& rect_) :
   stretch_y_checkbox->on_change.connect(std::bind(&ObjectProperties::on_stretch_y_change, this, std::placeholders::_1));
 
   keep_aspect_label = create<Label>(label_rect, "Aspect:");
-  keep_aspect_checkbox = create<Checkbox>(Rect(Vector2i(box_rect.left, box_rect.top), 
+  keep_aspect_checkbox = create<Checkbox>(Rect(Vector2i(box_rect.left, box_rect.top),
                                                Size(box_rect.get_width(), box_rect.get_height())),
                                           "keep");
   keep_aspect_checkbox->on_change.connect(std::bind(&ObjectProperties::on_keep_aspect_change, this, std::placeholders::_1));
- 
+
   para_x_label = create<Label>(label_rect, _("Para-X:"));
   para_y_label = create<Label>(label_rect, _("Para-Y:"));
 
@@ -145,7 +145,7 @@ ObjectProperties::ObjectProperties(EditorScreen* editor_, const Rect& rect_) :
 
   para_x_inputbox->on_change.connect(std::bind(&ObjectProperties::on_para_x_change, this, std::placeholders::_1));
   para_y_inputbox->on_change.connect(std::bind(&ObjectProperties::on_para_y_change, this, std::placeholders::_1));
-  
+
   scroll_x_label = create<Label>(label_rect, _("Scroll-X:"));
   scroll_y_label = create<Label>(label_rect, _("Scroll-Y:"));
 
@@ -154,16 +154,16 @@ ObjectProperties::ObjectProperties(EditorScreen* editor_, const Rect& rect_) :
 
   scroll_x_inputbox->on_change.connect(std::bind(&ObjectProperties::on_scroll_x_change, this, std::placeholders::_1));
   scroll_y_inputbox->on_change.connect(std::bind(&ObjectProperties::on_scroll_y_change, this, std::placeholders::_1));
-  
+
   owner_label = create<Label>(label_rect, _("Owner Id:"));
   owner_inputbox = create<Inputbox>(box_rect);
   owner_inputbox->on_change.connect(std::bind(&ObjectProperties::on_owner_change, this, std::placeholders::_1));
-  
+
   pos_z_label = create<Label>(label_rect, _("Z-Pos:"));
   pos_z_inputbox = create<Inputbox>(box_rect);
   pos_z_inputbox->on_change.connect(std::bind(&ObjectProperties::on_pos_z_change, this, std::placeholders::_1));
   // ___________________________________________________________________
-  //  
+  //
   Size color_s(box_rect.get_width()/4, box_rect.get_height());
 
   color_label = create<Label>(label_rect, _("Color:"));
@@ -239,9 +239,9 @@ void
 ObjectProperties::place(GUI::RectComponent* comp)
 {
   Rect crect = comp->get_rect();
-  comp->set_rect(Rect(crect.left, 
-                      y_pos, 
-                      crect.right, 
+  comp->set_rect(Rect(crect.left,
+                      y_pos,
+                      crect.right,
                       y_pos + crect.get_height()));
   comp->show();
 }
@@ -252,14 +252,14 @@ ObjectProperties::place(GUI::RectComponent* comp1, GUI::RectComponent* comp2)
   Rect rect1 = comp1->get_rect();
   Rect rect2 = comp2->get_rect();
 
-  comp1->set_rect(Rect(rect1.left, 
-                       y_pos, 
-                       rect1.right, 
+  comp1->set_rect(Rect(rect1.left,
+                       y_pos,
+                       rect1.right,
                        y_pos + rect1.get_height()));
 
-  comp2->set_rect(Rect(rect2.left, 
-                       y_pos, 
-                       rect2.right, 
+  comp2->set_rect(Rect(rect2.left,
+                       y_pos,
+                       rect2.right,
                        y_pos + rect2.get_height()));
 
   comp1->show();
@@ -272,16 +272,16 @@ void
 ObjectProperties::hide_all()
 {
   y_pos = 30;
-      
+
   // Hide everything
   mesg_label->hide();
 
   gptype_label->hide();
   gptype_type->hide();
-  
+
   entrance_direction_label->hide();
   entrance_direction->hide();
- 
+
   release_rate_label->hide();
   release_rate_inputbox->hide();
 
@@ -294,13 +294,13 @@ ObjectProperties::hide_all()
 
   para_x_label->hide();
   para_x_inputbox->hide();
- 
+
   para_y_label->hide();
   para_y_inputbox->hide();
 
   scroll_x_label->hide();
   scroll_x_inputbox->hide();
- 
+
   scroll_y_label->hide();
   scroll_y_inputbox->hide();
 
@@ -355,7 +355,7 @@ ObjectProperties::set_object(LevelObjPtr obj)
       gptype_type->set_selected_item(Groundtype::string_to_type(obj->get_ground_type()));
       place(gptype_label, gptype_type);
     }
-      
+
     if (attr & HAS_DIRECTION)
     {
       if (obj->get_direction() == "left")
@@ -369,27 +369,27 @@ ObjectProperties::set_object(LevelObjPtr obj)
 
       place(entrance_direction_label, entrance_direction);
     }
-      
+
     if (attr & HAS_SPEED)
     { // obsolete in large part, since sprites have their own speed
     }
-      
+
     if (attr & HAS_PARALLAX)
     { // used for hotspot
     }
-        
+
     if (attr & HAS_REPEAT)
-    { 
+    {
       repeat_inputbox->set_text(StringUtil::to_string(obj->get_repeat()));
       place(repeat_label, repeat_inputbox);
     }
-        
+
     if (attr & HAS_OWNER)
     {
       owner_inputbox->set_text(StringUtil::to_string(obj->get_owner()));
       place(owner_label, owner_inputbox);
     }
-        
+
     if (attr & HAS_COLOR)
     {
       color_r_inputbox->set_text(StringUtil::to_string(static_cast<int>(obj->get_color().r)));
@@ -408,7 +408,7 @@ ObjectProperties::set_object(LevelObjPtr obj)
     if (attr & HAS_SCROLL)
     {
       scroll_x_inputbox->set_text(StringUtil::to_string(obj->get_scroll_x()));
-      scroll_y_inputbox->set_text(StringUtil::to_string(obj->get_scroll_y()));          
+      scroll_y_inputbox->set_text(StringUtil::to_string(obj->get_scroll_y()));
 
       place(scroll_x_label, scroll_x_inputbox);
       place(scroll_y_label, scroll_y_inputbox);
@@ -631,7 +631,7 @@ ObjectProperties::on_color_r_change(const std::string& str)
 {
   for(auto i = objects.begin(); i != objects.end(); ++i)
   {
-    Color color = (*i)->get_color(); 
+    Color color = (*i)->get_color();
     color.r = static_cast<char>(StringUtil::to<int>(str));
     (*i)->set_color(color);
   }
@@ -642,7 +642,7 @@ ObjectProperties::on_color_g_change(const std::string& str)
 {
   for(auto i = objects.begin(); i != objects.end(); ++i)
   {
-    Color color = (*i)->get_color(); 
+    Color color = (*i)->get_color();
     color.g = static_cast<uint8_t>(StringUtil::to<int>(str));
     (*i)->set_color(color);
   }
@@ -653,7 +653,7 @@ ObjectProperties::on_color_b_change(const std::string& str)
 {
   for(auto i = objects.begin(); i != objects.end(); ++i)
   {
-    Color color = (*i)->get_color(); 
+    Color color = (*i)->get_color();
     color.b = static_cast<uint8_t>(StringUtil::to<int>(str));
     (*i)->set_color(color);
   }
@@ -663,8 +663,8 @@ void
 ObjectProperties::on_color_a_change(const std::string& str)
 {
   for(auto i = objects.begin(); i != objects.end(); ++i)
-  { 
-    Color color = (*i)->get_color(); 
+  {
+    Color color = (*i)->get_color();
     color.a = static_cast<uint8_t>(StringUtil::to<int>(str));
     (*i)->set_color(color);
   }
@@ -694,7 +694,7 @@ ObjectProperties::on_large_stars_change(const std::string& str)
   for(auto i = objects.begin(); i != objects.end(); ++i)
   {
     (*i)->set_large_stars(StringUtil::to<int>(str));
-  }  
+  }
 }
 
 void
diff --git a/src/editor/object_properties.hpp b/src/editor/object_properties.hpp
index bc47ddf79..639dd901d 100644
--- a/src/editor/object_properties.hpp
+++ b/src/editor/object_properties.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -56,7 +56,7 @@ private:
 
   Label*    keep_aspect_label;
   Checkbox* keep_aspect_checkbox;
-  
+
   Label*    para_x_label;
   Inputbox* para_x_inputbox;
 
@@ -80,7 +80,7 @@ private:
   Inputbox* color_g_inputbox;
   Inputbox* color_b_inputbox;
   Inputbox* color_a_inputbox;
-  
+
   Label*    small_stars_label;
   Inputbox* small_stars_inputbox;
 
@@ -112,7 +112,7 @@ private:
 public:
   ObjectProperties(EditorScreen* editor, const Rect& rect);
   ~ObjectProperties();
-  
+
   void set_object(LevelObjPtr obj);
   void draw_background(DrawingContext& gc);
   void update_layout();
@@ -152,7 +152,7 @@ public:
 
   void on_id_change(const std::string& str);
   void on_target_id_change(const std::string& str);
-  
+
   void on_height_change(const std::string& str);
 
   void on_flip_horizontal();
diff --git a/src/editor/object_selector.cpp b/src/editor/object_selector.cpp
index f3a36b5e8..2eb2c0774 100644
--- a/src/editor/object_selector.cpp
+++ b/src/editor/object_selector.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -45,7 +45,7 @@ private:
   bool   mouse_over;
   bool   mouse_down;
   std::string tooltip;
-  
+
 public:
   boost::signals2::signal<void()> on_click;
 
@@ -76,7 +76,7 @@ public:
     if (mouse_over)
     {
       int t_w = static_cast<int>(Fonts::verdana11.get_width(tooltip));
-      Rect t_r(rect.left + 17 - t_w/2 - 4, rect.top + 38 - 2, 
+      Rect t_r(rect.left + 17 - t_w/2 - 4, rect.top + 38 - 2,
                rect.left + 17 + t_w/2 + 4, rect.top + 38 + Fonts::verdana11.get_height() + 4);
       gc.draw_fillrect(t_r, Color(255, 255, 200), 1000.0f);
       gc.draw_rect(t_r, Color(0,0,0), 1000.0f);
@@ -85,34 +85,34 @@ public:
   }
 
   /** Emmitted when pointer enters the region of the component */
-  void on_pointer_enter() 
+  void on_pointer_enter()
   {
     mouse_over = true;
   }
 
   /** Emmitted when pointer leaves the region of the component */
-  void on_pointer_leave() 
+  void on_pointer_leave()
   {
     mouse_over = false;
   }
-  
-  void on_primary_button_press (int x, int y) 
+
+  void on_primary_button_press (int x, int y)
   {
     mouse_down = true;
   }
 
-  void on_primary_button_release (int x, int y) 
-  { 
+  void on_primary_button_release (int x, int y)
+  {
     mouse_down = false;
     if (mouse_over)
       on_click();
   }
-  
+
   void update (float delta)
   {
     sprite.update();
   }
-  
+
   int get_width() const {
     return 30;
   }
@@ -144,7 +144,7 @@ ObjectSelector::ObjectSelector(EditorScreen* editor_, const Rect& rect_) :
   worldobj_set(),
   prefab_set()
 {
-  object_list = create<ObjectSelectorList>(editor, this, 
+  object_list = create<ObjectSelectorList>(editor, this,
                                            Rect(2, 2 + 60 + 2, rect.get_width() - 2, rect.get_height() - 2));
 
   gp_ground_set  = create_gp_ground();
@@ -190,12 +190,12 @@ ObjectSelector::draw_background(DrawingContext& parent_gc)
 }
 
 void
-ObjectSelector::add_button(const std::string& image, const std::string& tooltip, 
+ObjectSelector::add_button(const std::string& image, const std::string& tooltip,
                            ObjectSelectorSet* set)
 {
   ObjectSelectorButton* button;
   button = create<ObjectSelectorButton>(object_list,
-                                        Vector2i(2 + button_pos.x * 30,  
+                                        Vector2i(2 + button_pos.x * 30,
                                                  2 + button_pos.y * 30),
                                         image, tooltip);
   button->on_click.connect(std::bind(&ObjectSelectorList::set_objects, object_list, set));
@@ -233,7 +233,7 @@ ObjectSelector::create_objects(const std::string& prefix)
     set->add(new ObjectSelectorList::Object(Sprite(*i),
                                             Resource::load_thumb_sprite(*i)));
   }
-  
+
   return set;
 }
 
@@ -290,7 +290,7 @@ ObjectSelector::create_hotspot()
   std::vector<std::string> lst = Resource::resmgr.get_section("hotspots");
   for(std::vector<std::string>::const_iterator i = lst.begin(); i != lst.end(); ++i)
     set->add(new Hotspot(*i));
-  
+
   return set;
 }
 
@@ -298,7 +298,7 @@ std::unique_ptr<ObjectSelectorSet>
 ObjectSelector::create_background()
 {
   std::unique_ptr<ObjectSelectorSet> set(new ObjectSelectorSet(object_list, 48, 48));
-  
+
   set->add(new SolidColorBackground());
   set->add(new StarfieldBackground());
 
@@ -313,7 +313,7 @@ std::unique_ptr<ObjectSelectorSet>
 ObjectSelector::create_entrance()
 {
   std::unique_ptr<ObjectSelectorSet> set(new ObjectSelectorSet(object_list, 48, 48));
-  
+
   set->add(new Entrance());
 
   // prefab entrances
@@ -347,7 +347,7 @@ ObjectSelector::create_exit()
   {
     set->add(new Exit(*i));
   }
- 
+
   return set;
 }
 
@@ -426,7 +426,7 @@ void
 ObjectSelector::update_layout()
 {
   GroupComponent::update_layout();
-  object_list->set_rect(Rect(2, 2 + 60 + 2, rect.get_width() - 2, rect.get_height() - 2)); 
+  object_list->set_rect(Rect(2, 2 + 60 + 2, rect.get_width() - 2, rect.get_height() - 2));
 }
 
 } // namespace Editor
diff --git a/src/editor/object_selector.hpp b/src/editor/object_selector.hpp
index c65ce4fca..88e45b616 100644
--- a/src/editor/object_selector.hpp
+++ b/src/editor/object_selector.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/editor/object_selector_list.cpp b/src/editor/object_selector_list.cpp
index e9104abc2..47973bfc8 100644
--- a/src/editor/object_selector_list.cpp
+++ b/src/editor/object_selector_list.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,7 +37,7 @@ ObjectSelectorList::ObjectSelectorList(EditorScreen* editor_, ObjectSelector* ob
   current_object(-1),
   drag_object(-1),
   set(0)
-{  
+{
 }
 
 ObjectSelectorList::~ObjectSelectorList()
@@ -64,22 +64,22 @@ ObjectSelectorList::draw(DrawingContext& parent_gc)
 
       gc.draw((*i)->thumbnail, Vector2i(x * 48, y * 48));
 
-      gc.draw_rect(Rect(x * 48,      y * 48, 
-                        x * 48 + 48, y * 48 + 48), 
+      gc.draw_rect(Rect(x * 48,      y * 48,
+                        x * 48 + 48, y * 48 + 48),
                    Color(155,155,155));
 
       if (has_mouse_over() && current_object != -1 && (i - set->get_objects().begin()) == current_object)
       {
-        gc.draw_fillrect(Rect(x * 48,      y * 48, 
-                              x * 48 + 48, y * 48 + 48), 
+        gc.draw_fillrect(Rect(x * 48,      y * 48,
+                              x * 48 + 48, y * 48 + 48),
                          Color(255,255,255, 100));
 
-        gc.draw_rect(Rect(x * 48,      y * 48, 
-                          x * 48 + 48, y * 48 + 48), 
+        gc.draw_rect(Rect(x * 48,      y * 48,
+                          x * 48 + 48, y * 48 + 48),
                      Color(255,255,255));
       }
     }
-  
+
     gc.pop_modelview();
   }
   parent_gc.draw(gc);
@@ -90,7 +90,7 @@ ObjectSelectorList::draw(DrawingContext& parent_gc)
     parent_gc.draw(sprite,
                    real_mouse_pos
                    - Vector2i(sprite.get_width()/2, sprite.get_height()/2)
-                   + sprite.get_offset(), 
+                   + sprite.get_offset(),
                    2000.0f);
   }
 }
@@ -115,13 +115,13 @@ ObjectSelectorList::on_primary_button_release (int x, int y)
   if (mode == OBJECT_DRAG)
   {
     mode = NOTHING;
-      
+
     if (current_object != -1)
     {
       // FIXME: Should check if the current mouse over component
       // is the Viewport, else no drag should take place, this
       // checks if the current mouse_over_comp is the
-      // ObjectSelector, which is good enough but not perfect 
+      // ObjectSelector, which is good enough but not perfect
       if (!object_selector->get_rect().contains(Vector2i(x + object_selector->get_rect().left,
                                                          y + object_selector->get_rect().top)))
       {
@@ -163,7 +163,7 @@ ObjectSelectorList::on_secondary_button_press (int x, int y)
 
 void
 ObjectSelectorList::on_secondary_button_release (int x, int y)
-{  
+{
   if (!set) return;
 
   if (mode == SCROLLING)
diff --git a/src/editor/object_selector_list.hpp b/src/editor/object_selector_list.hpp
index 38021d715..6cd582b8d 100644
--- a/src/editor/object_selector_list.hpp
+++ b/src/editor/object_selector_list.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,8 +36,8 @@ public:
   struct Object {
     Sprite  sprite;
     Sprite  thumbnail;
-    
-    Object(const Sprite& sprite_, const Sprite& thumbnail_) 
+
+    Object(const Sprite& sprite_, const Sprite& thumbnail_)
       : sprite(sprite_),
         thumbnail(thumbnail_)
     {
diff --git a/src/editor/object_selector_list_objects.hpp b/src/editor/object_selector_list_objects.hpp
index 8ed840406..29f25ad22 100644
--- a/src/editor/object_selector_list_objects.hpp
+++ b/src/editor/object_selector_list_objects.hpp
@@ -23,19 +23,19 @@
 
 namespace Editor {
 
-struct Groundpiece : public ObjectSelectorList::Object 
+struct Groundpiece : public ObjectSelectorList::Object
 {
   ResDescriptor desc;
   std::string   type;
-  
-  Groundpiece(const std::string& name_, const std::string& type_) : 
+
+  Groundpiece(const std::string& name_, const std::string& type_) :
     Object(Sprite(name_),
            Resource::load_thumb_sprite(name_)),
     desc(name_),
     type(type_)
-  {}   
-  
-  LevelObjPtr create(const Vector2i& pos) { 
+  {}
+
+  LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("groundpiece");
     obj->set_pos(pos);
     obj->set_res_desc(desc);
@@ -44,14 +44,14 @@ struct Groundpiece : public ObjectSelectorList::Object
   }
 };
 
-struct Entrance : public ObjectSelectorList::Object 
+struct Entrance : public ObjectSelectorList::Object
 {
   Entrance()
     : Object(Sprite("entrances/generic"),
              Resource::load_thumb_sprite("entrances/generic"))
   {}
 
-  LevelObjPtr create(const Vector2i& pos) { 
+  LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("entrance");
     obj->set_type("generic");
     obj->set_pos(pos);
@@ -63,17 +63,17 @@ struct Entrance : public ObjectSelectorList::Object
   }
 };
 
-struct Exit : public ObjectSelectorList::Object 
+struct Exit : public ObjectSelectorList::Object
 {
   ResDescriptor desc;
-  
+
   Exit(const std::string& name)
-    : Object(Sprite(name), 
+    : Object(Sprite(name),
              Resource::load_thumb_sprite(name)),
       desc(name)
   {}
 
-  LevelObjPtr create(const Vector2i& pos) { 
+  LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("exit");
     obj->set_pos(pos);
     obj->set_res_desc(desc);
@@ -82,11 +82,11 @@ struct Exit : public ObjectSelectorList::Object
   }
 };
 
-struct Hotspot : public ObjectSelectorList::Object 
+struct Hotspot : public ObjectSelectorList::Object
 {
   ResDescriptor desc;
   int z_pos;
-  
+
   Hotspot(const std::string& name_, int z_pos_ = 0)
     : Object(Sprite(name_),
              Resource::load_thumb_sprite(name_)),
@@ -94,7 +94,7 @@ struct Hotspot : public ObjectSelectorList::Object
       z_pos(z_pos_)
   {}
 
-  LevelObjPtr create(const Vector2i& pos) { 
+  LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("hotspot");
     obj->set_pos(pos);
     obj->set_pos_z(static_cast<float>(z_pos));
@@ -104,17 +104,17 @@ struct Hotspot : public ObjectSelectorList::Object
   }
 };
 
-struct SurfaceBackground : public ObjectSelectorList::Object 
+struct SurfaceBackground : public ObjectSelectorList::Object
 {
   ResDescriptor desc;
-  
+
   SurfaceBackground(const std::string& name)
     : Object(Sprite(name),
              Resource::load_thumb_sprite(name)),
       desc(name)
   {}
 
-  LevelObjPtr create(const Vector2i& pos) { 
+  LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("surface-background");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y), -1000.0f)); // FIXME: Hack, z-pos handling is messed up
     obj->set_para_x(0.5f);
@@ -130,11 +130,11 @@ struct SurfaceBackground : public ObjectSelectorList::Object
 
 struct SolidColorBackground : public ObjectSelectorList::Object
 {
-  SolidColorBackground() 
+  SolidColorBackground()
     : Object(Sprite("core/editor/solidcolorbackground"),
              Resource::load_thumb_sprite("core/editor/solidcolorbackground_thumb"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("solidcolor-background");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y), -1000.0f)); // FIXME: Hack, z-pos handling is messed up
@@ -145,19 +145,19 @@ struct SolidColorBackground : public ObjectSelectorList::Object
 
 struct StarfieldBackground : public ObjectSelectorList::Object
 {
-  StarfieldBackground() 
+  StarfieldBackground()
     : Object(Sprite("core/editor/starfield"),
              Resource::load_thumb_sprite("core/editor/starfield_thumb"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("starfield-background");
     // FIXME: Hack, z-pos handling is messed up
-    obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y), -1000.0f)); 
+    obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y), -1000.0f));
     obj->set_small_stars(500);
     obj->set_middle_stars(250);
     obj->set_large_stars(125);
-    return obj;    
+    return obj;
   }
 };
 
@@ -165,18 +165,18 @@ struct Liquid : public ObjectSelectorList::Object
 {
   ResDescriptor desc;
 
-  Liquid(const std::string& name) 
+  Liquid(const std::string& name)
     : Object(Sprite(name),
              Resource::load_thumb_sprite(name)),
       desc(name)
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("liquid");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
     obj->set_res_desc(desc);
     obj->set_repeat(1);
-    return obj;     
+    return obj;
   }
 };
 
@@ -186,11 +186,11 @@ struct Guillotine : public ObjectSelectorList::Object
     Object(Sprite("traps/guillotineidle"),
            Resource::load_thumb_sprite("traps/guillotineidle"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("guillotine");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
-    return obj;     
+    return obj;
   }
 };
 
@@ -200,11 +200,11 @@ struct Spike : public ObjectSelectorList::Object
     Object(Sprite("traps/spike_editor"),
            Resource::load_thumb_sprite("traps/spike_editor"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("spike");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
-    return obj;     
+    return obj;
   }
 };
 
@@ -214,11 +214,11 @@ struct FakeExit : public ObjectSelectorList::Object
     Object(Sprite("traps/fake_exit"),
            Resource::load_thumb_sprite("traps/fake_exit"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("fake_exit");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
-    return obj;     
+    return obj;
   }
 };
 
@@ -228,7 +228,7 @@ struct LaserExit : public ObjectSelectorList::Object
     Object(Sprite("traps/laser_exit"),
            Resource::load_thumb_sprite("traps/laser_exit"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("laser_exit");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -242,7 +242,7 @@ struct Smasher : public ObjectSelectorList::Object
     Object(Sprite("traps/smasher"),
            Resource::load_thumb_sprite("traps/smasher"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("smasher");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -256,7 +256,7 @@ struct Hammer : public ObjectSelectorList::Object
     Object(Sprite("traps/hammer"),
            Resource::load_thumb_sprite("traps/hammer"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("hammer");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -270,7 +270,7 @@ struct SnowGenerator : public ObjectSelectorList::Object
     Object(Sprite("core/editor/weather_snow"),
            Resource::load_thumb_sprite("core/editor/weather_snow"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("snow-generator");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -284,7 +284,7 @@ struct RainGenerator : public ObjectSelectorList::Object
     Object(Sprite("core/editor/weather_rain"),
            Resource::load_thumb_sprite("core/editor/weather_rain"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("rain-generator");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -298,7 +298,7 @@ struct Teleporter : public ObjectSelectorList::Object
     Object(Sprite("worldobjs/teleporter"),
            Resource::load_thumb_sprite("worldobjs/teleporter"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("teleporter");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -313,7 +313,7 @@ struct TeleporterTarget : public ObjectSelectorList::Object
     Object(Sprite("worldobjs/teleportertarget"),
            Resource::load_thumb_sprite("worldobjs/teleportertarget"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("teleporter-target");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -328,7 +328,7 @@ struct IceBlock : public ObjectSelectorList::Object
     Object(Sprite("worldobjs/iceblock"),
            Resource::load_thumb_sprite("worldobjs/iceblock"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("iceblock");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -343,7 +343,7 @@ struct Conveyorbelt : public ObjectSelectorList::Object
     Object(Sprite("worldobjs/conveyorbelt_middle"),
            Resource::load_thumb_sprite("worldobjs/conveyorbelt_middle"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("conveyorbelt");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -358,7 +358,7 @@ struct SwitchDoorSwitch : public ObjectSelectorList::Object
     Object(Sprite("worldobjs/switchdoor_switch"),
            Resource::load_thumb_sprite("worldobjs/switchdoor_switch"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("switchdoor-switch");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -374,7 +374,7 @@ struct SwitchDoorDoor : public ObjectSelectorList::Object
     Object(Sprite("worldobjs/switchdoor_box"),
            Resource::load_thumb_sprite("worldobjs/switchdoor_box"))
   {}
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     LevelObjPtr obj = std::make_shared<GenericLevelObj>("switchdoor-door");
     obj->set_pos(Vector3f(static_cast<float>(pos.x), static_cast<float>(pos.y)));
@@ -396,7 +396,7 @@ public:
     m_name(name)
   {
   }
-  
+
   LevelObjPtr create(const Vector2i& pos) {
     std::shared_ptr<GroupLevelObj> group = GroupLevelObj::from_prefab(m_name);
     if (group)
diff --git a/src/editor/object_selector_set.cpp b/src/editor/object_selector_set.cpp
index 11f395f1d..4890c7d72 100644
--- a/src/editor/object_selector_set.cpp
+++ b/src/editor/object_selector_set.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/editor/object_selector_set.hpp b/src/editor/object_selector_set.hpp
index e45853240..43c6cab61 100644
--- a/src/editor/object_selector_set.hpp
+++ b/src/editor/object_selector_set.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,7 +32,7 @@ private:
 
   typedef std::vector<ObjectSelectorList::Object*> Objects;
   Objects objects;
-  
+
   /** Used to record the scroll offset of the set */
   float offset;
 
diff --git a/src/editor/panel.cpp b/src/editor/panel.cpp
index d37b7833f..b63e53d2c 100644
--- a/src/editor/panel.cpp
+++ b/src/editor/panel.cpp
@@ -5,19 +5,19 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
 #include "editor/panel.hpp"
 
 #include "editor/editor_screen.hpp"
-#include "engine/display/display.hpp" 
+#include "engine/display/display.hpp"
 #include "engine/gui/gui_manager.hpp"
 #include "pingus/fonts.hpp"
 #include "pingus/gettext.h"
@@ -36,12 +36,12 @@ public:
     pos(pos_)
   {
   }
-  
+
   void draw (DrawingContext& gc)
   {
     gc.draw(sprite, pos);
-  } 
-  
+  }
+
   int get_width() const { return sprite.get_width(); }
 };
 
@@ -62,8 +62,8 @@ private:
   Callback callback;
 
 public:
-  PanelButton(EditorScreen* editor_, 
-              const Vector2i& pos_, const std::string& name, const std::string& tooltip_, 
+  PanelButton(EditorScreen* editor_,
+              const Vector2i& pos_, const std::string& name, const std::string& tooltip_,
               Callback callback_ = 0) :
     editor(editor_),
     button_raised("core/editor/button-raised"),
@@ -92,7 +92,7 @@ public:
     {
       int t_w = static_cast<int>(Fonts::verdana11.get_width(tooltip));
 
-      Rect t_r(pos.x + 17 - t_w/2 - 4, pos.y + 38 - 2, 
+      Rect t_r(pos.x + 17 - t_w/2 - 4, pos.y + 38 - 2,
                pos.x + 17 + t_w/2 + 4, pos.y + 38 + Fonts::verdana11.get_height() + 4);
 
       // if the tooltip goes over the screen borders, move it back to
@@ -117,29 +117,29 @@ public:
   }
 
   /** Emmitted when pointer enters the region of the component */
-  void on_pointer_enter () 
+  void on_pointer_enter ()
   {
     mouse_over = true;
   }
 
   /** Emmitted when pointer leaves the region of the component */
-  void on_pointer_leave () 
+  void on_pointer_leave ()
   {
     mouse_over = false;
   }
-  
-  void on_primary_button_press (int x, int y) 
+
+  void on_primary_button_press (int x, int y)
   {
     mouse_down = true;
   }
 
-  void on_primary_button_release (int x, int y) 
-  { 
+  void on_primary_button_release (int x, int y)
+  {
     mouse_down = false;
     if (mouse_over && callback)
       ((*editor).*callback)();
   }
-  
+
   bool is_at(int x, int y)
   {
     return (pos.x <= x && pos.x + 34 > x &&
@@ -150,7 +150,7 @@ public:
   {
     sprite.update();
   }
-  
+
   int get_width() const {
     return 34;
   }
@@ -165,68 +165,68 @@ Panel::Panel(EditorScreen* editor_) :
   logo("core/editor/logo"),
   pos(2,2),
   callback()
-{  
+{
   editor->get_gui_manager()->add(this);
 
-  add_button("core/editor/document-new",  _("New level"), 
+  add_button("core/editor/document-new",  _("New level"),
              &EditorScreen::level_new);
   add_button("core/editor/document-open", _("Open level..."),
              &EditorScreen::level_load);
-  add_button("core/editor/document-save", _("Save level..."), 
+  add_button("core/editor/document-save", _("Save level..."),
              &EditorScreen::level_save);
-  add_button("core/editor/document-save-as", _("Save level as..."), 
+  add_button("core/editor/document-save-as", _("Save level as..."),
              &EditorScreen::level_save_as);
   add_separator();
-  add_button("core/editor/play", _("Play level..."), 
+  add_button("core/editor/play", _("Play level..."),
              &EditorScreen::level_play);
   add_separator();
-  add_button("core/editor/actions", _("Configure actions"), 
+  add_button("core/editor/actions", _("Configure actions"),
              &EditorScreen::toggle_action_properties);
-  add_button("core/editor/document-properties", _("Configure level"), 
+  add_button("core/editor/document-properties", _("Configure level"),
              &EditorScreen::toggle_level_properties);
-  add_button("core/editor/object-properties", _("Display object properties"), 
+  add_button("core/editor/object-properties", _("Display object properties"),
              &EditorScreen::toggle_object_properties);
-  add_button("core/editor/objects", _("Show object insertion window"), 
+  add_button("core/editor/objects", _("Show object insertion window"),
              &EditorScreen::toggle_object_selector);
-  add_button("core/editor/minimap", _("Show minimap"), 
+  add_button("core/editor/minimap", _("Show minimap"),
              &EditorScreen::toggle_minimap);
   add_separator();
-  add_button("core/editor/copy", _("Duplicate the selected objects") + " (D)",  
+  add_button("core/editor/copy", _("Duplicate the selected objects") + " (D)",
              &EditorScreen::objects_duplicate);
-  add_button("core/editor/delete", _("Delete the selected objects") + " (Delete)",  
+  add_button("core/editor/delete", _("Delete the selected objects") + " (Delete)",
              &EditorScreen::objects_delete);
   add_separator();
-  add_button("core/editor/object-top",    _("Raise object to top") + " (Shift+])", 
+  add_button("core/editor/object-top",    _("Raise object to top") + " (Shift+])",
              &EditorScreen::objects_raise_to_top);
-  add_button("core/editor/object-up",     _("Raise object") + " (])", 
+  add_button("core/editor/object-up",     _("Raise object") + " (])",
              &EditorScreen::objects_raise);
-  add_button("core/editor/object-down",   _("Lower object") + " ([)", 
+  add_button("core/editor/object-down",   _("Lower object") + " ([)",
              &EditorScreen::objects_lower);
-  add_button("core/editor/object-bottom", _("Lower object to bottom") + " (Shift+[)", 
+  add_button("core/editor/object-bottom", _("Lower object to bottom") + " (Shift+[)",
              &EditorScreen::objects_lower_to_bottom);
 
   if (0)
   { // rotate and flip are now in the object properties
     add_separator();
-    add_button("core/editor/object-flip-horizontal", _("Flip object horizontally") + " (F)", 
+    add_button("core/editor/object-flip-horizontal", _("Flip object horizontally") + " (F)",
                &EditorScreen::objects_flip_horizontal);
-    add_button("core/editor/object-flip-vertical", _("Flip object vertically") + " (Shift+F)", 
+    add_button("core/editor/object-flip-vertical", _("Flip object vertically") + " (Shift+F)",
                &EditorScreen::objects_flip_vertical);
     add_separator();
-    add_button("core/editor/object-rotate-left",  _("Rotate object -90 degree") + " (Shift+R)", 
+    add_button("core/editor/object-rotate-left",  _("Rotate object -90 degree") + " (Shift+R)",
                &EditorScreen::objects_rotate_left);
-    add_button("core/editor/object-rotate-right", _("Rotate object 90 degree") + " (R)", 
+    add_button("core/editor/object-rotate-right", _("Rotate object 90 degree") + " (R)",
                &EditorScreen::objects_rotate_right);
   }
 
   // add_separator();
-  //add_button("core/editor/snap-grid", "Snap objects to grid", 
+  //add_button("core/editor/snap-grid", "Snap objects to grid",
   //             &EditorScreen::toggle_grid_snap);
   // add_separator();
   add_separator();
-  add_button("core/editor/help", _("Display help"), 
+  add_button("core/editor/help", _("Display help"),
              &EditorScreen::toggle_help);
-  add_button("core/editor/exit", _("Exit"), 
+  add_button("core/editor/exit", _("Exit"),
              &EditorScreen::exit);
 }
 
@@ -246,7 +246,7 @@ Panel::draw (DrawingContext& gc)
 void
 Panel::update (float delta)
 {
-  
+
 }
 
 void
diff --git a/src/editor/panel.hpp b/src/editor/panel.hpp
index e37d09bdd..fbde288f1 100644
--- a/src/editor/panel.hpp
+++ b/src/editor/panel.hpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -45,7 +45,7 @@ public:
   void add_button(const std::string& image, const std::string& tooltip = "", Callback callback = 0);
   void add_toggle_button(const std::string& image);
   void add_separator();
-  
+
 private:
   Panel (const Panel&);
   Panel& operator= (const Panel&);
diff --git a/src/editor/viewport.cpp b/src/editor/viewport.cpp
index 202c2eb6c..bca02b776 100644
--- a/src/editor/viewport.cpp
+++ b/src/editor/viewport.cpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -85,7 +85,7 @@ Viewport::on_secondary_button_press(int x_, int y_)
 
   if (current_action == NOTHING)
   {
-    drag_screen_pos = mouse_screen_pos;  
+    drag_screen_pos = mouse_screen_pos;
     current_action = SCROLLING;
   }
 }
@@ -109,14 +109,14 @@ Viewport::on_secondary_button_click(int x_, int y_)
 }
 
 // Select 1 or more LevelObjs, or drag them.
-void 
+void
 Viewport::on_primary_button_press(int x_, int y_)
 {
   Uint8* keystate = SDL_GetKeyState(NULL);
 
   mouse_world_pos  = screen2world(x_, y_);
   mouse_screen_pos = Vector2i(x_, y_);
-  
+
   if (current_action == NOTHING)
   {
     LevelObjPtr obj = editor->get_level()->object_at(mouse_world_pos.x, mouse_world_pos.y);
@@ -149,7 +149,7 @@ Viewport::on_primary_button_press(int x_, int y_)
         }
       }
 
-      for (auto it = selection.begin(); it != selection.end(); ++it) 
+      for (auto it = selection.begin(); it != selection.end(); ++it)
       {
         (*it)->set_orig_pos((*it)->get_pos());
       }
@@ -173,7 +173,7 @@ Viewport::on_primary_button_press(int x_, int y_)
   }
 }
 
-void 
+void
 Viewport::on_primary_button_release(int x_, int y_)
 {
   mouse_world_pos = screen2world(x_, y_);
@@ -207,14 +207,14 @@ Viewport::on_pointer_move(int x_, int y_)
 {
   mouse_world_pos = screen2world(x_, y_);
   mouse_screen_pos = Vector2i(x_, y_);
-  
+
   switch(current_action)
   {
     case HIGHLIGHTING:
       highlighted_area.right  = mouse_world_pos.x;
       highlighted_area.bottom = mouse_world_pos.y;
       break;
-        
+
     case DRAGGING:
       {
         float new_x, new_y;
@@ -243,7 +243,7 @@ Viewport::on_pointer_move(int x_, int y_)
 
     case SCROLLING:
       break;
-        
+
     case NOTHING:
       break;
   }
@@ -305,7 +305,7 @@ Viewport::on_key_pressed(const Input::KeyboardEvent& ev)
           clear_selection();
           selection_changed(selection);
         }
-        else 
+        else
         {
           clear_selection();
           selection.insert(get_objects()->begin(), get_objects()->end());
@@ -360,12 +360,12 @@ Viewport::on_key_pressed(const Input::KeyboardEvent& ev)
         rotate_90_selected_objects();
       }
       break;
-            
+
     case SDLK_DELETE:
     case SDLK_BACKSPACE:
       delete_selected_objects();
       break;
-             
+
     case SDLK_d:
       duplicate_selected_objects();
       break;
@@ -373,7 +373,7 @@ Viewport::on_key_pressed(const Input::KeyboardEvent& ev)
     case SDLK_f:
       if (ev.keysym.mod & KMOD_SHIFT)
       {
-        vflip_selected_objects();       
+        vflip_selected_objects();
       }
       else
       {
@@ -391,7 +391,7 @@ Viewport::on_key_pressed(const Input::KeyboardEvent& ev)
         vflip_selected_objects();
       }
       break;
-            
+
     case SDLK_c: // dvorak-up
     case SDLK_i: // up
       if (ev.keysym.mod & KMOD_SHIFT)
@@ -408,7 +408,7 @@ Viewport::on_key_pressed(const Input::KeyboardEvent& ev)
     case SDLK_k: // down
       if (ev.keysym.mod & KMOD_SHIFT)
       {
-        move_objects(Vector2i(0, keyboard_movement_distance));       
+        move_objects(Vector2i(0, keyboard_movement_distance));
       }
       else
       {
@@ -476,7 +476,7 @@ Viewport::on_key_pressed(const Input::KeyboardEvent& ev)
       }
       selection_changed(selection);
       break;
-      
+
     default:
       log_debug("Viewport::on_key_pressed: %1%", ev.keysym.sym);
       break;
@@ -499,14 +499,14 @@ Viewport::draw(DrawingContext &gc)
     drawing_context->draw_line(center - Vector2i(16, 0), center + Vector2i(16, 0), Color(155,155,155), 5000.0f);
     drawing_context->draw_line(center - Vector2i(0, 16), center + Vector2i(0, 16), Color(155,155,155), 5000.0f);
   }
-  
+
   // Level border
   drawing_context->draw_rect(Rect(Vector2i(0,0), editor->get_level()->get_size()), Color(255,255,255), 5000.0f);
   drawing_context->draw_rect(Rect(Vector2i(0,0), editor->get_level()->get_size()).grow(1), Color(0,0,0), 5000.0f);
 
   // Safe area
   drawing_context->draw_rect(Rect(Vector2i(0,0), editor->get_level()->get_size()).grow(-100), Color(155,155,155), 5000.0f);
-        
+
   // Draw the level objects
   for (auto it = get_objects()->begin(); it != get_objects()->end(); ++it)
   {
@@ -525,7 +525,7 @@ Viewport::draw(DrawingContext &gc)
     drawing_context->draw_fillrect(highlighted_area, Color(155,200,255, 100), 1000.0f);
     drawing_context->draw_rect(highlighted_area, Color(155,200,255), 1000.0f);
   }
-  
+
   state.pop(*drawing_context);
   gc.draw(*drawing_context, -150);
 }
@@ -545,7 +545,7 @@ Viewport::update(float delta)
     state.set_pos(Vector2i(state.get_pos().x + static_cast<int>(static_cast<float>(mouse_screen_pos.x - drag_screen_pos.x) * 5.0f * delta),
                            state.get_pos().y + static_cast<int>(static_cast<float>(mouse_screen_pos.y - drag_screen_pos.y) * 5.0f * delta)));
   }
-  
+
   // Autoscroll if necessary
   if (autoscroll)
   {
@@ -583,10 +583,10 @@ Viewport::duplicate_selected_objects()
       get_objects()->push_back(clone);
     }
   }
-  
+
   clear_selection();
   selection = new_selection;
-  selection_changed(selection);  
+  selection_changed(selection);
 }
 
 void
@@ -594,8 +594,8 @@ Viewport::delete_selected_objects()
 {
   for(auto i = selection.begin(); i != selection.end(); ++i)
     (*i)->remove();
-  
-  (*get_objects()).erase(std::remove_if((*get_objects()).begin(), (*get_objects()).end(), 
+
+  (*get_objects()).erase(std::remove_if((*get_objects()).begin(), (*get_objects()).end(),
                                         std::bind(&LevelObj::is_removed, std::placeholders::_1)),
                          (*get_objects()).end());
 
@@ -609,7 +609,7 @@ Viewport::hflip_selected_objects()
   for(auto i = selection.begin(); i != selection.end(); ++i)
   {
     (*i)->set_modifier(ResourceModifier::horizontal_flip((*i)->get_modifier()));
-  }  
+  }
 }
 
 void
@@ -674,7 +674,7 @@ void
 Viewport::lower_objects_to_bottom()
 {
   for(auto i = selection.begin(); i != selection.end(); ++i)
-    editor->get_level()->lower_object_to_bottom(*i); 
+    editor->get_level()->lower_object_to_bottom(*i);
 }
 
 void
@@ -775,7 +775,7 @@ Viewport::update_layout()
 void
 Viewport::clear_selection()
 {
-  selection.clear(); 
+  selection.clear();
 }
 
 void
@@ -783,7 +783,7 @@ Viewport::move_objects(const Vector2i& offset)
 {
   for (auto it = selection.begin(); it != selection.end(); ++it)
   {
-    Vector3f p = (*it)->get_pos(); 
+    Vector3f p = (*it)->get_pos();
     (*it)->set_pos(Vector3f(p.x + static_cast<float>(offset.x),
                             p.y + static_cast<float>(offset.y),
                             p.z));
diff --git a/src/editor/viewport.hpp b/src/editor/viewport.hpp
index 18868254d..0f66e3734 100644
--- a/src/editor/viewport.hpp
+++ b/src/editor/viewport.hpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,11 +36,11 @@ class EditorScreen;
 class ContextMenu;
 
 /** This class is where the actual level graphics will display in the
-    level editor.  Objects can be added, deleted, moved, modified, etc. 
+    level editor.  Objects can be added, deleted, moved, modified, etc.
     inside of the Viewport */
-class Viewport : public GUI::RectComponent 
+class Viewport : public GUI::RectComponent
 {
-private:        
+private:
   GraphicContextState state;
   std::unique_ptr<DrawingContext> drawing_context;
 
@@ -57,7 +57,7 @@ private:
   /** Where the mouse started dragging from */
   Vector2i drag_world_pos;
   Vector2i drag_screen_pos;
-  
+
   /** The currently selected LevelObjs */
   Selection selection;
 
@@ -99,7 +99,7 @@ public:
 
   /** Refresh the list of objects (do when loading or creating a new level) */
   void refresh();
-        
+
   /** Turns the "snap-to-grid" option on or off */
   void set_snap_to(bool s) { snap_to = s; }
 
diff --git a/src/engine/display/blitter.cpp b/src/engine/display/blitter.cpp
index 976ef8887..f2376923e 100644
--- a/src/engine/display/blitter.cpp
+++ b/src/engine/display/blitter.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -219,7 +219,7 @@ Blitter::create_surface_from_format(SDL_Surface* surface, int w, int h)
     flags |= SDL_SRCALPHA;
 
   SDL_Surface* new_surface = SDL_CreateRGBSurface(flags, w, h,
-                                                  surface->format->BitsPerPixel, 
+                                                  surface->format->BitsPerPixel,
                                                   surface->format->Rmask,
                                                   surface->format->Gmask,
                                                   surface->format->Bmask,
@@ -229,7 +229,7 @@ Blitter::create_surface_from_format(SDL_Surface* surface, int w, int h)
     SDL_SetAlpha(new_surface, SDL_SRCALPHA, surface->format->alpha);
 
   if (surface->format->palette)
-    SDL_SetPalette(new_surface, SDL_LOGPAL, surface->format->palette->colors, 
+    SDL_SetPalette(new_surface, SDL_LOGPAL, surface->format->palette->colors,
                    0, surface->format->palette->ncolors);
 
   if (surface->flags & SDL_SRCCOLORKEY)
diff --git a/src/engine/display/blitter.hpp b/src/engine/display/blitter.hpp
index ac1d45a41..cbcad68f1 100644
--- a/src/engine/display/blitter.hpp
+++ b/src/engine/display/blitter.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/blitter_impl.hpp b/src/engine/display/blitter_impl.hpp
index c99f1839d..23b434e10 100644
--- a/src/engine/display/blitter_impl.hpp
+++ b/src/engine/display/blitter_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -160,7 +160,7 @@ Surface modify(Surface source)
   {
     log_error("unhandled BytesPerPixel: %1%", bpp);
   }
-     
+
   source.unlock();
   target.unlock();
 
diff --git a/src/engine/display/delta/clip_draw_op.hpp b/src/engine/display/delta/clip_draw_op.hpp
index 976f14a8a..bcd5c0592 100644
--- a/src/engine/display/delta/clip_draw_op.hpp
+++ b/src/engine/display/delta/clip_draw_op.hpp
@@ -40,7 +40,7 @@ public:
 
   ~ClipDrawOp() {}
 
-  void render(Framebuffer& fb) 
+  void render(Framebuffer& fb)
   {
     if (m_push)
     {
@@ -57,7 +57,7 @@ public:
   }
 
   bool operator==(const ClipDrawOp& rhs) const {
-    return 
+    return
       m_rect == rhs.m_rect &&
       m_push == rhs.m_push;
   }
diff --git a/src/engine/display/delta/delta_framebuffer.cpp b/src/engine/display/delta/delta_framebuffer.cpp
index 68eb83f24..e3e4b7e20 100644
--- a/src/engine/display/delta/delta_framebuffer.cpp
+++ b/src/engine/display/delta/delta_framebuffer.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/delta/delta_framebuffer.hpp b/src/engine/display/delta/delta_framebuffer.hpp
index f413e42f3..9fca21dd6 100644
--- a/src/engine/display/delta/delta_framebuffer.hpp
+++ b/src/engine/display/delta/delta_framebuffer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,7 +28,7 @@ private:
   std::unique_ptr<SDLFramebuffer> framebuffer;
   std::unique_ptr<DrawOpBuffer>   frontbuffer;
   std::unique_ptr<DrawOpBuffer>   backbuffer;
- 
+
 public:
   DeltaFramebuffer();
 
diff --git a/src/engine/display/delta/draw_op.cpp b/src/engine/display/delta/draw_op.cpp
index efc23f04b..8641ec540 100644
--- a/src/engine/display/delta/draw_op.cpp
+++ b/src/engine/display/delta/draw_op.cpp
@@ -24,17 +24,17 @@
 bool
 DrawOp::equal(DrawOp* op) const
 {
-  if (type == op->type) 
+  if (type == op->type)
   {
     switch(type)
     {
-      case SURFACE_DRAWOP:              
+      case SURFACE_DRAWOP:
       {
         const SurfaceDrawOp* lhs = static_cast<const SurfaceDrawOp*>(this);
         const SurfaceDrawOp* rhs = static_cast<const SurfaceDrawOp*>(op);
         return *lhs == *rhs;
       }
-              
+
       case FILLRECT_DRAWOP:
       {
         const FillRectDrawOp* lhs = static_cast<const FillRectDrawOp*>(this);
@@ -71,16 +71,16 @@ bool
 DrawOp::less(DrawOp* rhs) const
 {
   const DrawOp* lhs = this;
-  
+
   if (lhs->type == rhs->type)
   {
     switch(lhs->type)
     {
-      case SURFACE_DRAWOP:                        
+      case SURFACE_DRAWOP:
       {
         const SurfaceDrawOp* slhs = static_cast<const SurfaceDrawOp*>(lhs);
         const SurfaceDrawOp* srhs = static_cast<const SurfaceDrawOp*>(rhs);
-              
+
         if (slhs->pos.x == srhs->pos.x)
           return (slhs->pos.y < srhs->pos.y);
         else
@@ -91,33 +91,33 @@ DrawOp::less(DrawOp* rhs) const
       {
         const FillRectDrawOp* rlhs = static_cast<const FillRectDrawOp*>(lhs);
         const FillRectDrawOp* rrhs = static_cast<const FillRectDrawOp*>(rhs);
-              
+
         if (rlhs->rect.left == rrhs->rect.left)
           return (rlhs->rect.top < rrhs->rect.top);
         else
-          return (rlhs->rect.left < rrhs->rect.left);              
+          return (rlhs->rect.left < rrhs->rect.left);
       }
 
       case DRAWRECT_DRAWOP:
       {
         const DrawRectDrawOp* rlhs = static_cast<const DrawRectDrawOp*>(lhs);
         const DrawRectDrawOp* rrhs = static_cast<const DrawRectDrawOp*>(rhs);
-              
+
         if (rlhs->rect.left == rrhs->rect.left)
           return (rlhs->rect.top < rrhs->rect.top);
         else
-          return (rlhs->rect.left < rrhs->rect.left);              
+          return (rlhs->rect.left < rrhs->rect.left);
       }
 
       case CLIP_DRAWOP:
       {
         const ClipDrawOp* rlhs = static_cast<const ClipDrawOp*>(lhs);
         const ClipDrawOp* rrhs = static_cast<const ClipDrawOp*>(rhs);
-              
+
         if (rlhs->m_rect.left == rrhs->m_rect.left)
           return (rlhs->m_rect.top < rrhs->m_rect.top);
         else
-          return (rlhs->m_rect.left < rrhs->m_rect.left);              
+          return (rlhs->m_rect.left < rrhs->m_rect.left);
       }
 
       default:
diff --git a/src/engine/display/delta/draw_op_buffer.cpp b/src/engine/display/delta/draw_op_buffer.cpp
index 99dd7664d..f0c682ad0 100644
--- a/src/engine/display/delta/draw_op_buffer.cpp
+++ b/src/engine/display/delta/draw_op_buffer.cpp
@@ -28,14 +28,14 @@ DrawOpBuffer::~DrawOpBuffer()
 {
 }
 
-MemoryPool<DrawOp>& 
-DrawOpBuffer::get_mempool() 
+MemoryPool<DrawOp>&
+DrawOpBuffer::get_mempool()
 {
   return mempool;
 }
-  
+
 void
-DrawOpBuffer::clear() 
+DrawOpBuffer::clear()
 {
   draw_ops.clear();
   mempool.clear();
@@ -63,7 +63,7 @@ DrawOpBuffer::has_op(DrawOp* op) const
 /** Calculate the regions that are different between \a frontbuffer
     and \a backbuffer, results are written to \a changed_regions  */
 void
-DrawOpBuffer::buffer_difference_slow(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer, 
+DrawOpBuffer::buffer_difference_slow(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer,
                                      std::vector<Rect>& changed_regions)
 {
   // FIXME: This is a very slow brute force approach
@@ -97,7 +97,7 @@ DrawOpBuffer::buffer_equal(const DrawOpBuffer& frontbuffer, const DrawOpBuffer&
 /** Calculate the regions that are different between \a frontbuffer
     and \a backbuffer, results are written to \a changed_regions  */
 void
-DrawOpBuffer::buffer_difference(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer, 
+DrawOpBuffer::buffer_difference(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer,
                                 std::vector<Rect>& changed_regions)
 {
   std::vector<DrawOp*> ops;
@@ -106,11 +106,11 @@ DrawOpBuffer::buffer_difference(const DrawOpBuffer& frontbuffer, const DrawOpBuf
   for(DrawOps::const_iterator i = backbuffer.draw_ops.begin(); i != backbuffer.draw_ops.end(); ++i)
     ops.push_back(*i);
 
-  for(DrawOps::const_iterator i = frontbuffer.draw_ops.begin(); i != frontbuffer.draw_ops.end(); ++i)    
+  for(DrawOps::const_iterator i = frontbuffer.draw_ops.begin(); i != frontbuffer.draw_ops.end(); ++i)
     ops.push_back(*i);
 
   std::sort(ops.begin(), ops.end(), ops_id_sorter);
-    
+
   for(DrawOps::size_type i = 0; i < ops.size(); ++i)
   {
     bool is_equal = false;
@@ -119,17 +119,17 @@ DrawOpBuffer::buffer_difference(const DrawOpBuffer& frontbuffer, const DrawOpBuf
       if (ops[i]->equal(ops[j]))
       {
         is_equal = true;
-        if (j == i+1) // FIXME: This is a bit fishy, since ops_id_sorter() doesn't give a perfect sorting 
-          i = j; 
+        if (j == i+1) // FIXME: This is a bit fishy, since ops_id_sorter() doesn't give a perfect sorting
+          i = j;
         break;
       }
     }
-        
+
     if (!is_equal)
       ops[i]->mark_changed_regions(changed_regions);
   }
 }
- 
+
 void
 DrawOpBuffer::render(SDLFramebuffer& fb, DrawOpBuffer& frontbuffer)
 {
@@ -142,7 +142,7 @@ DrawOpBuffer::render(SDLFramebuffer& fb, DrawOpBuffer& frontbuffer)
     // Clip things to the screen
     Size screen_size = fb.get_size();
     for(std::vector<Rect>::iterator i = changed_regions.begin(); i != changed_regions.end(); ++i)
-    { 
+    {
       // FIXME: It might be a good idea to remove empty rectangles here, so that merge_rectangles() can work smoother
       i->left = Math::clamp(0, int(i->left), screen_size.width);
       i->top  = Math::clamp(0, int(i->top),  screen_size.height);
@@ -163,7 +163,7 @@ DrawOpBuffer::render(SDLFramebuffer& fb, DrawOpBuffer& frontbuffer)
       { // Update all regions that need update
 
         for(std::vector<Rect>::iterator i = update_rects.begin(); i != update_rects.end(); ++i)
-        { 
+        {
           // draw things
           fb.push_cliprect(*i);
           for(DrawOps::iterator j = draw_ops.begin(); j != draw_ops.end(); ++j)
@@ -172,7 +172,7 @@ DrawOpBuffer::render(SDLFramebuffer& fb, DrawOpBuffer& frontbuffer)
           }
           fb.pop_cliprect();
         }
-    
+
         fb.update_rects(update_rects);
       }
       else
diff --git a/src/engine/display/delta/draw_op_buffer.hpp b/src/engine/display/delta/draw_op_buffer.hpp
index f97dfa94b..48c3d36c2 100644
--- a/src/engine/display/delta/draw_op_buffer.hpp
+++ b/src/engine/display/delta/draw_op_buffer.hpp
@@ -39,7 +39,7 @@ class DrawOpBuffer
 private:
   typedef std::vector<DrawOp*> DrawOps;
   DrawOps draw_ops;
-  
+
   MemoryPool<DrawOp> mempool;
 
 public:
@@ -54,13 +54,13 @@ public:
 
   /** Calculate the regions that are different between \a frontbuffer
       and \a backbuffer, results are written to \a changed_regions  */
-  void buffer_difference_slow(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer, 
+  void buffer_difference_slow(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer,
                               std::vector<Rect>& changed_regions);
   bool buffer_equal(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer);
 
   /** Calculate the regions that are different between \a frontbuffer
       and \a backbuffer, results are written to \a changed_regions  */
-  void buffer_difference(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer, 
+  void buffer_difference(const DrawOpBuffer& frontbuffer, const DrawOpBuffer& backbuffer,
                          std::vector<Rect>& changed_regions);
   void render(SDLFramebuffer& fb, DrawOpBuffer& frontbuffer);
 };
diff --git a/src/engine/display/delta/draw_rect_draw_op.hpp b/src/engine/display/delta/draw_rect_draw_op.hpp
index 688d2e3cd..8f62ec7cb 100644
--- a/src/engine/display/delta/draw_rect_draw_op.hpp
+++ b/src/engine/display/delta/draw_rect_draw_op.hpp
@@ -21,7 +21,7 @@ struct DrawRectDrawOp : public DrawOp
 {
   Rect  rect;
   Color color;
-  
+
   DrawRectDrawOp(const Rect& rect_, const Color& color_)
     : DrawOp(DRAWRECT_DRAWOP),
       rect(rect_),
@@ -33,13 +33,13 @@ struct DrawRectDrawOp : public DrawOp
   void render(Framebuffer& fb) {
     fb.draw_rect(rect, color);
   }
-  
+
   void mark_changed_regions(std::vector<Rect>& update_rects) const {
     update_rects.push_back(rect);
   }
 
   bool operator==(const DrawRectDrawOp& rhs) const {
-    return 
+    return
       rect  == rhs.rect &&
       color == rhs.color;
   }
diff --git a/src/engine/display/delta/fill_rect_draw_op.hpp b/src/engine/display/delta/fill_rect_draw_op.hpp
index 818ebe2ad..cc5dc2fe1 100644
--- a/src/engine/display/delta/fill_rect_draw_op.hpp
+++ b/src/engine/display/delta/fill_rect_draw_op.hpp
@@ -21,7 +21,7 @@ struct FillRectDrawOp : public DrawOp
 {
   Rect  rect;
   Color color;
-  
+
   FillRectDrawOp(const Rect& rect_, const Color& color_)
     : DrawOp(FILLRECT_DRAWOP),
       rect(rect_),
@@ -33,13 +33,13 @@ struct FillRectDrawOp : public DrawOp
   void render(Framebuffer& fb) {
     fb.fill_rect(rect, color);
   }
-  
+
   void mark_changed_regions(std::vector<Rect>& update_rects) const {
     update_rects.push_back(rect);
   }
 
   bool operator==(const FillRectDrawOp& rhs) const {
-    return 
+    return
       rect  == rhs.rect &&
       color == rhs.color;
   }
diff --git a/src/engine/display/delta/rect_merger.cpp b/src/engine/display/delta/rect_merger.cpp
index e836e3562..940afb825 100644
--- a/src/engine/display/delta/rect_merger.cpp
+++ b/src/engine/display/delta/rect_merger.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -29,19 +29,19 @@ struct Mark {
 };
 
 // [top, bottom[
-struct Row 
+struct Row
 {
   int top;
   int bottom;
   std::vector<Mark> marks;
-  
+
   Row() :
     top(),
     bottom(),
     marks()
   {}
 };
- 
+
 bool rect_y_sorter(const Rect& lhs, const Rect& rhs)
 {
   return lhs.top < rhs.top;
@@ -79,7 +79,7 @@ void print_rows(std::ostream& out, const std::vector<Row>& rows)
     for(std::vector<Mark>::const_iterator mark_it = i->marks.begin(); mark_it != i->marks.end(); ++mark_it)
     {
       out << ((mark_it->type == Mark::START_MARK) ? "'(" : "')")
-          << mark_it->pos 
+          << mark_it->pos
           << ((mark_it->type == Mark::START_MARK) ? "(' " : ")' ");
     }
     out << std::endl;
@@ -115,7 +115,7 @@ void generate_rows(const std::vector<Rect>& rects, std::vector<Row>& rows_out)
     marks.push_back(Mark(Mark::END_MARK,   i->bottom));
   }
   std::sort(marks.begin(), marks.end(), mark_sorter);
-  
+
   assert(!marks.empty());
   assert(marks.front().type == Mark::START_MARK);
   assert(marks.back().type  == Mark::END_MARK);
@@ -124,15 +124,15 @@ void generate_rows(const std::vector<Rect>& rects, std::vector<Row>& rows_out)
   std::vector<Mark>::const_iterator start = marks.begin();
   for(std::vector<Mark>::const_iterator i = marks.begin()+1; i != marks.end(); ++i)
   { // FIXME: This will generate empty rows (harmless, but not pretty)
-      
+
     if (i->pos != start->pos)
     {
       Row row;
       row.top    = start->pos;
       row.bottom = i->pos;
-            
+
       rows_out.push_back(row);
-            
+
       start = i;
     }
   }
@@ -158,9 +158,9 @@ void split_rectangles(const std::vector<Rect>& rects, std::vector<Row>& rows)
       Mark start(Mark::START_MARK, rect->left);
       Mark end  (Mark::END_MARK,   rect->right);
 
-      for(std::vector<Row>::iterator this_row = row; 
+      for(std::vector<Row>::iterator this_row = row;
           this_row != rows.end() && (this_row->bottom <= (rect->bottom));
-          ++this_row)       
+          ++this_row)
       { // go over all rows that this rect overlaps with
         this_row->marks.push_back(start);
         this_row->marks.push_back(end);
@@ -177,7 +177,7 @@ void split_rectangles(const std::vector<Rect>& rects, std::vector<Row>& rows)
     list of rectangles which are written to \a rects_out
 
     @param[in]  rows       List of rows used to generate rects_out
-    @param[out] rects_out  Empty vector into which the newly generated rects are added 
+    @param[out] rects_out  Empty vector into which the newly generated rects are added
 */
 void generate_rectangles(const std::vector<Row>& rows, std::vector<Rect>& rects_out)
 {
@@ -194,7 +194,7 @@ void generate_rectangles(const std::vector<Row>& rows, std::vector<Rect>& rects_
         if (marks.front().type != Mark::START_MARK)
         {
           for(std::vector<Mark>::const_iterator mark_it = marks.begin(); mark_it != marks.end(); )
-            log_error("%1% %2%", 
+            log_error("%1% %2%",
                       (mark_it->type == Mark::START_MARK) ? "'(" : "')",
                       mark_it->pos);
           assert(!"False");
@@ -212,15 +212,15 @@ void generate_rectangles(const std::vector<Row>& rows, std::vector<Rect>& rects_
 
         if (parenthesis_count == 0)
         {
-          if ((mark_it+1) != marks.end() && 
+          if ((mark_it+1) != marks.end() &&
               (mark_it+1)->type == Mark::START_MARK &&
               (mark_it+1)->pos  == mark_it->pos)
-          { 
+          {
             parenthesis_count += 1;
           }
           else
           {
-            rects_out.push_back(Rect(start,        i->top, 
+            rects_out.push_back(Rect(start,        i->top,
                                      mark_it->pos, i->bottom));
             ++mark_it;
             if (mark_it != marks.end())
@@ -237,16 +237,16 @@ void generate_rectangles(const std::vector<Row>& rows, std::vector<Rect>& rects_
 }
 
 /** Takes a list of rectangles and merges non overlapping vertically
-    adjacent rectangles that have the same left and right borders 
+    adjacent rectangles that have the same left and right borders
 
     @param[in]  rects     List of rectangles to be merged, must be sorted with rect_xy_sorter
     @param[out] rects_out Empty vector into which the newly merged rects are added
 */
 void merge_vertical_rectangles(const std::vector<Rect>& rects, std::vector<Rect>& rects_out)
-{  
+{
   //assert(__gnu_cxx::is_sorted(rects.begin(), rects.end(), rect_xy_sorter));
   assert(!rects.empty());
-  
+
   Rect rect = rects.front();
   for(std::vector<Rect>::const_iterator i = rects.begin()+1; i != rects.end(); ++i)
   {
diff --git a/src/engine/display/delta/rect_merger.hpp b/src/engine/display/delta/rect_merger.hpp
index 95f6e3b17..1e2396194 100644
--- a/src/engine/display/delta/rect_merger.hpp
+++ b/src/engine/display/delta/rect_merger.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -23,6 +23,6 @@
 
 void merge_rectangles(const std::vector<Rect>& rects_in, std::vector<Rect>& rects_out);
 
-#endif 
+#endif
 
 /* EOF */
diff --git a/src/engine/display/delta/surface_draw_op.hpp b/src/engine/display/delta/surface_draw_op.hpp
index 9e6d6a761..db158a3aa 100644
--- a/src/engine/display/delta/surface_draw_op.hpp
+++ b/src/engine/display/delta/surface_draw_op.hpp
@@ -22,7 +22,7 @@ struct SurfaceDrawOp : public DrawOp
   Vector2i           pos;
   FramebufferSurface surface;
   Rect               rect;
-  
+
   SurfaceDrawOp(const Vector2i& pos_,
                 const FramebufferSurface& surface_,
                 const Rect& rect_) :
@@ -37,13 +37,13 @@ struct SurfaceDrawOp : public DrawOp
   void render(Framebuffer& fb) {
     fb.draw_surface(surface, rect, pos);
   }
-  
+
   void mark_changed_regions(std::vector<Rect>& update_rects) const {
     update_rects.push_back(Rect(pos, rect.get_size()));
   }
 
   bool operator==(const SurfaceDrawOp& rhs) const {
-    return 
+    return
       pos     == rhs.pos &&
       surface == rhs.surface &&
       rect    == rhs.rect;
diff --git a/src/engine/display/display.cpp b/src/engine/display/display.cpp
index 7cf97919b..0d3a1a603 100644
--- a/src/engine/display/display.cpp
+++ b/src/engine/display/display.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -118,7 +118,7 @@ Display::create_window(FramebufferType framebuffer_type, const Size& size, bool
       s_framebuffer = std::unique_ptr<Framebuffer>(new SDLFramebuffer());
       s_framebuffer->set_video_mode(size, fullscreen, resizable);
       break;
-          
+
     default:
       assert(!"Unknown framebuffer_type");
       break;
@@ -137,7 +137,7 @@ Display::set_video_mode(const Size& size, bool fullscreen, bool resizable)
   {
     s_framebuffer->set_video_mode(size, fullscreen, resizable);
   }
-  
+
   if (ScreenManager::instance())
   {
     ScreenManager::instance()->resize(s_framebuffer->get_size());
@@ -147,7 +147,7 @@ Display::set_video_mode(const Size& size, bool fullscreen, bool resizable)
 Framebuffer*
 Display::get_framebuffer()
 {
-  return s_framebuffer.get(); 
+  return s_framebuffer.get();
 }
 
 Size
@@ -160,19 +160,19 @@ Display::find_closest_fullscreen_video_mode(const Size& size)
     return size;
   }
   else if(modes == reinterpret_cast<SDL_Rect**>(-1))
-  {  
+  {
     return size;
   }
-  else 
+  else
   {
     // FIXME: This might not work that well with different aspect ratios
     int distance = -1;
     Size best_fit = size;
-      
+
     for(int i = 0; modes[i]; ++i)
     {
       int this_distance = abs(size.width - modes[i]->w) + abs(size.height - modes[i]->h);
-          
+
       if (distance == -1 || distance > this_distance)
       {
         distance = this_distance;
@@ -198,12 +198,12 @@ struct SortBySize
 std::vector<Size>
 Display::get_fullscreen_video_modes()
 {
-  std::vector<Size> video_modes;  
+  std::vector<Size> video_modes;
   SDL_Rect** modes = SDL_ListModes(NULL, SDL_FULLSCREEN);
 
   if (modes == reinterpret_cast<SDL_Rect**>(0))
   { // No resolutions at all available, bad
-      
+
   }
   else if(modes == reinterpret_cast<SDL_Rect**>(-1))
   {  // FIXME: Under which OSs is this triggred, if ever?
@@ -225,7 +225,7 @@ Display::get_fullscreen_video_modes()
     video_modes.push_back(Size(1920, 1080)); // 16:9, HD-TV, 1080p
     video_modes.push_back(Size(1920, 1200)); // 16:10
   }
-  else 
+  else
   {
     for(int i = 0; modes[i]; ++i)
     {
diff --git a/src/engine/display/display.hpp b/src/engine/display/display.hpp
index 8e56c3816..29802742e 100644
--- a/src/engine/display/display.hpp
+++ b/src/engine/display/display.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -46,7 +46,7 @@ public:
 
   static bool is_fullscreen();
   static bool is_resizable();
-  
+
   static Framebuffer* get_framebuffer();
 
   static Size find_closest_fullscreen_video_mode(const Size& size);
diff --git a/src/engine/display/drawing_context.cpp b/src/engine/display/drawing_context.cpp
index d8d2169d1..3550063df 100644
--- a/src/engine/display/drawing_context.cpp
+++ b/src/engine/display/drawing_context.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,7 +41,7 @@ private:
 public:
   FontDrawingRequest(Font font_, Origin origin_, const Vector2i& pos_, const std::string& text_, float z_)
     : DrawingRequest(pos_, z_),
-      font(font_), 
+      font(font_),
       origin(origin_),
       text(text_)
   {
@@ -79,7 +79,7 @@ private:
   Color color;
 
 public:
-  FillScreenDrawingRequest(const Color& color_) 
+  FillScreenDrawingRequest(const Color& color_)
     : DrawingRequest(Vector2i(0, 0), -1000.0f),
       color(color_)
   {
@@ -99,8 +99,8 @@ private:
   Color    color;
 
 public:
-  LineDrawingRequest(const Vector2i& pos1_, 
-                     const Vector2i& pos2_, 
+  LineDrawingRequest(const Vector2i& pos1_,
+                     const Vector2i& pos2_,
                      const Color&  color_,
                      float z_)
     : DrawingRequest(Vector2i(0, 0), z_),
@@ -123,27 +123,27 @@ private:
   Rect  d_rect;
   Color color;
   bool  filled;
-  
+
 public:
   RectDrawingRequest(const Rect& rect_, const Color& color_, bool filled_, float z_)
     : DrawingRequest(Vector2i(0, 0), z_),
       d_rect(rect_), color(color_), filled(filled_)
   {}
-  
+
   void render(Framebuffer& fb, const Rect& rect)
   {
     if (filled)
     {
-      fb.fill_rect(Rect(Vector2i(d_rect.left + rect.left, 
+      fb.fill_rect(Rect(Vector2i(d_rect.left + rect.left,
                                  d_rect.top  + rect.top),
-                        d_rect.get_size()), 
+                        d_rect.get_size()),
                    color);
     }
     else
     {
-      fb.draw_rect(Rect(Vector2i(d_rect.left + rect.left, 
+      fb.draw_rect(Rect(Vector2i(d_rect.left + rect.left,
                                  d_rect.top  + rect.top),
-                        d_rect.get_size()), 
+                        d_rect.get_size()),
                    color);
     }
   }
@@ -153,13 +153,13 @@ class DrawingContextDrawingRequest : public DrawingRequest
 {
 private:
   DrawingContext& dc;
-  
+
 public:
   DrawingContextDrawingRequest(DrawingContext& dc_, float z_)
     : DrawingRequest(Vector2i(0,0), z_),
       dc(dc_)
   {}
-  
+
   virtual ~DrawingContextDrawingRequest()
   {
   }
@@ -189,7 +189,7 @@ DrawingContext::DrawingContext() :
 
 DrawingContext::~DrawingContext()
 {
-  if (drawingrequests.size() > 0) 
+  if (drawingrequests.size() > 0)
     clear();
 }
 
@@ -201,11 +201,11 @@ DrawingContext::render(Framebuffer& fb, const Rect& parent_rect)
                  Math::min(rect.right  + parent_rect.left, parent_rect.right),
                  Math::min(rect.bottom + parent_rect.top,  parent_rect.bottom));
 
-  if (do_clipping) 
+  if (do_clipping)
     fb.push_cliprect(this_rect);
 
   std::stable_sort(drawingrequests.begin(), drawingrequests.end(), DrawingRequestsSorter());
-  
+
   if (0)
   {
     log_info("<<<<<<<<<<<<<<");
@@ -219,7 +219,7 @@ DrawingContext::render(Framebuffer& fb, const Rect& parent_rect)
     (*i)->render(fb, this_rect); // FIXME: Should we clip size against parent rect?
   }
 
-  if (do_clipping) 
+  if (do_clipping)
     fb.pop_cliprect();
 }
 
@@ -271,20 +271,20 @@ DrawingContext::draw_line(const Vector2i& pos1, const Vector2i& pos2,
 void
 DrawingContext::draw_fillrect(const Rect& rect_, const Color& color_, float z_)
 {
-  draw(new RectDrawingRequest(Rect(int(rect_.left + translate_stack.back().x), 
-                                   int(rect_.top + translate_stack.back().y), 
-                                   int(rect_.right + translate_stack.back().x), 
+  draw(new RectDrawingRequest(Rect(int(rect_.left + translate_stack.back().x),
+                                   int(rect_.top + translate_stack.back().y),
+                                   int(rect_.right + translate_stack.back().x),
                                    int(rect_.bottom + translate_stack.back().y)),
                               color_,
                               true,
-                              z_));  
+                              z_));
 }
 
 void
 DrawingContext::draw_rect(const Rect& rect_, const Color& color_, float z_)
 {
   draw(new RectDrawingRequest(Rect(int(rect_.left   + translate_stack.back().x),
-                                   int(rect_.top    + translate_stack.back().y), 
+                                   int(rect_.top    + translate_stack.back().y),
                                    int(rect_.right  + translate_stack.back().x),
                                    int(rect_.bottom + translate_stack.back().y)),
                               color_,
@@ -354,13 +354,13 @@ DrawingContext::get_width() const
 int
 DrawingContext::get_height() const
 {
-  return rect.get_height();  
+  return rect.get_height();
 }
 
 void
 DrawingContext::print_left(const Font& font_, const Vector2i& pos, const std::string& str, float z)
 {
-  draw(new FontDrawingRequest(font_, 
+  draw(new FontDrawingRequest(font_,
                               origin_top_left,
                               pos + translate_stack.back(),
                               str,
@@ -370,7 +370,7 @@ DrawingContext::print_left(const Font& font_, const Vector2i& pos, const std::st
 void
 DrawingContext::print_center(const Font& font_, const Vector2i& pos, const std::string& str, float z)
 {
-  draw(new FontDrawingRequest(font_, 
+  draw(new FontDrawingRequest(font_,
                               origin_top_center,
                               pos + translate_stack.back(),
                               str,
@@ -380,7 +380,7 @@ DrawingContext::print_center(const Font& font_, const Vector2i& pos, const std::
 void
 DrawingContext::print_right(const Font& font_, const Vector2i& pos, const std::string& str, float z)
 {
-  draw(new FontDrawingRequest(font_, 
+  draw(new FontDrawingRequest(font_,
                               origin_top_right,
                               pos + translate_stack.back(),
                               str,
@@ -390,14 +390,14 @@ DrawingContext::print_right(const Font& font_, const Vector2i& pos, const std::s
 Vector2i
 DrawingContext::screen_to_world(const Vector2i pos)
 {
-  return pos - Vector2i(int(translate_stack.back().x + rect.left), 
+  return pos - Vector2i(int(translate_stack.back().x + rect.left),
                         int(translate_stack.back().y + rect.top));
 }
 
 Vector2i
 DrawingContext::world_to_screen(const Vector2i pos)
 {
-  return pos + Vector2i(int(translate_stack.back().x + rect.left), 
+  return pos + Vector2i(int(translate_stack.back().x + rect.left),
                         int(translate_stack.back().y + rect.top));
 }
 
diff --git a/src/engine/display/drawing_context.hpp b/src/engine/display/drawing_context.hpp
index 17f2b1276..a9369df6c 100644
--- a/src/engine/display/drawing_context.hpp
+++ b/src/engine/display/drawing_context.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -68,7 +68,7 @@ public:
 
   void draw(const Sprite& sprite, const Vector2i& pos, float z = 0);
   void draw(const Sprite& sprite, const Vector3f& pos);
-  
+
   /** Fills the screen with a given color, this is different from
       clear() in that it doesn't remove other DrawingRequest from the
       queue */
diff --git a/src/engine/display/drawing_request.hpp b/src/engine/display/drawing_request.hpp
index cc66f8fec..f47b6316c 100644
--- a/src/engine/display/drawing_request.hpp
+++ b/src/engine/display/drawing_request.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -33,7 +33,7 @@ protected:
 public:
   DrawingRequest(const Vector2i& pos_, float z_) : pos(pos_), z(z_) {}
   virtual ~DrawingRequest() {};
-  
+
   /** \a rect is the rectangle that is managed by the parent
       DrawingContext, all calls to fb have to be offset with
       (rect.left,rect.top)  */
diff --git a/src/engine/display/font.cpp b/src/engine/display/font.cpp
index 4d2cb4db2..f1d6f23c7 100644
--- a/src/engine/display/font.cpp
+++ b/src/engine/display/font.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -33,7 +33,7 @@ public:
   float  char_spacing;
   float  vertical_spacing;
   int    size;
-  
+
   FontImpl(const FontDescription& desc) :
     framebuffer_surfaces(),
     glyphs(),
@@ -43,10 +43,10 @@ public:
     size(desc.size)
   {
     vertical_spacing = static_cast<float>(size) * desc.vertical_spacing;
-   
+
     glyphs.resize(65536, 0); // 16bit ought to be enough for everybody
 
-    // Copyh Unicode -> Glyph mapping 
+    // Copyh Unicode -> Glyph mapping
     for(std::vector<GlyphImageDescription>::size_type j = 0; j < desc.images.size(); ++j)
     {
       Surface surface(desc.images[j].pathname);
@@ -72,7 +72,7 @@ public:
           else
           {
             log_warn("unicode collision on %1%", i->unicode);
-          }            
+          }
         }
         else
         {
@@ -109,7 +109,7 @@ public:
 
     float dstx = float(x - offset.x);
     float dsty = float(y - offset.y);
-    
+
     UTF8::iterator i(text);
     while(i.next())
     {
@@ -146,7 +146,7 @@ public:
   {
     float width = 0.0f;
     float last_width = 0;
-    
+
     UTF8::iterator i(text);
     while(i.next())
     {
@@ -198,7 +198,7 @@ void
 Font::render(Origin origin, int x, int y, const std::string& text, Framebuffer& fb)
 {
   if (impl)
-    impl->render(origin, x,y,text, fb); 
+    impl->render(origin, x,y,text, fb);
 }
 
 int
@@ -216,7 +216,7 @@ Font::get_width(uint32_t unicode) const
   if (impl)
     return impl->get_width(unicode);
   else
-    return 0; 
+    return 0;
 }
 
 float
@@ -225,7 +225,7 @@ Font::get_width(const std::string& text) const
   if (impl)
     return impl->get_width(text);
   else
-    return 0;  
+    return 0;
 }
 
 Size
@@ -234,7 +234,7 @@ Font::get_size(const std::string& str) const
   if (impl)
     return impl->get_size(str);
   else
-    return Size(); 
+    return Size();
 }
 
 Rect
diff --git a/src/engine/display/font.hpp b/src/engine/display/font.hpp
index 4ac075f08..a1e34a8ff 100644
--- a/src/engine/display/font.hpp
+++ b/src/engine/display/font.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/font_description.cpp b/src/engine/display/font_description.cpp
index cace412a0..a575c0b72 100644
--- a/src/engine/display/font_description.cpp
+++ b/src/engine/display/font_description.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -22,17 +22,17 @@
 #include "util/raise_exception.hpp"
 
 GlyphDescription::GlyphDescription() :
-  image(0), 
-  unicode(0), 
+  image(0),
+  unicode(0),
   offset(),
   advance(0),
   rect()
-{  
+{
 }
 
 GlyphDescription::GlyphDescription(const FileReader& reader) :
-  image(0), 
-  unicode(0), 
+  image(0),
+  unicode(0),
   offset(),
   advance(0),
   rect()
@@ -76,7 +76,7 @@ FontDescription::FontDescription(const Pathname& pathname_) :
       {
         GlyphImageDescription image_desc;
         i->read_path("filename",             image_desc.pathname);
-      
+
         FileReader glyph_section;
         if (i->read_section("glyphs", glyph_section))
         {
diff --git a/src/engine/display/font_description.hpp b/src/engine/display/font_description.hpp
index a2838751a..1a602f099 100644
--- a/src/engine/display/font_description.hpp
+++ b/src/engine/display/font_description.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,9 +28,9 @@ class GlyphDescription
 {
 public:
   int      image;
-  uint32_t unicode; 
+  uint32_t unicode;
   Vector2i offset;
-  int      advance; 
+  int      advance;
   Rect     rect;
 
   GlyphDescription();
@@ -59,7 +59,7 @@ public:
 
   /** Space between two characters, given in pixel */
   float char_spacing;
-  
+
   /** Spacing between lines, given in multiples of \a size */
   float vertical_spacing;
 
diff --git a/src/engine/display/framebuffer.hpp b/src/engine/display/framebuffer.hpp
index daa44b09d..f894e6c08 100644
--- a/src/engine/display/framebuffer.hpp
+++ b/src/engine/display/framebuffer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/framebuffer_surface.cpp b/src/engine/display/framebuffer_surface.cpp
index 7b0b52228..172a54ecd 100644
--- a/src/engine/display/framebuffer_surface.cpp
+++ b/src/engine/display/framebuffer_surface.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -22,28 +22,28 @@ FramebufferSurface::FramebufferSurface() :
 }
 
 FramebufferSurface::FramebufferSurface(FramebufferSurfaceImpl* impl_) :
-  impl(impl_) 
+  impl(impl_)
 {
 }
 
-FramebufferSurface::~FramebufferSurface() 
+FramebufferSurface::~FramebufferSurface()
 {
 }
 
 int
-FramebufferSurface::get_width()  const 
+FramebufferSurface::get_width()  const
 {
   if (impl.get())
-    return impl->get_width(); 
-  else 
+    return impl->get_width();
+  else
     return 0;
 }
 
 int
-FramebufferSurface::get_height() const 
+FramebufferSurface::get_height() const
 {
   if (impl.get())
-    return impl->get_height(); 
+    return impl->get_height();
   else
     return 0;
 }
@@ -52,7 +52,7 @@ Size
 FramebufferSurface::get_size() const
 {
   if (impl.get())
-    return Size(impl->get_width(), impl->get_height()); 
+    return Size(impl->get_width(), impl->get_height());
   else
     return Size(0, 0);
 }
@@ -60,24 +60,24 @@ FramebufferSurface::get_size() const
 FramebufferSurfaceImpl*
 FramebufferSurface::get_impl() const
 {
-  return impl.get(); 
+  return impl.get();
 }
 
 bool
-FramebufferSurface::operator==(const FramebufferSurface& other) const 
+FramebufferSurface::operator==(const FramebufferSurface& other) const
 {
-  return impl == other.impl; 
+  return impl == other.impl;
 }
 
-FramebufferSurface::operator bool() const 
+FramebufferSurface::operator bool() const
 {
-  return impl.get() != 0; 
+  return impl.get() != 0;
 }
 
 long
-FramebufferSurface::use_count() const 
+FramebufferSurface::use_count() const
 {
-  return impl.use_count(); 
+  return impl.use_count();
 }
-  
+
 /* EOF */
diff --git a/src/engine/display/framebuffer_surface.hpp b/src/engine/display/framebuffer_surface.hpp
index 433dc6d18..e0701f870 100644
--- a/src/engine/display/framebuffer_surface.hpp
+++ b/src/engine/display/framebuffer_surface.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/graphic_context_state.cpp b/src/engine/display/graphic_context_state.cpp
index a149e68bb..8d7cb5728 100644
--- a/src/engine/display/graphic_context_state.cpp
+++ b/src/engine/display/graphic_context_state.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -21,7 +21,7 @@
 class GraphicContextStateImpl
 {
 public:
-  Rect rect; 
+  Rect rect;
   Vector2i offset;
 
   bool have_limit;
@@ -45,9 +45,9 @@ GraphicContextState::GraphicContextState()
 
 GraphicContextState::GraphicContextState(int w, int h)
   : impl(new GraphicContextStateImpl())
-{  
+{
   impl->rect       = Rect(Vector2i(0,0), Size(w, h));
-  impl->offset     = Vector2i(0,0); 
+  impl->offset     = Vector2i(0,0);
   impl->have_limit = false;
 }
 
@@ -55,8 +55,8 @@ GraphicContextState::GraphicContextState(const Rect& rect)
   : impl(new GraphicContextStateImpl())
 {
   impl->rect       = rect;
-  impl->offset     = Vector2i(0,0); 
-  impl->have_limit = false;  
+  impl->offset     = Vector2i(0,0);
+  impl->have_limit = false;
 }
 
 void
@@ -162,20 +162,20 @@ GraphicContextState::screen2world(const Vector2i& pos_) const
                pos_.y - impl->rect.top);
 
   return pos
-    - Vector2i(impl->rect.left, impl->rect.top) 
+    - Vector2i(impl->rect.left, impl->rect.top)
     - impl->offset;
 }
 
 int
-GraphicContextState::get_width()  const 
+GraphicContextState::get_width()  const
 {
-  return impl->rect.get_width(); 
+  return impl->rect.get_width();
 }
 
 int
-GraphicContextState::get_height() const 
-{ 
-  return impl->rect.get_height(); 
+GraphicContextState::get_height() const
+{
+  return impl->rect.get_height();
 }
 
 /* EOF */
diff --git a/src/engine/display/graphic_context_state.hpp b/src/engine/display/graphic_context_state.hpp
index 652a059c4..42bdc3db0 100644
--- a/src/engine/display/graphic_context_state.hpp
+++ b/src/engine/display/graphic_context_state.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/null_framebuffer.cpp b/src/engine/display/null_framebuffer.cpp
index 6d6c6a4ab..1cc389e25 100644
--- a/src/engine/display/null_framebuffer.cpp
+++ b/src/engine/display/null_framebuffer.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/null_framebuffer.hpp b/src/engine/display/null_framebuffer.hpp
index 34681c672..4ad13b691 100644
--- a/src/engine/display/null_framebuffer.hpp
+++ b/src/engine/display/null_framebuffer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/opengl/opengl_framebuffer.cpp b/src/engine/display/opengl/opengl_framebuffer.cpp
index 81ab25544..f8b362f71 100644
--- a/src/engine/display/opengl/opengl_framebuffer.cpp
+++ b/src/engine/display/opengl/opengl_framebuffer.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -23,7 +23,7 @@
 
 OpenGLFramebuffer::OpenGLFramebuffer() :
   screen(),
-  cliprect_stack()  
+  cliprect_stack()
 {
 }
 
@@ -37,7 +37,7 @@ void
 OpenGLFramebuffer::set_video_mode(const Size& size, bool fullscreen, bool resizable)
 {
   int flags = SDL_OPENGL;
-  
+
   if (fullscreen)
   {
     flags |= SDL_FULLSCREEN;
@@ -47,10 +47,10 @@ OpenGLFramebuffer::set_video_mode(const Size& size, bool fullscreen, bool resiza
     flags |= SDL_RESIZABLE;
   }
 
-  int bpp = 0; // auto-detect 
+  int bpp = 0; // auto-detect
   screen = SDL_SetVideoMode(size.width, size.height, bpp, flags);
 
-  if(screen == 0) 
+  if(screen == 0)
   {
     std::ostringstream msg;
     msg << "Couldn't set video mode (" << size.width << "x" << size.height
@@ -96,7 +96,7 @@ OpenGLFramebuffer::flip()
 {
   SDL_GL_SwapBuffers();
 }
-  
+
 void
 OpenGLFramebuffer::push_cliprect(const Rect& rect)
 {
@@ -109,15 +109,15 @@ OpenGLFramebuffer::push_cliprect(const Rect& rect)
   }
   else
   {
-    cliprect_stack.push_back(Rect(Math::max(cliprect_stack.back().left,   rect.left), 
-                                  Math::max(cliprect_stack.back().top,    rect.top), 
-                                  Math::min(cliprect_stack.back().right,  rect.right), 
+    cliprect_stack.push_back(Rect(Math::max(cliprect_stack.back().left,   rect.left),
+                                  Math::max(cliprect_stack.back().top,    rect.top),
+                                  Math::min(cliprect_stack.back().right,  rect.right),
                                   Math::min(cliprect_stack.back().bottom, rect.bottom)));
   }
 
   glScissor(cliprect_stack.back().left,
-            screen->h - cliprect_stack.back().bottom, 
-            cliprect_stack.back().get_width(), 
+            screen->h - cliprect_stack.back().bottom,
+            cliprect_stack.back().get_width(),
             cliprect_stack.back().get_height());
 }
 
@@ -133,7 +133,7 @@ OpenGLFramebuffer::pop_cliprect()
   else
   {
     const Rect& rect = cliprect_stack.back();
-    glScissor(rect.left,        rect.top, 
+    glScissor(rect.left,        rect.top,
               rect.get_width(), rect.get_height());
   }
 }
@@ -148,9 +148,9 @@ void
 OpenGLFramebuffer::draw_surface(const FramebufferSurface& src, const Rect& srcrect, const Vector2i& pos)
 {
   const OpenGLFramebufferSurfaceImpl* texture = static_cast<OpenGLFramebufferSurfaceImpl*>(src.get_impl());
-  
+
   glBindTexture(GL_TEXTURE_2D, texture->get_handle());
-  
+
   int vertices[] = {
     pos.x,                     pos.y,
     pos.x+srcrect.get_width(), pos.y,
@@ -158,18 +158,18 @@ OpenGLFramebuffer::draw_surface(const FramebufferSurface& src, const Rect& srcre
     pos.x,                     pos.y+srcrect.get_height(),
   };
   glVertexPointer(2, GL_INT, 0, vertices);
-  
+
   float uvs[] = {
-    static_cast<float>(srcrect.left)   / static_cast<float>(texture->get_texture_size().width), 
+    static_cast<float>(srcrect.left)   / static_cast<float>(texture->get_texture_size().width),
     static_cast<float>(srcrect.top)    / static_cast<float>(texture->get_texture_size().height),
 
-    static_cast<float>(srcrect.right)  / static_cast<float>(texture->get_texture_size().width), 
+    static_cast<float>(srcrect.right)  / static_cast<float>(texture->get_texture_size().width),
     static_cast<float>(srcrect.top)    / static_cast<float>(texture->get_texture_size().height),
 
-    static_cast<float>(srcrect.right)  / static_cast<float>(texture->get_texture_size().width), 
+    static_cast<float>(srcrect.right)  / static_cast<float>(texture->get_texture_size().width),
     static_cast<float>(srcrect.bottom) / static_cast<float>(texture->get_texture_size().height),
 
-    static_cast<float>(srcrect.left)   / static_cast<float>(texture->get_texture_size().width), 
+    static_cast<float>(srcrect.left)   / static_cast<float>(texture->get_texture_size().width),
     static_cast<float>(srcrect.bottom) / static_cast<float>(texture->get_texture_size().height)
   };
 
diff --git a/src/engine/display/opengl/opengl_framebuffer.hpp b/src/engine/display/opengl/opengl_framebuffer.hpp
index 14f8423f6..fd5831705 100644
--- a/src/engine/display/opengl/opengl_framebuffer.hpp
+++ b/src/engine/display/opengl/opengl_framebuffer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -34,7 +34,7 @@ public:
   bool is_fullscreen() const;
   bool is_resizable() const;
   void flip();
-  
+
   void push_cliprect(const Rect&);
   void pop_cliprect();
 
diff --git a/src/engine/display/opengl/opengl_framebuffer_surface_impl.cpp b/src/engine/display/opengl/opengl_framebuffer_surface_impl.cpp
index 68fd6aef8..a8b6a0fa5 100644
--- a/src/engine/display/opengl/opengl_framebuffer_surface_impl.cpp
+++ b/src/engine/display/opengl/opengl_framebuffer_surface_impl.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,7 +28,7 @@ inline int next_power_of_two(int val)
   return result;
 }
 
-} // namespace 
+} // namespace
 
 OpenGLFramebufferSurfaceImpl::OpenGLFramebufferSurfaceImpl(SDL_Surface* src) :
   m_handle(),
@@ -36,7 +36,7 @@ OpenGLFramebufferSurfaceImpl::OpenGLFramebufferSurfaceImpl(SDL_Surface* src) :
   m_texture_size()
 {
   glGenTextures(1, &m_handle);
-  
+
   m_texture_size.width  = next_power_of_two(src->w);
   m_texture_size.height = next_power_of_two(src->h);
 
@@ -52,7 +52,7 @@ OpenGLFramebufferSurfaceImpl::OpenGLFramebufferSurfaceImpl(SDL_Surface* src) :
 #endif
   SDL_SetAlpha(src, 0, 0);
   SDL_BlitSurface(src, 0, convert, 0);
-  
+
   GLenum sdl_format;
   if(convert->format->BytesPerPixel == 3)
     sdl_format = GL_RGB;
@@ -74,8 +74,8 @@ OpenGLFramebufferSurfaceImpl::OpenGLFramebufferSurfaceImpl(SDL_Surface* src) :
   glTexImage2D(GL_TEXTURE_2D, 0, GL_RGBA, m_texture_size.width, m_texture_size.height, 0,
                sdl_format, GL_UNSIGNED_BYTE, convert->pixels);
   SDL_UnlockSurface(convert);
-   
-  SDL_FreeSurface(convert);  
+
+  SDL_FreeSurface(convert);
 
   // Unbind the texture
   glBindTexture(GL_TEXTURE_2D, 0);
diff --git a/src/engine/display/opengl/opengl_framebuffer_surface_impl.hpp b/src/engine/display/opengl/opengl_framebuffer_surface_impl.hpp
index 51f24db14..f53471b20 100644
--- a/src/engine/display/opengl/opengl_framebuffer_surface_impl.hpp
+++ b/src/engine/display/opengl/opengl_framebuffer_surface_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/resource_modifier.cpp b/src/engine/display/resource_modifier.cpp
index 4113dc8fd..8760afe5f 100644
--- a/src/engine/display/resource_modifier.cpp
+++ b/src/engine/display/resource_modifier.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/resource_modifier.hpp b/src/engine/display/resource_modifier.hpp
index 4bdd6df48..1992c88bc 100644
--- a/src/engine/display/resource_modifier.hpp
+++ b/src/engine/display/resource_modifier.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -22,7 +22,7 @@
 namespace ResourceModifier {
 
 /** This array contains possible modifications of a surface */
-enum Enum 
+enum Enum
 {
   ROT0,
   ROT90,
diff --git a/src/engine/display/scene_context.cpp b/src/engine/display/scene_context.cpp
index 7a8caa8fc..eff087558 100644
--- a/src/engine/display/scene_context.cpp
+++ b/src/engine/display/scene_context.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,7 +25,7 @@ class SceneContextImpl
 public:
   DrawingContext color;
   DrawingContext light;
-  DrawingContext highlight; 
+  DrawingContext highlight;
 
   Rect cliprect;
   bool use_cliprect;
@@ -49,7 +49,7 @@ public:
   }
 };
 
-SceneContext::SceneContext() : 
+SceneContext::SceneContext() :
   impl(new SceneContextImpl())
 {
 }
@@ -66,19 +66,19 @@ SceneContext::~SceneContext()
 DrawingContext&
 SceneContext::color()
 {
-  return impl->color; 
+  return impl->color;
 }
 
 DrawingContext&
 SceneContext::light()
-{ 
-  return impl->light; 
+{
+  return impl->light;
 }
 
 DrawingContext&
 SceneContext::highlight()
-{ 
-  return impl->highlight; 
+{
+  return impl->highlight;
 }
 
 /** Translate the drawing context */
@@ -150,7 +150,7 @@ SceneContext::render(Framebuffer& fb, const Rect& rect)
   {
     impl->color.render(fb, rect);
   }
-  
+
 #if 0
   { // lightmap support
     impl->light.render(impl->canvas.get_gc());
@@ -182,13 +182,13 @@ SceneContextDrawingRequest::SceneContextDrawingRequest(SceneContext* sc_, const
 {
 }
 
-SceneContextDrawingRequest::~SceneContextDrawingRequest() 
+SceneContextDrawingRequest::~SceneContextDrawingRequest()
 {
   //delete sc;
 }
 
 void
-SceneContextDrawingRequest::render(Framebuffer& fb, const Rect& rect) 
+SceneContextDrawingRequest::render(Framebuffer& fb, const Rect& rect)
 {
   sc->render(fb, rect);
 }
diff --git a/src/engine/display/scene_context.hpp b/src/engine/display/scene_context.hpp
index 4c1449409..3fc191992 100644
--- a/src/engine/display/scene_context.hpp
+++ b/src/engine/display/scene_context.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -33,7 +33,7 @@ public:
   SceneContext();
   SceneContext(const Rect& rect);
   ~SceneContext();
-  
+
   /** The main drawing context, also known as color buffer, to this
       you draw all normal graphics, sprites and enemies, as you would
       do with a normal framebuffer */
diff --git a/src/engine/display/scene_group.hpp b/src/engine/display/scene_group.hpp
index 7b317303f..f519f83a2 100644
--- a/src/engine/display/scene_group.hpp
+++ b/src/engine/display/scene_group.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/screenshot.cpp b/src/engine/display/screenshot.cpp
index ca3aca6d3..5d259b979 100644
--- a/src/engine/display/screenshot.cpp
+++ b/src/engine/display/screenshot.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,7 +37,7 @@ Screenshot::make_screenshot()
   log_info("Screenshot: Saving screenshot to: %1%", filename);
   save(SDL_GetVideoSurface(), filename);
   log_info("Screenshot: Screenshot is done.");
-  
+
   return filename;
 }
 
@@ -68,7 +68,7 @@ Screenshot::save(SDL_Surface* surface, const std::string& filename)
           {
             int i = (y * surface->w + x);
             SDL_GetRGB(*(reinterpret_cast<uint16_t*>(pixels + y * surface->pitch + x*2)),
-                       surface->format, 
+                       surface->format,
                        buffer.get() + i*3 + 0, buffer.get() + i*3 + 1, buffer.get() + i*3 + 2);
           }
         break;
@@ -82,7 +82,7 @@ Screenshot::save(SDL_Surface* surface, const std::string& filename)
           {
             int i = (y * surface->w + x);
             SDL_GetRGB(*(reinterpret_cast<uint32_t*>(pixels + y * surface->pitch + x*3)),
-                       surface->format, 
+                       surface->format,
                        buffer.get() + i*3 + 0, buffer.get() + i*3 + 1, buffer.get() + i*3 + 2);
           }
         break;
@@ -96,7 +96,7 @@ Screenshot::save(SDL_Surface* surface, const std::string& filename)
           {
             int i = (y * surface->w + x);
             SDL_GetRGB(*(reinterpret_cast<uint32_t*>(pixels + y * surface->pitch + x*4)),
-                       surface->format, 
+                       surface->format,
                        buffer.get() + i*3 + 0, buffer.get() + i*3 + 1, buffer.get() + i*3 + 2);
           }
         break;
diff --git a/src/engine/display/screenshot.hpp b/src/engine/display/screenshot.hpp
index 2a4f94bfa..080a0f94d 100644
--- a/src/engine/display/screenshot.hpp
+++ b/src/engine/display/screenshot.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/sdl_framebuffer.cpp b/src/engine/display/sdl_framebuffer.cpp
index c2ca724cb..b32866554 100644
--- a/src/engine/display/sdl_framebuffer.cpp
+++ b/src/engine/display/sdl_framebuffer.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -162,7 +162,7 @@ SDLFramebuffer::draw_surface(const FramebufferSurface& surface, const Vector2i&
   dstrect.x = static_cast<Sint16>(pos.x);
   dstrect.y = static_cast<Sint16>(pos.y);
   dstrect.w = 0;
-  dstrect.h = 0;  
+  dstrect.h = 0;
 
   SDL_BlitSurface(src, NULL, screen, &dstrect);
 }
@@ -177,7 +177,7 @@ SDLFramebuffer::draw_surface(const FramebufferSurface& surface, const Rect& srcr
   dstrect.x = static_cast<Sint16>(pos.x);
   dstrect.y = static_cast<Sint16>(pos.y);
   dstrect.w = 0;
-  dstrect.h = 0;  
+  dstrect.h = 0;
 
   SDL_Rect sdlsrcrect;
   sdlsrcrect.x = static_cast<Sint16>(srcrect.left);
@@ -339,7 +339,7 @@ SDLFramebuffer::fill_rect(const Rect& rect_, const Color& color)
 {
   Rect rect = rect_;
   rect.normalize();
-    
+
   if (color.a == 255)
   {
     SDL_Rect srcrect;
@@ -431,7 +431,7 @@ SDLFramebuffer::set_video_mode(const Size& size, bool fullscreen, bool resizable
 
   screen = SDL_SetVideoMode(size.width, size.height, 0, flags);
 
-  if (screen == NULL) 
+  if (screen == NULL)
   {
     log_error("Unable to set video mode: %1%", SDL_GetError());
     exit(1);
@@ -463,7 +463,7 @@ SDLFramebuffer::push_cliprect(const Rect& rect)
   {
     sdl_rect = Intersection(&cliprect_stack.back(), &sdl_rect);
   }
-  
+
   cliprect_stack.push_back(sdl_rect);
   SDL_SetClipRect(screen, &cliprect_stack.back());
 }
diff --git a/src/engine/display/sdl_framebuffer.hpp b/src/engine/display/sdl_framebuffer.hpp
index 37f737b09..8ecb49942 100644
--- a/src/engine/display/sdl_framebuffer.hpp
+++ b/src/engine/display/sdl_framebuffer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/sdl_framebuffer_surface_impl.cpp b/src/engine/display/sdl_framebuffer_surface_impl.cpp
index e214cc5a4..51eb07e58 100644
--- a/src/engine/display/sdl_framebuffer_surface_impl.cpp
+++ b/src/engine/display/sdl_framebuffer_surface_impl.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/sdl_framebuffer_surface_impl.hpp b/src/engine/display/sdl_framebuffer_surface_impl.hpp
index dc4b3b276..a384cdf73 100644
--- a/src/engine/display/sdl_framebuffer_surface_impl.hpp
+++ b/src/engine/display/sdl_framebuffer_surface_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -23,10 +23,10 @@ class SDLFramebufferSurfaceImpl : public FramebufferSurfaceImpl
 {
 private:
   SDL_Surface* surface;
-  
+
 public:
   SDLFramebufferSurfaceImpl(SDL_Surface* src);
-  ~SDLFramebufferSurfaceImpl(); 
+  ~SDLFramebufferSurfaceImpl();
 
   int get_width()  const { return surface->w; }
   int get_height() const { return surface->h; }
diff --git a/src/engine/display/sprite.cpp b/src/engine/display/sprite.cpp
index 9eef087d0..d967ecfe7 100644
--- a/src/engine/display/sprite.cpp
+++ b/src/engine/display/sprite.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -60,7 +60,7 @@ Sprite::Sprite(const ResDescriptor& res_desc) :
 
 Sprite::Sprite(const Surface& surface) :
   impl(std::make_shared<SpriteImpl>(surface))
-{  
+{
 }
 
 Sprite::Sprite(const SpriteDescription& desc, ResourceModifier::Enum mod) :
@@ -82,7 +82,7 @@ Sprite::render(int x, int y, Framebuffer& fb)
 int
 Sprite::get_width() const
 {
-  if (impl.get()) 
+  if (impl.get())
     return impl->frame_size.width;
   else
     return 0;
@@ -91,7 +91,7 @@ Sprite::get_width() const
 int
 Sprite::get_height() const
 {
-  if (impl.get()) 
+  if (impl.get())
     return impl->frame_size.height;
   else
     return 0;
diff --git a/src/engine/display/sprite.hpp b/src/engine/display/sprite.hpp
index 720a5d852..74680c91d 100644
--- a/src/engine/display/sprite.hpp
+++ b/src/engine/display/sprite.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/display/sprite_description.cpp b/src/engine/display/sprite_description.cpp
index 9e47c185a..ae0f77680 100644
--- a/src/engine/display/sprite_description.cpp
+++ b/src/engine/display/sprite_description.cpp
@@ -28,11 +28,11 @@ SpriteDescription::from_file(const Pathname& path)
   reader.read_vector2i("offset", desc->offset);
 
   reader.read_enum("origin", desc->origin, string2origin);
-    
+
   if (!reader.read_path("image",  desc->filename))
   {
     log_error("'image' missing for %1%", reader.get_name());
-  }    
+  }
 
   desc->filename = Pathname(desc->filename.get_raw_path(), Pathname::DATA_PATH); // FIXME: Hack
   reader.read_size("array", desc->array);
diff --git a/src/engine/display/sprite_description.hpp b/src/engine/display/sprite_description.hpp
index 679bb097a..253970cb0 100644
--- a/src/engine/display/sprite_description.hpp
+++ b/src/engine/display/sprite_description.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,10 +41,10 @@ public:
   Origin      origin;
 
   bool        loop;
-  int         speed; 
+  int         speed;
   Size        array;
   Vector2i    frame_pos;
-  Size        frame_size;  
+  Size        frame_size;
 
 public:
   SpriteDescription() :
@@ -59,7 +59,7 @@ public:
   {}
 
   ~SpriteDescription()
-  {  
+  {
   }
 };
 
diff --git a/src/engine/display/sprite_impl.cpp b/src/engine/display/sprite_impl.cpp
index 71de6892b..ca277989d 100644
--- a/src/engine/display/sprite_impl.cpp
+++ b/src/engine/display/sprite_impl.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -23,7 +23,7 @@
 
 FramebufferSurface load_framebuffer_surface(const Pathname& filename, ResourceModifier::Enum modifier)
 {
-  // FIXME: Implement proper cache 
+  // FIXME: Implement proper cache
   try
   {
     Surface surface(filename);
@@ -87,7 +87,7 @@ SpriteImpl::SpriteImpl(const SpriteDescription& desc, ResourceModifier::Enum mod
   loop_last_cycle = false;
 
   offset = calc_origin(desc.origin, frame_size) - desc.offset;
-    
+
 }
 
 SpriteImpl::SpriteImpl(const Surface& surface) :
@@ -138,7 +138,7 @@ SpriteImpl::update(float delta)
   }
 }
 
-void 
+void
 SpriteImpl::render(int x, int y, Framebuffer& fb)
 {
   fb.draw_surface(framebuffer_surface,
diff --git a/src/engine/display/sprite_impl.hpp b/src/engine/display/sprite_impl.hpp
index 040467f02..ebea0b065 100644
--- a/src/engine/display/sprite_impl.hpp
+++ b/src/engine/display/sprite_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -44,7 +44,7 @@ private:
   bool     finished;
 
   /** Current frame */
-  int frame; 
+  int frame;
   int tick_count;
 
 public:
diff --git a/src/engine/display/surface.cpp b/src/engine/display/surface.cpp
index 01754e623..36bdc62a0 100644
--- a/src/engine/display/surface.cpp
+++ b/src/engine/display/surface.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -30,7 +30,7 @@ class SurfaceImpl
 public:
   SDL_Surface* surface;
 
-  SurfaceImpl() : 
+  SurfaceImpl() :
     surface()
   {
   }
@@ -39,8 +39,8 @@ public:
     surface(surface_)
   {
   }
-  
-  ~SurfaceImpl() 
+
+  ~SurfaceImpl()
   {
     if (surface)
     {
@@ -187,7 +187,7 @@ Surface::blit(Surface src, int x_pos, int y_pos)
           // do nothing
         }
         else
-        { 
+        {
           // alpha blend
           uint8_t outa = static_cast<uint8_t>((alpha + (tptr[3] * (255 - alpha)) / 255));
 
@@ -281,7 +281,7 @@ Surface::get_pitch() const
     return 0;
 }
 
-SDL_Surface* 
+SDL_Surface*
 Surface::get_surface() const
 {
   return impl ? impl->surface : 0;
@@ -335,7 +335,7 @@ Surface::get_pixel(int x, int y) const
     default:
       pixel = 0;       /* shouldn't happen, but avoids warnings */
       break;
-  } 
+  }
 
   Color color;
   SDL_GetRGBA(pixel, get_surface()->format, &color.r, &color.g, &color.b, &color.a);
@@ -386,7 +386,7 @@ Surface::scale(int w, int h)
 Surface
 Surface::clone() const
 {
-  SDL_Surface* new_surface = Blitter::create_surface_from_format(impl->surface, 
+  SDL_Surface* new_surface = Blitter::create_surface_from_format(impl->surface,
                                                                  impl->surface->w, impl->surface->h);
   if (impl->surface->flags & SDL_SRCALPHA)
   {
@@ -399,7 +399,7 @@ Surface::clone() const
   {
     SDL_BlitSurface(impl->surface, NULL, new_surface, NULL);
   }
- 
+
   return Surface(std::shared_ptr<SurfaceImpl>(new SurfaceImpl(new_surface)));
 }
 
@@ -413,22 +413,22 @@ Surface::subsection(const Rect& rect) const
 
   SDL_Surface* new_surface
     = Blitter::create_surface_from_format(impl->surface,
-                                          rect.get_width(), 
+                                          rect.get_width(),
                                           rect.get_height());
 
-  SDL_LockSurface(impl->surface); 
+  SDL_LockSurface(impl->surface);
   SDL_LockSurface(new_surface);
   for(int y = 0; y < new_surface->h; ++y)
   {
-    memcpy(static_cast<uint8_t*>(new_surface->pixels) 
+    memcpy(static_cast<uint8_t*>(new_surface->pixels)
            + (y * new_surface->pitch),
            static_cast<uint8_t*>(impl->surface->pixels)
-           + (impl->surface->pitch * (y + rect.top)) 
+           + (impl->surface->pitch * (y + rect.top))
            + rect.left * impl->surface->format->BytesPerPixel,
            new_surface->pitch);
   }
-  SDL_UnlockSurface(new_surface);  
-  SDL_UnlockSurface(impl->surface); 
+  SDL_UnlockSurface(new_surface);
+  SDL_UnlockSurface(impl->surface);
 
   return Surface(std::shared_ptr<SurfaceImpl>(new SurfaceImpl(new_surface)));
 }
diff --git a/src/engine/display/surface.hpp b/src/engine/display/surface.hpp
index 91584ba61..62751af85 100644
--- a/src/engine/display/surface.hpp
+++ b/src/engine/display/surface.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/gui/button.hpp b/src/engine/gui/button.hpp
index fd67d0fe5..3bbd7423d 100644
--- a/src/engine/gui/button.hpp
+++ b/src/engine/gui/button.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/gui/combobox_listener.hpp b/src/engine/gui/combobox_listener.hpp
index 1344fede0..ecbd56abc 100644
--- a/src/engine/gui/combobox_listener.hpp
+++ b/src/engine/gui/combobox_listener.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -18,7 +18,7 @@
 #define HEADER_PINGUS_ENGINE_GUI_COMBOBOX_LISTENER_HPP
 
 namespace GUI {
-        
+
 class Combobox;
 
 class ComboboxListener {
diff --git a/src/engine/gui/component.cpp b/src/engine/gui/component.cpp
index d46565531..66b912a3d 100644
--- a/src/engine/gui/component.cpp
+++ b/src/engine/gui/component.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -21,28 +21,28 @@ namespace GUI {
 GroupComponent*
 Component::get_parent() const
 {
-  return parent; 
+  return parent;
 }
 
 void
 Component::set_parent(GroupComponent* p)
 {
   assert(parent == 0);
-  parent = p; 
+  parent = p;
 }
 
 void
 Component::grab()
 {
-  if (parent) 
-    parent->grab(this); 
+  if (parent)
+    parent->grab(this);
 }
 
 void
 Component::ungrab()
 {
   if (parent)
-    parent->ungrab(this); 
+    parent->ungrab(this);
 }
 
 } // namespace GUI
diff --git a/src/engine/gui/component.hpp b/src/engine/gui/component.hpp
index d165efce1..48097f09c 100644
--- a/src/engine/gui/component.hpp
+++ b/src/engine/gui/component.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,7 +41,7 @@ public:
 
   virtual void set_focus(bool val) { focus = val; }
   virtual void set_mouse_over(bool val) { mouse_over = val; }
-        
+
   virtual bool has_mouse_over() const { return mouse_over; }
   virtual bool has_focus() const { return focus; }
 
@@ -80,10 +80,10 @@ public:
   /** Emitted when the pointer moved, x and y are the new pointer
       coordinates */
   virtual void on_pointer_move (int x, int y) {}
-        
+
   virtual void on_scroller_move (float x, float y) {}
 
-  /** Emitted whenever a keyboard character is pressed.  Only certain 
+  /** Emitted whenever a keyboard character is pressed.  Only certain
       components should implement this */
   virtual void on_key_pressed(const Input::KeyboardEvent& ev) {}
 
diff --git a/src/engine/gui/game_delta_recorder.hpp b/src/engine/gui/game_delta_recorder.hpp
index a0c187f5e..6717f56e8 100644
--- a/src/engine/gui/game_delta_recorder.hpp
+++ b/src/engine/gui/game_delta_recorder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/gui/group_component.cpp b/src/engine/gui/group_component.cpp
index ea620f37c..eb7bcc357 100644
--- a/src/engine/gui/group_component.cpp
+++ b/src/engine/gui/group_component.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,7 +37,7 @@ GroupComponent::~GroupComponent()
     delete *i;
   }
 }
-        
+
 void
 GroupComponent::draw (DrawingContext& parent_gc)
 {
@@ -50,7 +50,7 @@ GroupComponent::draw (DrawingContext& parent_gc)
     if ((*i)->is_visible())
       (*i)->draw(drawing_context);
   }
-  
+
   parent_gc.draw(drawing_context);
 }
 
@@ -79,13 +79,13 @@ GroupComponent::on_primary_button_press (int x, int y)
   {
     grabbed_comp->on_primary_button_press(mouse_pos.x, mouse_pos.y);
   }
-  else 
+  else
   {
     Component* comp = component_at(mouse_pos);
     if (comp)
     {
       comp->on_primary_button_press(mouse_pos.x, mouse_pos.y);
-      
+
       if (focused_comp)
         focused_comp->set_focus(false);
 
@@ -108,10 +108,10 @@ GroupComponent::on_primary_button_release (int x, int y)
   {
     grabbed_comp->on_primary_button_release(mouse_pos.x, mouse_pos.y);
   }
-  else 
+  else
   {
     Component* comp = component_at(mouse_pos);
-      
+
     if (primary_pressed_comp)
     {
       primary_pressed_comp->on_primary_button_release(mouse_pos.x, mouse_pos.y);
@@ -128,7 +128,7 @@ GroupComponent::on_primary_button_release (int x, int y)
     }
   }
 }
-  
+
 void
 GroupComponent::on_secondary_button_press (int x, int y)
 {
@@ -138,7 +138,7 @@ GroupComponent::on_secondary_button_press (int x, int y)
   {
     grabbed_comp->on_secondary_button_press(mouse_pos.x, mouse_pos.y);
   }
-  else 
+  else
   {
     Component* comp = component_at(mouse_pos);
     if (comp)
@@ -155,7 +155,7 @@ GroupComponent::on_secondary_button_release(int x, int y)
   Vector2i mouse_pos = drawing_context.screen_to_world(Vector2i(x, y));
 
   Component* comp = component_at(mouse_pos);
-  
+
   if (grabbed_comp)
   {
     grabbed_comp->on_secondary_button_release(mouse_pos.x, mouse_pos.y);
@@ -163,10 +163,10 @@ GroupComponent::on_secondary_button_release(int x, int y)
   else if (secondary_pressed_comp)
   {
     secondary_pressed_comp->on_secondary_button_release(mouse_pos.x, mouse_pos.y);
-      
+
     if (comp == secondary_pressed_comp)
       secondary_pressed_comp->on_secondary_button_click(mouse_pos.x, mouse_pos.y);
-      
+
     secondary_pressed_comp = 0;
   }
   else
@@ -209,7 +209,7 @@ GroupComponent::on_pointer_move(int x, int y)
     Component* comp = component_at(mouse_pos);
     if (comp)
     {
-      comp->on_pointer_move(mouse_pos.x, mouse_pos.y); 
+      comp->on_pointer_move(mouse_pos.x, mouse_pos.y);
     }
 
     if (comp != mouse_over_comp)
@@ -219,7 +219,7 @@ GroupComponent::on_pointer_move(int x, int y)
         mouse_over_comp->set_mouse_over(false);
         mouse_over_comp->on_pointer_leave();
       }
-      
+
       if (comp)
       {
         comp->set_mouse_over(true);
@@ -258,7 +258,7 @@ GroupComponent::update_layout()
 void
 GroupComponent::on_pointer_enter()
 {
-  
+
 }
 
 void
@@ -271,7 +271,7 @@ GroupComponent::on_pointer_leave()
       mouse_over_comp->set_mouse_over(false);
       mouse_over_comp->on_pointer_leave();
     }
-    mouse_over_comp = 0; 
+    mouse_over_comp = 0;
   }
 }
 
diff --git a/src/engine/gui/group_component.hpp b/src/engine/gui/group_component.hpp
index 69821562c..700a586b2 100644
--- a/src/engine/gui/group_component.hpp
+++ b/src/engine/gui/group_component.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,11 +41,11 @@ private:
       component that got the press gets moves and release events */
   Component* primary_pressed_comp;
   Component* secondary_pressed_comp;
-  
+
 public:
   GroupComponent(const Rect& rect, bool clip = true);
-  virtual ~GroupComponent();  
-        
+  virtual ~GroupComponent();
+
   void draw(DrawingContext& gc);
   virtual void draw_background(DrawingContext& gc) {}
 
@@ -53,10 +53,10 @@ public:
 
   void on_primary_button_press(int x, int y);
   void on_primary_button_release(int x, int y);
- 
+
   void on_secondary_button_press(int x, int y);
   void on_secondary_button_release(int x, int y);
-  
+
   void on_primary_button_click(int x, int y) {}
   void on_secondary_button_click(int x, int y) {}
 
diff --git a/src/engine/gui/gui_manager.cpp b/src/engine/gui/gui_manager.cpp
index 776851edb..3d756a400 100644
--- a/src/engine/gui/gui_manager.cpp
+++ b/src/engine/gui/gui_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -22,7 +22,7 @@
 
 using namespace Input;
 
-namespace GUI { 
+namespace GUI {
 
 GUIManager::GUIManager ()
   : GroupComponent(Rect(0, 0, Display::get_width(), Display::get_height()), false),
@@ -78,7 +78,7 @@ GUIManager::update(const Input::Event& event)
       // AxisEvents can be ignored in the GUI, they are handled elsewhere
       log_debug("GUIManager: AxisEvent: %1%", event.axis.dir);
       break;
-        
+
     case Input::KEYBOARD_EVENT_TYPE:
       if (event.keyboard.state)
       {
diff --git a/src/engine/gui/gui_manager.hpp b/src/engine/gui/gui_manager.hpp
index c8af89a1c..b482092e0 100644
--- a/src/engine/gui/gui_manager.hpp
+++ b/src/engine/gui/gui_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/gui/rect_component.hpp b/src/engine/gui/rect_component.hpp
index b1a8f2ae1..b22b3771d 100644
--- a/src/engine/gui/rect_component.hpp
+++ b/src/engine/gui/rect_component.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -35,11 +35,11 @@ public:
   RectComponent(const Rect& rect_) :
     rect(rect_)
   {}
-  
+
   virtual bool is_at (int x, int y) { return rect.contains(Vector2i(x, y)); }
   virtual void update_layout() {}
-  
-  void set_rect(const Rect& rect_) 
+
+  void set_rect(const Rect& rect_)
   {
     rect = rect_;
     update_layout();
diff --git a/src/engine/gui/surface_button.cpp b/src/engine/gui/surface_button.cpp
index e442813e5..bd21671b1 100644
--- a/src/engine/gui/surface_button.cpp
+++ b/src/engine/gui/surface_button.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -24,12 +24,12 @@ SurfaceButton::SurfaceButton (int arg_x_pos, int arg_y_pos,
                               const std::string& arg_button_surface,
                               const std::string& arg_button_pressed_surface,
                               const std::string& arg_button_mouse_over_surface) :
-  x_pos (arg_x_pos), 
-  y_pos (arg_y_pos), 
+  x_pos (arg_x_pos),
+  y_pos (arg_y_pos),
   button_surface(),
   button_pressed_surface(),
   button_mouse_over_surface(),
-  pressed (false), 
+  pressed (false),
   mouse_over (false)
 {
   button_surface            = Sprite(arg_button_surface);
diff --git a/src/engine/gui/surface_button.hpp b/src/engine/gui/surface_button.hpp
index 5a4382ea7..4da380023 100644
--- a/src/engine/gui/surface_button.hpp
+++ b/src/engine/gui/surface_button.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -29,7 +29,7 @@ class SurfaceButton : public Component
 protected:
   int x_pos;
   int y_pos;
-  
+
   Sprite button_surface;
   Sprite button_pressed_surface;
   Sprite button_mouse_over_surface;
diff --git a/src/engine/input/control.hpp b/src/engine/input/control.hpp
index a7a2f7227..80eebf978 100644
--- a/src/engine/input/control.hpp
+++ b/src/engine/input/control.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,20 +27,20 @@
 
 namespace Input {
 
-class Control 
+class Control
 {
 private:
   Control* parent;
-  
-public: 
-  Control(Control* parent_) 
+
+public:
+  Control(Control* parent_)
     : parent(parent_)
   {}
 
   virtual ~Control() {
   }
 
-  virtual void notify_parent() 
+  virtual void notify_parent()
   {
     if (parent)
     {
@@ -54,7 +54,7 @@ public:
 
   virtual void update(float delta) {
   }
-  
+
   virtual void update(Control* ctrl) {
     log_warn("Control:update() not handled");
   }
@@ -64,7 +64,7 @@ private:
   Control & operator=(const Control&);
 };
 
-class Button : public Control 
+class Button : public Control
 {
 protected:
   ButtonState state;
@@ -73,13 +73,13 @@ public:
   Button(Control* parent_) :
     Control(parent_),
     state(BUTTON_RELEASED)
-  {}  
+  {}
 
   bool get_state() const { return state; }
 
-  virtual void set_state(ButtonState new_state) 
+  virtual void set_state(ButtonState new_state)
   {
-    if (new_state != state) 
+    if (new_state != state)
     {
       state = new_state;
       notify_parent();
@@ -87,12 +87,12 @@ public:
   }
 };
 
-class ButtonGroup : public Button 
+class ButtonGroup : public Button
 {
 private:
   std::vector<Button*> buttons;
-  
-public: 
+
+public:
   ButtonGroup(Control* parent_) :
     Button(parent_),
     buttons()
@@ -117,7 +117,7 @@ public:
   {
     ButtonState new_state = BUTTON_RELEASED;
 
-    for(std::vector<Button*>::iterator i = buttons.begin(); 
+    for(std::vector<Button*>::iterator i = buttons.begin();
         i != buttons.end(); ++i)
     {
       if ((*i)->get_state() == BUTTON_PRESSED)
@@ -154,7 +154,7 @@ private:
   ControllerButton & operator=(const ControllerButton&);
 };
 
-class Axis : public Control 
+class Axis : public Control
 {
 protected:
   float pos;
@@ -186,7 +186,7 @@ public:
   }
 };
 
-class Pointer : public Control 
+class Pointer : public Control
 {
 protected:
   Vector2f pos;
@@ -200,7 +200,7 @@ public:
   Vector2f get_pos() const { return pos; }
 
   void set_pos(const Vector2f& new_pos) {
-    if (pos != new_pos) 
+    if (pos != new_pos)
     {
       pos = new_pos;
       notify_parent();
@@ -208,11 +208,11 @@ public:
   }
 };
 
-class Scroller : public Control 
+class Scroller : public Control
 {
 protected:
   Vector2f delta;
-  
+
 public:
   Scroller(Control* parent_) :
     Control(parent_),
@@ -222,7 +222,7 @@ public:
   Vector2f get_delta() const { return delta; }
 
   void set_delta(const Vector2f& new_delta) {
-    if (delta != new_delta) 
+    if (delta != new_delta)
     {
       delta = new_delta;
       notify_parent();
@@ -255,10 +255,10 @@ public:
       (*i)->update(delta);
   }
 
-  void update(Control* ctrl) 
+  void update(Control* ctrl)
   {
     float new_pos = 0;
-    
+
     for(std::vector<Axis*>::iterator i = axes.begin(); i != axes.end(); ++i)
     {
       new_pos += (*i)->get_pos();
@@ -270,14 +270,14 @@ public:
   }
 };
 
-class ControllerAxis : public AxisGroup 
+class ControllerAxis : public AxisGroup
 {
 private:
   Controller* controller;
   int id;
 
 public:
-  ControllerAxis(Controller* controller_, int id_) 
+  ControllerAxis(Controller* controller_, int id_)
     : AxisGroup(0),
       controller(controller_),
       id(id_)
@@ -292,7 +292,7 @@ private:
   ControllerAxis & operator=(const ControllerAxis&);
 };
 
-class PointerGroup : public Pointer 
+class PointerGroup : public Pointer
 {
 private:
   std::vector<Pointer*> pointer;
@@ -352,7 +352,7 @@ private:
   ControllerPointer & operator=(const ControllerPointer&);
 };
 
-class ScrollerGroup : public Scroller 
+class ScrollerGroup : public Scroller
 {
 private:
   std::vector<Scroller*> scrollers;
@@ -474,7 +474,7 @@ public:
     controller(controller_),
     id(id_)
   {}
-  
+
   virtual void notify_parent() {
     controller->add_keyboard_event(m_ev);
   }
diff --git a/src/engine/input/controller.cpp b/src/engine/input/controller.cpp
index 97f4765e5..a1a649dc2 100644
--- a/src/engine/input/controller.cpp
+++ b/src/engine/input/controller.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -21,7 +21,7 @@ namespace Input {
 
 Controller* Controller::current_ = 0;
 
-Controller* 
+Controller*
 Controller::current()
 {
   return current_;
@@ -35,7 +35,7 @@ Controller::Controller(const ControllerDescription& desc) :
   keyboards(),
   events()
 {
-  current_ = this; 
+  current_ = this;
 
   const std::vector<int>& button_lst = desc.get_buttons();
   for(std::vector<int>::const_iterator i = button_lst.begin(); i != button_lst.end(); ++i)
@@ -93,7 +93,7 @@ Controller::~Controller()
 }
 
 ControllerScroller*
-Controller::get_scroller(int id) 
+Controller::get_scroller(int id)
 {
   if (id >= 0 && id < int(scrollers.size()))
     return scrollers[id];
@@ -102,17 +102,17 @@ Controller::get_scroller(int id)
 }
 
 void
-Controller::add_scroller(int id, ControllerScroller* scroller) 
+Controller::add_scroller(int id, ControllerScroller* scroller)
 {
   if (int(scrollers.size())-1 < id)
     scrollers.resize(id+1);
-   
+
   assert(scrollers[id] == 0);
   scrollers[id] = scroller;
 }
-  
+
 ControllerPointer*
-Controller::get_pointer(int id) 
+Controller::get_pointer(int id)
 {
   if (id >= 0 && id < int(pointers.size()))
     return pointers[id];
@@ -130,44 +130,44 @@ Controller::get_keyboard(int id)
 }
 
 void
-Controller::add_keyboard(int id, ControllerKeyboard* keyboard) 
+Controller::add_keyboard(int id, ControllerKeyboard* keyboard)
 {
   if (int(keyboards.size())-1 < id)
     keyboards.resize(id+1);
-   
+
   assert(keyboards[id] == 0);
   keyboards[id] = keyboard;
 }
 
 void
-Controller::add_pointer(int id, ControllerPointer* pointer) 
+Controller::add_pointer(int id, ControllerPointer* pointer)
 {
   if (int(pointers.size())-1 < id)
     pointers.resize(id+1);
-   
+
   assert(pointers[id] == 0);
   pointers[id] = pointer;
 }
-  
+
 ControllerAxis*
-Controller::get_axis(int id) 
+Controller::get_axis(int id)
 {
   assert(id >= 0 && id < int(axes.size()));
   return axes[id];
 }
 
 void
-Controller::add_axis(int id, ControllerAxis* axis) 
+Controller::add_axis(int id, ControllerAxis* axis)
 {
   if (int(axes.size())-1 < id)
     axes.resize(id+1);
-   
+
   assert(axes[id] == 0);
   axes[id] = axis;
 }
-  
+
 ControllerButton*
-Controller::get_button(int id) 
+Controller::get_button(int id)
 {
   assert(id >= 0 && id < int(buttons.size()));
   return buttons[id];
@@ -178,7 +178,7 @@ Controller::refresh()
 {
   for(auto i = axes.begin(); i != axes.end(); ++i)
   {
-    if (*i) 
+    if (*i)
     {
       add_axis_event(static_cast<int>(i - axes.begin()), (*i)->get_pos());
     }
@@ -186,12 +186,12 @@ Controller::refresh()
 
   for(auto i = pointers.begin(); i != pointers.end(); ++i)
   {
-    if (*i) 
+    if (*i)
     {
       add_pointer_event(static_cast<int>(i - pointers.begin()), (*i)->get_pos().x, (*i)->get_pos().y);
-    }    
+    }
   }
-  
+
   // FIXME: not handling buttons, as their state might be out of date (i.e. still pressed)
 
   // not handling scrollers, as they don't really have state
@@ -218,11 +218,11 @@ Controller::update(float delta)
 }
 
 void
-Controller::add_button(int id, ControllerButton* button) 
+Controller::add_button(int id, ControllerButton* button)
 {
   if (int(buttons.size())-1 < id)
     buttons.resize(id+1);
-   
+
   assert(buttons[id] == 0);
   buttons[id] = button;
 }
@@ -266,7 +266,7 @@ Controller::clear_events()
 void
 Controller::poll_events(std::vector<Event>& out_events)
 {
-  for(std::vector<Event>::iterator i = events.begin(); i != events.end(); ++i)  
+  for(std::vector<Event>::iterator i = events.begin(); i != events.end(); ++i)
     out_events.push_back(*i);
 
   events.clear();
diff --git a/src/engine/input/controller.hpp b/src/engine/input/controller.hpp
index b33472be7..b21fbe159 100644
--- a/src/engine/input/controller.hpp
+++ b/src/engine/input/controller.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -47,7 +47,7 @@ private:
   std::vector<ControllerPointer*>  pointers;
   std::vector<ControllerScroller*> scrollers;
   std::vector<ControllerKeyboard*> keyboards;
-  
+
   std::vector<Event> events;
 
 public:
@@ -56,7 +56,7 @@ public:
 
   Controller(const ControllerDescription& desc);
   ~Controller();
-  
+
   ControllerAxis*     get_axis(int id);
   ControllerButton*   get_button(int id);
   ControllerPointer*  get_pointer(int id);
@@ -70,7 +70,7 @@ public:
   void add_keyboard_event(const SDL_KeyboardEvent& ev);
 
   void add_axis(int id, ControllerAxis* axis);
-  void add_button(int id, ControllerButton* button); 
+  void add_button(int id, ControllerButton* button);
   void add_pointer(int id, ControllerPointer* pointer);
   void add_scroller(int id, ControllerScroller* scroller);
   void add_keyboard(int id, ControllerKeyboard* keyboard);
@@ -85,6 +85,6 @@ private:
 
 } // namespace Input
 
-#endif 
+#endif
 
 /* EOF */
diff --git a/src/engine/input/controller_description.cpp b/src/engine/input/controller_description.cpp
index b01a523e5..3657f48d9 100644
--- a/src/engine/input/controller_description.cpp
+++ b/src/engine/input/controller_description.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -146,19 +146,19 @@ ControllerDescription::get_axes() const
 std::vector<int>
 ControllerDescription::get_pointers() const
 {
-  return map2vector(id_to_event, POINTER_EVENT_TYPE);  
+  return map2vector(id_to_event, POINTER_EVENT_TYPE);
 }
 
 std::vector<int>
 ControllerDescription::get_scrollers() const
 {
-  return map2vector(id_to_event, SCROLLER_EVENT_TYPE);  
+  return map2vector(id_to_event, SCROLLER_EVENT_TYPE);
 }
 
 std::vector<int>
 ControllerDescription::get_keyboards() const
 {
-  return map2vector(id_to_event, KEYBOARD_EVENT_TYPE);  
+  return map2vector(id_to_event, KEYBOARD_EVENT_TYPE);
 }
 
 } // namespace Input
diff --git a/src/engine/input/controller_description.hpp b/src/engine/input/controller_description.hpp
index 8c9e5a873..4c9afd20b 100644
--- a/src/engine/input/controller_description.hpp
+++ b/src/engine/input/controller_description.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -23,7 +23,7 @@
 
 namespace Input {
 
-struct InputEventDefinition 
+struct InputEventDefinition
 {
   EventType   type;
   int         id;
@@ -47,10 +47,10 @@ public:
   ~ControllerDescription();
 
   void add_button  (const std::string& name, int id);
-  void add_axis    (const std::string& name, int id); 
-  void add_scroller(const std::string& name, int id); 
-  void add_pointer (const std::string& name, int id); 
-  void add_keyboard(const std::string& name, int id); 
+  void add_axis    (const std::string& name, int id);
+  void add_scroller(const std::string& name, int id);
+  void add_pointer (const std::string& name, int id);
+  void add_keyboard(const std::string& name, int id);
 
   const InputEventDefinition& get_definition(int id) const;
   const InputEventDefinition& get_definition(const std::string& name) const;
diff --git a/src/engine/input/core_driver.cpp b/src/engine/input/core_driver.cpp
index 1c6eae161..e675c7992 100644
--- a/src/engine/input/core_driver.cpp
+++ b/src/engine/input/core_driver.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -49,7 +49,7 @@ public:
     speed_button = s;
   }
 
-  void update(Control* ) 
+  void update(Control* )
   {
     //log_error("event");
   }
@@ -62,7 +62,7 @@ public:
 
     Vector2f new_pos = pos;
     float c_speed = speed;
-    
+
     if (speed_button && speed_button->get_state() == BUTTON_PRESSED)
     {
       c_speed *= 5.0f;
@@ -114,7 +114,7 @@ public:
     speed_button = s;
   }
 
-  void update(Control* ) 
+  void update(Control* )
   {
     //log_error("event");
   }
@@ -127,7 +127,7 @@ public:
     if (speed_button) speed_button->update(delta_);
 
     float    c_speed = speed;
-    
+
     if (speed_button && speed_button->get_state() == BUTTON_PRESSED)
     {
       c_speed *= 5.0f;
@@ -151,7 +151,7 @@ private:
   Button* down;
   Button* left;
   Button* right;
-  float speed; 
+  float speed;
 
 public:
   ButtonScroller(Control* parent_) :
@@ -177,7 +177,7 @@ public:
     right = right_;
   }
 
-  void update(Control* ) 
+  void update(Control* )
   {
   }
 
@@ -189,7 +189,7 @@ public:
     right->update(delta_t);
 
     delta.x = delta.y = 0.0f;
-    
+
     if (left->get_state() == BUTTON_PRESSED)
       delta.x += speed * delta_t;
 
@@ -200,7 +200,7 @@ public:
       delta.y += speed * delta_t;
 
     if (down->get_state() == BUTTON_PRESSED)
-      delta.y += -speed * delta_t;       
+      delta.y += -speed * delta_t;
 
     notify_parent();
   }
@@ -225,7 +225,7 @@ CoreDriver::create_axis(const FileReader& reader, Control* parent)
 Scroller*
 CoreDriver::create_scroller(const FileReader& reader, Control* parent)
 {
-  if (reader.get_name() == "core:axis-scroller") 
+  if (reader.get_name() == "core:axis-scroller")
   {
     AxisScroller* axis = new AxisScroller(parent);
 
@@ -236,13 +236,13 @@ CoreDriver::create_scroller(const FileReader& reader, Control* parent)
       delete axis;
       return 0;
     }
-    
+
     FileReader y_reader;
     if (!reader.read_section("y-axis", y_reader))
     {
       log_error("CoreDriver: Couldn't find y-axis");
       delete axis;
-      return 0;       
+      return 0;
     }
 
     Axis* x_axis = manager->create_axis(x_reader.get_sections().front(), axis);
@@ -300,7 +300,7 @@ CoreDriver::create_scroller(const FileReader& reader, Control* parent)
       delete scroller;
       return 0;
     }
-      
+
     // FIXME: Add more error checking
     Button* up_button    = manager->create_button(up_reader.get_sections().front(),    scroller);
     Button* down_button  = manager->create_button(down_reader.get_sections().front(),  scroller);
@@ -313,7 +313,7 @@ CoreDriver::create_scroller(const FileReader& reader, Control* parent)
                     right_button);
     return scroller;
   }
-  else 
+  else
   {
     return 0;
   }
@@ -322,7 +322,7 @@ CoreDriver::create_scroller(const FileReader& reader, Control* parent)
 Pointer*
 CoreDriver::create_pointer(const FileReader& reader, Control* parent)
 {
-  if (reader.get_name() == "core:axis-pointer") 
+  if (reader.get_name() == "core:axis-pointer")
   {
     AxisPointer* axis = new AxisPointer(parent);
 
@@ -333,13 +333,13 @@ CoreDriver::create_pointer(const FileReader& reader, Control* parent)
       delete axis;
       return 0;
     }
-    
+
     FileReader y_reader;
     if (!reader.read_section("y-axis", y_reader))
     {
       log_error("CoreDriver: Couldn't find y-axis");
       delete axis;
-      return 0;       
+      return 0;
     }
 
     Axis* x_axis = manager->create_axis(x_reader.get_sections().front(), axis);
@@ -361,8 +361,8 @@ CoreDriver::create_pointer(const FileReader& reader, Control* parent)
     {
       return 0;
     }
-  } 
-  else 
+  }
+  else
   {
     return 0;
   }
diff --git a/src/engine/input/core_driver.hpp b/src/engine/input/core_driver.hpp
index 1e043056f..43ce58df6 100644
--- a/src/engine/input/core_driver.hpp
+++ b/src/engine/input/core_driver.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/input/driver.hpp b/src/engine/input/driver.hpp
index d8246be7b..7a6841252 100644
--- a/src/engine/input/driver.hpp
+++ b/src/engine/input/driver.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/input/driver_factory.cpp b/src/engine/input/driver_factory.cpp
index 55d186d70..ac9459d63 100644
--- a/src/engine/input/driver_factory.cpp
+++ b/src/engine/input/driver_factory.cpp
@@ -21,7 +21,7 @@
 
 #ifdef HAVE_CWIID
 #  include "engine/input/wiimote/wiimote_driver.hpp"
-#endif 
+#endif
 
 #ifdef HAVE_XINPUT
 #  include "engine/input/xinput/xinput_driver.hpp"
@@ -40,39 +40,39 @@ namespace Input {
 Driver*
 DriverFactory::create(const std::string& name, Manager* manager)
 {
-  if (name == "sdl") 
+  if (name == "sdl")
   {
     return new SDLDriver;
   }
-  else if (name == "core") 
+  else if (name == "core")
   {
     return new CoreDriver(manager);
   }
 #ifdef HAVE_LINUXUSBMOUSE
-  else if (name == "usbmouse") 
+  else if (name == "usbmouse")
   {
     return new USBMouseDriver();
-  } 
+  }
 #endif
 #ifdef HAVE_LINUXEVDEV
-  else if (name == "evdev") 
+  else if (name == "evdev")
   {
     return new EvdevDriver();
   }
 #endif
 #ifdef HAVE_XINPUT
-  else if (name == "xinput") 
+  else if (name == "xinput")
   {
     return new XInputDriver();
-  } 
+  }
 #endif
 #ifdef HAVE_CWIID
-  else if (name == "wiimote") 
+  else if (name == "wiimote")
   {
     return new WiimoteDriver();
-  } 
+  }
 #endif
-  else 
+  else
   {
     return 0;
   }
diff --git a/src/engine/input/evdev/evdev_device.cpp b/src/engine/input/evdev/evdev_device.cpp
index edec0ae2b..4e16c33ed 100644
--- a/src/engine/input/evdev/evdev_device.cpp
+++ b/src/engine/input/evdev/evdev_device.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -47,7 +47,7 @@ EvdevDevice::EvdevDevice(const std::string& filename) :
     throw std::runtime_error(filename + ": " + std::string(strerror(errno)));
   }
 
-  if (ioctl(fd, EVIOCGVERSION, &version)) 
+  if (ioctl(fd, EVIOCGVERSION, &version))
   {
     throw std::runtime_error("Error: EvdevDevice: Couldn't get version for " + filename);
   }
@@ -74,23 +74,23 @@ EvdevDevice::EvdevDevice(const std::string& filename) :
 
     for (int i = 0; i < EV_MAX; i++)
     {
-      if (test_bit(i, bit[0])) 
+      if (test_bit(i, bit[0]))
       {
         //printf("  Event type %d (%s)\n", i, events[i] ? events[i] : "?");
-                                
+
         if (!i) continue;
 
         ioctl(fd, EVIOCGBIT(i, KEY_MAX), bit[i]);
-        for (int j = 0; j < KEY_MAX; j++) 
+        for (int j = 0; j < KEY_MAX; j++)
         {
-          if (test_bit(j, bit[i])) 
+          if (test_bit(j, bit[i]))
           {
-            if (i == EV_KEY) 
-            { 
+            if (i == EV_KEY)
+            {
               keys.push_back(Key(j));
-            } 
+            }
             else if (i == EV_ABS)
-            { 
+            {
               // FIXME: Some Linuxes don't have these struct
               struct input_absinfo absinfo;
               ioctl(fd, EVIOCGABS(j), &absinfo);
@@ -99,7 +99,7 @@ EvdevDevice::EvdevDevice(const std::string& filename) :
               // absinfo.fuzz = values in which range can be considered the same (jitter)
               absolutes.push_back(Absolute(j, absinfo.minimum, absinfo.maximum, absinfo.value));
             }
-            else if (i == EV_REL) 
+            else if (i == EV_REL)
             {
               relatives.push_back(Relative(j));
             }
@@ -123,8 +123,8 @@ EvdevDevice::process_absolute(struct input_event& ev)
     absolutes[axis_index].pos = ev.value;
 
 #if 0
-    CL_InputEvent e; 
-                                        
+    CL_InputEvent e;
+
     e.device   = CL_InputDevice(this);
     e.type     = CL_InputEvent::axis_moved;
     e.id       = axis_index;
@@ -143,7 +143,7 @@ EvdevDevice::process_relative(struct input_event& ev)
 
   relatives[idx].pos += ev.value;
 
-  for(std::vector<Scroller*>::iterator i = relatives[idx].bindings.begin(); 
+  for(std::vector<Scroller*>::iterator i = relatives[idx].bindings.begin();
       i != relatives[idx].bindings.end(); ++i)
   {
     if (relatives[idx].binding_axis == 0)
@@ -168,8 +168,8 @@ EvdevDevice::process_key(struct input_event& ev)
   }
 
 #if 0
-  CL_InputEvent e; 
-                        
+  CL_InputEvent e;
+
   e.device = CL_InputDevice(this);
   e.id     = button_index;
   e.repeat_count = 0;
@@ -183,7 +183,7 @@ EvdevDevice::process_key(struct input_event& ev)
   {
     e.type = CL_InputEvent::released;
     sig_key_up(e);
-  }               
+  }
 #endif
 }
 
@@ -243,12 +243,12 @@ EvdevDevice::update(float delta)
 
         default:
 #if 0
-          if (ev[i].type == EV_SYN) 
+          if (ev[i].type == EV_SYN)
           {
             printf("Event: time %ld.%06ld, -------------- %s ------------\n",
                    ev[i].time.tv_sec, ev[i].time.tv_usec, ev[i].code ? "Config Sync" : "Report Sync" );
           }
-          else if (ev[i].type == EV_MSC && (ev[i].code == MSC_RAW || ev[i].code == MSC_SCAN)) 
+          else if (ev[i].type == EV_MSC && (ev[i].code == MSC_RAW || ev[i].code == MSC_SCAN))
           {
             printf("Event: time %ld.%06ld, type %d (%s), code %d (%s), value %02x\n",
                    ev[i].time.tv_sec, ev[i].time.tv_usec, ev[i].type,
@@ -256,8 +256,8 @@ EvdevDevice::update(float delta)
                    ev[i].code,
                    names[ev[i].type] ? (names[ev[i].type][ev[i].code] ? names[ev[i].type][ev[i].code] : "?") : "?",
                    ev[i].value);
-          } 
-          else 
+          }
+          else
           {
             printf("Event: time %ld.%06ld, type %d (%s), code %d (%s), value %d\n",
                    ev[i].time.tv_sec, ev[i].time.tv_usec, ev[i].type,
@@ -265,8 +265,8 @@ EvdevDevice::update(float delta)
                    ev[i].code,
                    names[ev[i].type] ? (names[ev[i].type][ev[i].code] ? names[ev[i].type][ev[i].code] : "?") : "?",
                    ev[i].value);
-          }     
-#endif                  
+          }
+#endif
           break;
       }
     }
@@ -290,7 +290,7 @@ EvdevDevice::create_scroller(Control* parent, int x, int y)
     else if (relatives[i].code == y)
     {
       relatives[i].binding_axis = 1;
-      relatives[i].bindings.push_back(scroller);          
+      relatives[i].bindings.push_back(scroller);
       have_y = true;
     }
   }
diff --git a/src/engine/input/evdev/evdev_device.hpp b/src/engine/input/evdev/evdev_device.hpp
index f64ff1508..b83e16236 100644
--- a/src/engine/input/evdev/evdev_device.hpp
+++ b/src/engine/input/evdev/evdev_device.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,11 +41,11 @@ private:
       return static_cast<float>(pos - min) / static_cast<float>(max - min) * 2.0f - 1.0f;
     }
   };
-        
+
   // Relative Input Event
-  struct Relative 
+  struct Relative
   {
-    Relative(int code_) : 
+    Relative(int code_) :
       code(code_),
       pos(0),
       binding_axis(),
@@ -80,7 +80,7 @@ private:
 public:
   EvdevDevice(const std::string& filename);
   ~EvdevDevice();
-  
+
   std::string get_name() const { return name; }
   std::string get_device() const { return device; }
 
diff --git a/src/engine/input/evdev/evdev_driver.cpp b/src/engine/input/evdev/evdev_driver.cpp
index 3fad583cb..e69832cb8 100644
--- a/src/engine/input/evdev/evdev_driver.cpp
+++ b/src/engine/input/evdev/evdev_driver.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,8 +25,8 @@ EvdevDriver::EvdevDriver() :
 {
 }
 
-EvdevDriver::~EvdevDriver() 
-{ 
+EvdevDriver::~EvdevDriver()
+{
   for(Devices::iterator i = devices.begin(); i != devices.end(); ++i)
   {
     delete *i;
diff --git a/src/engine/input/evdev/evdev_driver.hpp b/src/engine/input/evdev/evdev_driver.hpp
index 074bd7f3a..35efac2dd 100644
--- a/src/engine/input/evdev/evdev_driver.hpp
+++ b/src/engine/input/evdev/evdev_driver.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/input/event.hpp b/src/engine/input/event.hpp
index ed72c12c2..9bacefc9c 100644
--- a/src/engine/input/event.hpp
+++ b/src/engine/input/event.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,23 +25,23 @@
 
 namespace Input {
 
-enum EventType { BUTTON_EVENT_TYPE, 
-                 POINTER_EVENT_TYPE, 
-                 AXIS_EVENT_TYPE, 
-                 SCROLLER_EVENT_TYPE, 
+enum EventType { BUTTON_EVENT_TYPE,
+                 POINTER_EVENT_TYPE,
+                 AXIS_EVENT_TYPE,
+                 SCROLLER_EVENT_TYPE,
                  KEYBOARD_EVENT_TYPE };
 
-enum EventName { 
+enum EventName {
   // Buttons
-  PRIMARY_BUTTON, 
+  PRIMARY_BUTTON,
   SECONDARY_BUTTON,
   PAUSE_BUTTON,
   FAST_FORWARD_BUTTON,
   SINGLE_STEP_BUTTON,
-  ARMAGEDDON_BUTTON, 
-  ESCAPE_BUTTON, 
+  ARMAGEDDON_BUTTON,
+  ESCAPE_BUTTON,
 
-  ACTION_1_BUTTON, 
+  ACTION_1_BUTTON,
   ACTION_2_BUTTON,
   ACTION_3_BUTTON,
   ACTION_4_BUTTON,
@@ -49,15 +49,15 @@ enum EventName {
   ACTION_6_BUTTON,
   ACTION_7_BUTTON,
   ACTION_8_BUTTON,
-  ACTION_9_BUTTON, 
+  ACTION_9_BUTTON,
   ACTION_10_BUTTON,
-                  
+
   ACTION_UP_BUTTON,
-  ACTION_DOWN_BUTTON, 
-                 
+  ACTION_DOWN_BUTTON,
+
   // Pointer
   STANDARD_POINTER,
-  
+
   // Scroller
   STANDARD_SCROLLER,
 
@@ -165,11 +165,11 @@ inline Event makeScrollerEvent(EventName name, float x_delta, float y_delta)
 inline Event makeKeyboardEvent(const SDL_KeyboardEvent& ev)
 {
   Event event;
-  
+
   event.type = KEYBOARD_EVENT_TYPE;
   event.keyboard.state  = ev.state;
   event.keyboard.keysym = ev.keysym;
-  
+
   return event;
 }
 
diff --git a/src/engine/input/manager.cpp b/src/engine/input/manager.cpp
index 4fc41ff4e..0c2f0a4fa 100644
--- a/src/engine/input/manager.cpp
+++ b/src/engine/input/manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -86,12 +86,12 @@ ControllerPtr
 Manager::create_controller(const Pathname& filename)
 {
   ControllerPtr controller(new Controller(desc));
-  
+
   FileReader reader = FileReader::parse(filename);
 
   if (reader.get_name() != "pingus-controller")
   {
-    raise_exception(std::runtime_error, 
+    raise_exception(std::runtime_error,
                     "Controller: invalid config file '" << filename.str() << "'");
   }
   else
@@ -131,7 +131,7 @@ Manager::create_controller(const Pathname& filename)
 
       }
       else if (StringUtil::has_suffix(i->get_name(), "button"))
-      {             
+      {
         const std::vector<FileReader>& buttons = i->get_sections();
         for(std::vector<FileReader>::const_iterator j = buttons.begin(); j != buttons.end(); ++j)
         {
@@ -170,7 +170,7 @@ Manager::create_controller(const Pathname& filename)
             ctrl_keyboard->add_keyboard(keyboard);
           else
             log_error("Manager: keyboard: Couldn't create keyboard %1%", j->get_name());
-        }              
+        }
       }
       else
       {
@@ -186,7 +186,7 @@ Manager::create_controller(const Pathname& filename)
 
 void
 Manager::refresh()
-{ 
+{
   for(auto i = controllers.begin(); i != controllers.end(); ++i)
     (*i)->refresh();
 }
@@ -196,7 +196,7 @@ Manager::update(float delta)
 {
   for(auto i = drivers.begin(); i != drivers.end(); ++i)
     (*i)->update(delta);
-  
+
   for(auto i = controllers.begin(); i != controllers.end(); ++i)
     (*i)->update(delta);
 }
@@ -245,7 +245,7 @@ Button*
 Manager::create_button(const FileReader& reader, Control* parent)
 {
   std::string driver = get_driver_part(reader.get_name());
-                  
+
   Driver* drv = load_driver(driver);
   if (drv)
   {
@@ -262,7 +262,7 @@ Axis*
 Manager::create_axis(const FileReader& reader, Control* parent)
 {
   std::string driver = get_driver_part(reader.get_name());
-                  
+
   Driver* drv = load_driver(driver);
   if (drv)
   {
@@ -279,7 +279,7 @@ Pointer*
 Manager::create_pointer(const FileReader& reader, Control* parent)
 {
   std::string driver = get_driver_part(reader.get_name());
-                  
+
   Driver* drv = load_driver(driver);
   if (drv)
   {
@@ -296,7 +296,7 @@ Scroller*
 Manager::create_scroller(const FileReader& reader, Control* parent)
 {
   std::string driver = get_driver_part(reader.get_name());
-                  
+
   Driver* drv = load_driver(driver);
   if (drv)
   {
@@ -313,7 +313,7 @@ Keyboard*
 Manager::create_keyboard(const FileReader& reader, Control* parent)
 {
   std::string driver = get_driver_part(reader.get_name());
-                  
+
   Driver* drv = load_driver(driver);
   if (drv)
   {
@@ -323,7 +323,7 @@ Manager::create_keyboard(const FileReader& reader, Control* parent)
   {
     log_error("couldn't find driver: '%1%'", driver);
     return 0;
-  }  
+  }
 }
 
 } // namespace Input
diff --git a/src/engine/input/manager.hpp b/src/engine/input/manager.hpp
index 5c51e2cee..f1af35957 100644
--- a/src/engine/input/manager.hpp
+++ b/src/engine/input/manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -24,7 +24,7 @@
 
 namespace Input {
 
-class Manager 
+class Manager
 {
 private:
   typedef std::vector<Driver*> Drivers;
diff --git a/src/engine/input/sdl_driver.cpp b/src/engine/input/sdl_driver.cpp
index 0bcfa4346..783a58a81 100644
--- a/src/engine/input/sdl_driver.cpp
+++ b/src/engine/input/sdl_driver.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -33,11 +33,11 @@ SDLDriver::SDLDriver() :
   string2key(),
   joystick_handles()
 {
-  for (int i = 0; i < SDLK_LAST; ++i) 
+  for (int i = 0; i < SDLK_LAST; ++i)
   {
     char* key_name = SDL_GetKeyName(static_cast<SDLKey>(i));
     string2key[key_name] = static_cast<SDLKey>(i);
-    
+
     // FIXME: Make the keynames somewhere user visible so that users can use them
     log_debug("Key: '%1%'", key_name);
   }
@@ -45,7 +45,7 @@ SDLDriver::SDLDriver() :
 
 SDLDriver::~SDLDriver()
 {
-  
+
 }
 
 Keyboard*
@@ -64,12 +64,12 @@ SDLDriver::create_button(const FileReader& reader, Control* parent)
 
     reader.read_int("device", binding.device);
     reader.read_int("button", binding.button);
-      
+
     if (open_joystick(binding.device))
     {
       binding.binding = new Button(parent);
       joystick_button_bindings.push_back(binding);
-      
+
       return binding.binding;
     }
     else
@@ -90,20 +90,20 @@ SDLDriver::create_button(const FileReader& reader, Control* parent)
   else if (reader.get_name() == "sdl:keyboard-button")
   {
     std::string key;
-    if (reader.read_string("key", key)) 
+    if (reader.read_string("key", key))
     {
       String2Key::iterator i = string2key.find(key);
-      if (i != string2key.end()) 
+      if (i != string2key.end())
       {
         KeyboardButtonBinding binding;
-      
+
         binding.key = i->second;
         binding.binding = new Button(parent);
         keyboard_button_bindings.push_back(binding);
 
         return binding.binding;
       }
-      else 
+      else
       {
         log_error("couldn't find keysym for key '%1%'", key);
         return 0;
@@ -130,12 +130,12 @@ SDLDriver::create_axis(const FileReader& reader, Control* parent)
 
     reader.read_int("device", binding.device);
     reader.read_int("axis",   binding.axis);
-      
+
     if (open_joystick(binding.device))
     {
       binding.binding = new Axis(parent);
       joystick_axis_bindings.push_back(binding);
-      
+
       return binding.binding;
     }
     else
@@ -185,7 +185,7 @@ SDLDriver::create_pointer(const FileReader& reader, Control* parent)
   }
 }
 
-bool 
+bool
 SDLDriver::open_joystick(int device)
 {
   JoystickHandles::iterator i = joystick_handles.find(device);
@@ -257,7 +257,7 @@ SDLDriver::update(float delta)
         Display::resize(Size(event.resize.w, event.resize.h));
         break;
 
-      case SDL_KEYDOWN:          
+      case SDL_KEYDOWN:
       case SDL_KEYUP:
         // keyboard events
         if (keyboard_binding)
@@ -267,7 +267,7 @@ SDLDriver::update(float delta)
         if (event.key.state == SDL_PRESSED)
           global_event.on_button_press(event.key);
         else
-          global_event.on_button_release(event.key);            
+          global_event.on_button_release(event.key);
 
         // game button events
         for(std::vector<KeyboardButtonBinding>::iterator i = keyboard_button_bindings.begin();
@@ -285,14 +285,14 @@ SDLDriver::update(float delta)
 
       case SDL_JOYAXISMOTION:
         for(std::vector<JoystickAxisBinding>::iterator i = joystick_axis_bindings.begin();
-            i != joystick_axis_bindings.end(); ++i)            
+            i != joystick_axis_bindings.end(); ++i)
         {
           if (event.jaxis.which == i->device &&
               event.jaxis.axis  == i->axis)
             i->binding->set_state(static_cast<float>(event.jaxis.value) / 32767.0f);
         }
         break;
-            
+
       case SDL_JOYBUTTONDOWN:
       case SDL_JOYBUTTONUP:
         for(std::vector<JoystickButtonBinding>::iterator i = joystick_button_bindings.begin();
@@ -305,7 +305,7 @@ SDLDriver::update(float delta)
           }
         }
         break;
-            
+
       default:
         // FIXME: Do something with other events
         break;
diff --git a/src/engine/input/sdl_driver.hpp b/src/engine/input/sdl_driver.hpp
index fa2588258..b4961d3bf 100644
--- a/src/engine/input/sdl_driver.hpp
+++ b/src/engine/input/sdl_driver.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -79,7 +79,7 @@ private:
 
   typedef std::map<int, SDL_Joystick*> JoystickHandles;
   JoystickHandles joystick_handles;
- 
+
 public:
   SDLDriver();
   ~SDLDriver();
diff --git a/src/engine/input/wiimote/wiimote.cpp b/src/engine/input/wiimote/wiimote.cpp
index f38613321..9266adf1e 100644
--- a/src/engine/input/wiimote/wiimote.cpp
+++ b/src/engine/input/wiimote/wiimote.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -55,7 +55,7 @@ Wiimote::id2str(int id)
   else if (id == CLASSIC_R)     return "classic:r";
   else if (id == CLASSIC_ZL)    return "classic:zl";
   else if (id == CLASSIC_ZR)    return "classic:zr";
-  else 
+  else
     return "unknown";
 }
 
@@ -92,7 +92,7 @@ Wiimote::str2id(const std::string& str)
   else if (str == "classic:r")     return CLASSIC_R;
   else if (str == "classic:zl")    return CLASSIC_ZL;
   else if (str == "classic:zr")    return CLASSIC_ZR;
-  else 
+  else
     return UNKNOWN;
 }
 
@@ -129,7 +129,7 @@ Wiimote::Wiimote() :
 
   assert(wiimote == 0);
   wiimote = this;
-  
+
   cwiid_set_err(&Wiimote::err_callback_c);
 }
 
@@ -153,11 +153,11 @@ Wiimote::connect()
   /* Connect to the wiimote */
   printf("Put Wiimote in discoverable mode now (press 1+2)...\n");
 
-  if (!(m_wiimote = cwiid_connect(&bdaddr, CWIID_FLAG_MESG_IFC))) 
+  if (!(m_wiimote = cwiid_connect(&bdaddr, CWIID_FLAG_MESG_IFC)))
   {
     fprintf(stderr, "Unable to connect to wiimote\n");
   }
-  else 
+  else
   {
     std::cout << "Wiimote connected: " << m_wiimote << std::endl;
     if (cwiid_set_mesg_callback(m_wiimote, &Wiimote::mesg_callback_c))
@@ -166,7 +166,7 @@ Wiimote::connect()
     }
 
     // FIXME: Could init this depending on what events are actually bound
-    if (cwiid_command(m_wiimote, CWIID_CMD_RPT_MODE, 
+    if (cwiid_command(m_wiimote, CWIID_CMD_RPT_MODE,
                       CWIID_RPT_STATUS  |
                       CWIID_RPT_NUNCHUK |
                       CWIID_RPT_ACC     |
@@ -203,7 +203,7 @@ Wiimote::connect()
         nunchuk_zero.x = buf[0];
         nunchuk_zero.y = buf[1];
         nunchuk_zero.z = buf[2];
-            
+
         nunchuk_one.x  = buf[4];
         nunchuk_one.y  = buf[5];
         nunchuk_one.z  = buf[6];
@@ -224,7 +224,7 @@ Wiimote::connect()
                 << (int)nunchuk_one.x << ", "
                 << (int)nunchuk_one.x << ", "
                 << (int)nunchuk_one.x << std::endl;
-          
+
     }
   }
 }
@@ -306,7 +306,7 @@ Wiimote::add_axis_event(int device, int axis, float pos)
   event.axis.axis = axis;
   event.axis.pos  = pos;
 
-  events.push_back(event); 
+  events.push_back(event);
 }
 
 void
@@ -321,7 +321,7 @@ Wiimote::add_acc_event(int device, int accelerometer, float x, float y, float z)
   event.acc.y = y;
   event.acc.z = z;
 
-  events.push_back(event);  
+  events.push_back(event);
 }
 
 void
@@ -356,7 +356,7 @@ Wiimote::on_error(const cwiid_error_mesg& msg)
 
   if (m_wiimote)
   {
-    if (cwiid_disconnect(m_wiimote)) 
+    if (cwiid_disconnect(m_wiimote))
     {
       fprintf(stderr, "Error on wiimote disconnect\n");
       m_wiimote = 0;
@@ -371,7 +371,7 @@ Wiimote::on_button(const cwiid_btn_mesg& msg)
 
   uint16_t changes = m_buttons ^ msg.buttons;
   m_buttons = msg.buttons;
- 
+
   CHECK_BTN(CWIID_BTN_A, WIIMOTE_A);
   CHECK_BTN(CWIID_BTN_B, WIIMOTE_B);
 
@@ -393,7 +393,7 @@ Wiimote::on_acc(const cwiid_acc_mesg& msg)
 {
   //printf("Acc Report: x=%d, y=%d, z=%d\n", msg.acc[0], msg.acc[1], msg.acc[2]);
 
-  add_acc_event(0, 0, 
+  add_acc_event(0, 0,
                 static_cast<float>(msg.acc[0] - wiimote_zero.x) / static_cast<float>(wiimote_one.x - wiimote_zero.x),
                 static_cast<float>(msg.acc[1] - wiimote_zero.y) / static_cast<float>(wiimote_one.y - wiimote_zero.y),
                 static_cast<float>(msg.acc[2] - wiimote_zero.z) / static_cast<float>(wiimote_one.z - wiimote_zero.z));
@@ -420,9 +420,9 @@ Wiimote::on_ir(const cwiid_ir_mesg& msg)
 }
 
 /** Convert value to float while taking calibration data, left/center/right into account */
-inline float to_float(uint8_t min, 
-                      uint8_t center, 
-                      uint8_t max, 
+inline float to_float(uint8_t min,
+                      uint8_t center,
+                      uint8_t max,
                       uint8_t value)
 {
   if (value < center)
@@ -433,7 +433,7 @@ inline float to_float(uint8_t min,
   {
     return Math::clamp(-1.0f, static_cast<float>(value - center) / static_cast<float>(max - center), 1.0f);
   }
-  else 
+  else
   {
     return 0.0f;
   }
@@ -446,10 +446,10 @@ Wiimote::on_nunchuk(const cwiid_nunchuk_mesg& msg)
   m_nunchuk_btns  = msg.buttons;
 
 #define CHECK_NCK_BTN(btn, num) if (changes & btn) add_button_event(0, num, m_nunchuk_btns & btn)
-      
+
   CHECK_NCK_BTN(CWIID_NUNCHUK_BTN_Z, NUNCHUK_Z);
   CHECK_NCK_BTN(CWIID_NUNCHUK_BTN_C, NUNCHUK_C);
-  
+
   // FIXME: Read real calibration data, instead of hardcoded one
   float nunchuk_stick_x =  to_float(37, 129, 231, msg.stick[0]);
   float nunchuk_stick_y = -to_float(22, 119, 213, msg.stick[1]);
@@ -458,7 +458,7 @@ Wiimote::on_nunchuk(const cwiid_nunchuk_mesg& msg)
   {
     m_nunchuk_stick_x = nunchuk_stick_x;
     add_axis_event(0, 0, m_nunchuk_stick_x);
-  } 
+  }
 
   if (m_nunchuk_stick_y != nunchuk_stick_y)
   {
@@ -466,14 +466,14 @@ Wiimote::on_nunchuk(const cwiid_nunchuk_mesg& msg)
     add_axis_event(0, 1, m_nunchuk_stick_y);
   }
 
-  add_acc_event(0, 1, 
+  add_acc_event(0, 1,
                 static_cast<float>(msg.acc[0] - nunchuk_zero.x) / static_cast<float>(nunchuk_one.x - nunchuk_zero.x),
                 static_cast<float>(msg.acc[1] - nunchuk_zero.y) / static_cast<float>(nunchuk_one.y - nunchuk_zero.y),
                 static_cast<float>(msg.acc[2] - nunchuk_zero.z) / static_cast<float>(nunchuk_one.z - nunchuk_zero.z));
   if (0)
-    printf("Nunchuk Report: btns=%.2X stick=(%3d,%3d) (%5.2f, %5.2f) acc.x=%d acc.y=%d acc.z=%d\n", 
+    printf("Nunchuk Report: btns=%.2X stick=(%3d,%3d) (%5.2f, %5.2f) acc.x=%d acc.y=%d acc.z=%d\n",
            msg.buttons,
-           msg.stick[0], msg.stick[1], 
+           msg.stick[0], msg.stick[1],
            m_nunchuk_stick_x,
            m_nunchuk_stick_y,
            msg.acc[0], msg.acc[1], msg.acc[2]);
@@ -505,13 +505,13 @@ Wiimote::err_callback(cwiid_wiimote_t* w, const char *s, va_list ap)
 {
   pthread_mutex_lock(&mutex);
 
-  if (w) 
+  if (w)
     printf("%d:", cwiid_get_id(w));
-  else 
+  else
     printf("-1:");
 
   vprintf(s, ap);
-  printf("\n");  
+  printf("\n");
 
   pthread_mutex_unlock(&mutex);
 }
@@ -524,7 +524,7 @@ Wiimote::mesg_callback(cwiid_wiimote_t* w, int mesg_count, union cwiid_mesg mesg
   //std::cout << "StatusCallback: " << w << " " << mesg_count << std::endl;
   for (int i=0; i < mesg_count; i++)
   {
-    switch (mesg[i].type) 
+    switch (mesg[i].type)
     {
       case CWIID_MESG_STATUS:
         wiimote->on_status(mesg[i].status_mesg);
@@ -564,7 +564,7 @@ Wiimote::mesg_callback(cwiid_wiimote_t* w, int mesg_count, union cwiid_mesg mesg
 }
 
 // static callback functions
-  
+
 void
 Wiimote::err_callback_c(cwiid_wiimote_t* w, const char *s, va_list ap)
 {
diff --git a/src/engine/input/wiimote/wiimote.hpp b/src/engine/input/wiimote/wiimote.hpp
index 7d65afa66..eb7ed7fbf 100644
--- a/src/engine/input/wiimote/wiimote.hpp
+++ b/src/engine/input/wiimote/wiimote.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -26,7 +26,7 @@ struct WiimoteButtonEvent
 {
   int  device;
   int  button;
-  bool down; 
+  bool down;
 };
 
 struct WiimoteAxisEvent
@@ -112,7 +112,7 @@ public:
     NUNCHUK_C,
     NUNCHUK_Z,
 
-    // Classic 
+    // Classic
     CLASSIC_LEFT,
     CLASSIC_RIGHT,
     CLASSIC_UP,
@@ -129,7 +129,7 @@ public:
     CLASSIC_R,
     CLASSIC_ZL, // FIXME: This is an axis instead of a button?
     CLASSIC_ZR,
-    
+
     UNKNOWN
   };
 
@@ -138,7 +138,7 @@ public:
 
   Wiimote();
   ~Wiimote();
-  
+
   void connect();
   void disconnect();
 
@@ -161,7 +161,7 @@ public:
   void on_ir      (const cwiid_ir_mesg& msg);
   void on_nunchuk(const cwiid_nunchuk_mesg& msg);
   void on_classic (const cwiid_classic_mesg& msg);
-  
+
   void mesg_callback(cwiid_wiimote_t*, int mesg_count, union cwiid_mesg mesg[]);
   void err_callback(cwiid_wiimote_t*, const char *s, va_list ap);
 
diff --git a/src/engine/input/wiimote/wiimote_driver.cpp b/src/engine/input/wiimote/wiimote_driver.cpp
index 87328fc58..4beb29221 100644
--- a/src/engine/input/wiimote/wiimote_driver.cpp
+++ b/src/engine/input/wiimote/wiimote_driver.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -51,7 +51,7 @@ WiimoteDriver::update(float delta)
       pout(PINGUS_DEBUG_INPUT) << "WiimoteDriver: (wiimote:button (button "
                                << event.button.button << ")) => "
                                << event.button.down << std::endl;
-                  
+
       for (std::vector<ButtonBinding>::const_iterator j = button_bindings.begin();
            j != button_bindings.end();
            ++j)
@@ -65,7 +65,7 @@ WiimoteDriver::update(float delta)
     else if (event.type == WiimoteEvent::WIIMOTE_AXIS_EVENT)
     {
       pout(PINGUS_DEBUG_INPUT) << "WiimoteDriver: (wiimote:axis (axis "
-                               << event.axis.axis << ")) => " 
+                               << event.axis.axis << ")) => "
                                << event.axis.pos
                                << std::endl; // Fixme: should output string
 
@@ -84,12 +84,12 @@ WiimoteDriver::update(float delta)
       if (event.acc.accelerometer == 0)
       {
         if (0)
-          printf("%d - %6.3f %6.3f %6.3f\n",  
+          printf("%d - %6.3f %6.3f %6.3f\n",
                  event.acc.accelerometer,
                  event.acc.x,
                  event.acc.y,
                  event.acc.z);
-                 
+
         float roll = atan(event.acc.x/event.acc.z);
         if (event.acc.z <= 0.0) {
           roll += M_PI * ((event.acc.x > 0.0) ? 1 : -1);
@@ -113,7 +113,7 @@ WiimoteDriver::update(float delta)
 }
 
 Button*
-WiimoteDriver::create_button(const FileReader& reader, Control* parent) 
+WiimoteDriver::create_button(const FileReader& reader, Control* parent)
 {
   std::string button;
   if (reader.get_name() == "wiimote:button")
@@ -126,7 +126,7 @@ WiimoteDriver::create_button(const FileReader& reader, Control* parent)
     else
     {
       int button_id = Wiimote::str2id(StringUtil::to_lower(button));
-          
+
       if (button_id == Wiimote::UNKNOWN)
       {
         std::cout << "Error: WiimoteDriver: unknown button: " << button << std::endl;
@@ -148,7 +148,7 @@ WiimoteDriver::create_button(const FileReader& reader, Control* parent)
 }
 
 Axis*
-WiimoteDriver::create_axis(const FileReader& reader, Control* parent) 
+WiimoteDriver::create_axis(const FileReader& reader, Control* parent)
 {
   std::string axis;
   if (reader.get_name() == "wiimote:axis")
@@ -187,15 +187,15 @@ WiimoteDriver::create_axis(const FileReader& reader, Control* parent)
 }
 
 Scroller*
-WiimoteDriver::create_scroller(const FileReader& reader, Control* parent) 
+WiimoteDriver::create_scroller(const FileReader& reader, Control* parent)
 {
-  return 0; 
+  return 0;
 }
 
 Pointer*
 WiimoteDriver::create_pointer (const FileReader& reader, Control* parent)
 {
-  return 0; 
+  return 0;
 }
 
 } // namespace Input
diff --git a/src/engine/input/wiimote/wiimote_driver.hpp b/src/engine/input/wiimote/wiimote_driver.hpp
index c827b4c12..88df3bba3 100644
--- a/src/engine/input/wiimote/wiimote_driver.hpp
+++ b/src/engine/input/wiimote/wiimote_driver.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -23,7 +23,7 @@ namespace Input {
 
 class WiimoteDriver : public Driver
 {
-private: 
+private:
   struct ButtonBinding {
     Button* binding;
     int button;
@@ -44,7 +44,7 @@ public:
   void update(float delta);
 
   std::string get_name() const { return "wiimote"; }
-  
+
   Button*   create_button  (const FileReader& reader, Control* parent);
   Axis*     create_axis    (const FileReader& reader, Control* parent);
   Scroller* create_scroller(const FileReader& reader, Control* parent);
diff --git a/src/engine/input/xinput/xinput_device.cpp b/src/engine/input/xinput/xinput_device.cpp
index 04052133e..ea2617555 100644
--- a/src/engine/input/xinput/xinput_device.cpp
+++ b/src/engine/input/xinput/xinput_device.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -157,14 +157,14 @@ XInputDevice::on_xevent(XEvent &event)
     if (axis[i].pos != old_axis[i].pos)
     {
       //           CL_InputEvent ie;
-          
+
       //           ie.id           = i;
       //           ie.type         = CL_InputEvent::axis_moved;
       //           ie.device       = CL_InputDevice(this);
       //           ie.mouse_pos    = CL_Point(0, 0);
       //           ie.axis_pos     = get_axis(i);
       //           ie.repeat_count = false;
-          
+
       //           sig_axis_move(ie);
     }
   }
@@ -189,17 +189,17 @@ XInputDevice::register_events(Display* dpy,
 
   device = XOpenDevice(dpy, info->id);
 
-  if (!device) 
+  if (!device)
   {
     fprintf(stderr, "unable to open device %s\n", dev_name);
     return 0;
   }
 
-  if (device->num_classes > 0) 
+  if (device->num_classes > 0)
   {
-    for (ip = device->classes, i=0; i<info->num_classes; ip++, i++) 
+    for (ip = device->classes, i=0; i<info->num_classes; ip++, i++)
     {
-      switch (ip->input_class) 
+      switch (ip->input_class)
       {
         case KeyClass:
           DeviceKeyPress  (device, key_press_type,   event_list[number]); number++;
@@ -260,14 +260,14 @@ XInputDevice::get_info(XDeviceInfo* info)
 
   XAnyClassPtr any = (XAnyClassPtr)(info->inputclassinfo);
   std::cout << "Info->num_classes: " << info->num_classes << std::endl;
-  for (int i = 0; i < info->num_classes; ++i) 
+  for (int i = 0; i < info->num_classes; ++i)
   {
-    switch (any->c_class) 
+    switch (any->c_class)
     {
       case KeyClass:
       {
         XKeyInfoPtr k = (XKeyInfoPtr)any;
-  
+
         printf("\tNum_keys is %d\n", k->num_keys);
         printf("\tMin_keycode is %d\n", k->min_keycode);
         printf("\tMax_keycode is %d\n", k->max_keycode);
diff --git a/src/engine/input/xinput/xinput_device.hpp b/src/engine/input/xinput/xinput_device.hpp
index 7722d5094..8bcde7fc6 100644
--- a/src/engine/input/xinput/xinput_device.hpp
+++ b/src/engine/input/xinput/xinput_device.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -44,18 +44,18 @@ private:
 private:
   XInputDriver* owner;
   std::string name;
-    
+
   bool absolute;
-    
+
   std::vector<bool> buttons;
   std::vector<AxisInfo> axis;
 
-  int num_keys; 
-  
+  int num_keys;
+
   Vector2i mouse_pos;
   Time time_at_last_press;
   int  last_press_id;
-  
+
   bool key_states[5];
 
   int motion_type;
diff --git a/src/engine/input/xinput/xinput_driver.cpp b/src/engine/input/xinput/xinput_driver.cpp
index 9909097bf..c5fef2359 100644
--- a/src/engine/input/xinput/xinput_driver.cpp
+++ b/src/engine/input/xinput/xinput_driver.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -42,13 +42,13 @@ XInputDriver::xinput_is_present()
 {
   XExtensionVersion* version = XGetExtensionVersion(sys.info.x11.display, INAME);
 
-  if (version && (version != (XExtensionVersion*)NoSuchExtension)) 
+  if (version && (version != (XExtensionVersion*)NoSuchExtension))
   {
     Bool present = version->present;
     XFree(version);
     return present;
-  } 
-  else 
+  }
+  else
   {
     return False;
   }
@@ -65,14 +65,14 @@ XInputDriver::setup_xinput()
   {
     int num_devices;
     XDeviceInfo* info = XListInputDevices(sys.info.x11.display, &num_devices);
-    for(int i = 0; i < num_devices; ++i) 
+    for(int i = 0; i < num_devices; ++i)
     {
       pout(PINGUS_DEBUG_INPUT) << "XInputDriver: Device name='" << info[i].name << "'" << std::endl;
       // FIXME: Xinput isn't necesarrily a mouse, could be anything
       //if (info[i].use == IsXExtensionDevice)
       // {
       devices.push_back(new XInputDevice(this, &info[i]));
-      // } 
+      // }
     }
     XFreeDeviceList(info);
   }
@@ -96,9 +96,9 @@ XInputDriver::find_device_info(Display *display,
   Bool is_id = True;
   XID  id = 0;
 
-  for(int i = 0; i < len; ++i) 
+  for(int i = 0; i < len; ++i)
   {
-    if (!isdigit(name[i])) 
+    if (!isdigit(name[i]))
     {
       is_id = False;
       break;
@@ -111,7 +111,7 @@ XInputDriver::find_device_info(Display *display,
 
   x_devices = XListInputDevices(display, &num_devices);
 
-  for(int i = 0; i < num_devices; ++i) 
+  for(int i = 0; i < num_devices; ++i)
   {
     if ((!only_extended || (x_devices[i].use == IsXExtensionDevice)) &&
         ((!is_id && strcmp(x_devices[i].name, name) == 0) ||
diff --git a/src/engine/input/xinput/xinput_driver.hpp b/src/engine/input/xinput/xinput_driver.hpp
index f992fc669..6cf60ab62 100644
--- a/src/engine/input/xinput/xinput_driver.hpp
+++ b/src/engine/input/xinput/xinput_driver.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -45,7 +45,7 @@ public:
   ~XInputDriver();
 
   SDL_SysWMinfo& get_syswminfo() { return sys; }
- 
+
   std::string get_name() const { return "xinput"; }
   void update(float delta);
 
diff --git a/src/engine/resource/resource.hpp b/src/engine/resource/resource.hpp
index 34bb19d7a..45862758f 100644
--- a/src/engine/resource/resource.hpp
+++ b/src/engine/resource/resource.hpp
@@ -30,7 +30,7 @@ public:
   std::function<Data()> loader;
 
   ResourceImpl(const std::function<Data()>& loader_) :
-    data(), 
+    data(),
     loader(loader_)
   {}
 };
diff --git a/src/engine/resource/resource_manager.hpp b/src/engine/resource/resource_manager.hpp
index d48900779..939a96f9e 100644
--- a/src/engine/resource/resource_manager.hpp
+++ b/src/engine/resource/resource_manager.hpp
@@ -23,14 +23,14 @@
 
 namespace resource {
 
-template<typename Key, 
+template<typename Key,
          typename Data,
          typename Loader>
 class ResourceManager
 {
 private:
   std::map<Key, Resource<Data> > m_resources;
-  
+
 public:
   ResourceManager() :
     m_resources()
diff --git a/src/engine/screen/gui_screen.cpp b/src/engine/screen/gui_screen.cpp
index 8681afeed..782532795 100644
--- a/src/engine/screen/gui_screen.cpp
+++ b/src/engine/screen/gui_screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -43,7 +43,7 @@ GUIScreen::draw(DrawingContext& gc)
 void
 GUIScreen::update(float delta)
 {
-  gui_manager->update(delta);  
+  gui_manager->update(delta);
 }
 
 void
@@ -80,10 +80,10 @@ GUIScreen::update (const Input::Event& event)
 
     }
     break;
-                
+
     case Input::KEYBOARD_EVENT_TYPE:
     {
-                
+
     }
     break;
 
diff --git a/src/engine/screen/gui_screen.hpp b/src/engine/screen/gui_screen.hpp
index 45a731efb..65e109dc7 100644
--- a/src/engine/screen/gui_screen.hpp
+++ b/src/engine/screen/gui_screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/screen/screen.cpp b/src/engine/screen/screen.cpp
index ba68d379c..8c37b3c3f 100644
--- a/src/engine/screen/screen.cpp
+++ b/src/engine/screen/screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/screen/screen.hpp b/src/engine/screen/screen.hpp
index 13bebed04..c9e3c3f37 100644
--- a/src/engine/screen/screen.hpp
+++ b/src/engine/screen/screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/screen/screen_manager.cpp b/src/engine/screen/screen_manager.cpp
index c6c098c26..44964dc8e 100644
--- a/src/engine/screen/screen_manager.cpp
+++ b/src/engine/screen/screen_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -42,7 +42,7 @@ void read(std::istream& out, C& value)
 void write_events(std::ostream& out, const std::vector<Input::Event>& events)
 {
   write(out, events.size());
-  for(std::vector<Input::Event>::const_iterator i = events.begin(); 
+  for(std::vector<Input::Event>::const_iterator i = events.begin();
       i != events.end();
       ++i)
   {
@@ -88,7 +88,7 @@ void read_event(std::istream& out, Input::Event& event)
       read(out, event.scroll.x_delta);
       read(out, event.scroll.y_delta);
       break;
-        
+
     case Input::KEYBOARD_EVENT_TYPE:
       read(out, event.keyboard);
       break;
@@ -124,7 +124,7 @@ void write_event(std::ostream& out, const Input::Event& event)
       write(out, event.scroll.x_delta);
       write(out, event.scroll.y_delta);
       break;
-        
+
     case Input::KEYBOARD_EVENT_TYPE:
       write(out, event.keyboard);
       break;
@@ -164,7 +164,7 @@ void
 ScreenManager::display()
 {
   show_software_cursor(globals::software_cursor);
-  
+
   Uint32 last_ticks = SDL_GetTicks();
   float previous_frame_time;
   std::vector<Input::Event> events;
@@ -172,7 +172,7 @@ ScreenManager::display()
   while (!screens.empty())
   {
     events.clear();
-      
+
     // Get time and update Input::Events
     if (playback_input)
     {
@@ -196,7 +196,7 @@ ScreenManager::display()
       input_manager.update(previous_frame_time);
       input_controller->poll_events(events);
     }
-      
+
     if (record_input)
     {
       write(std::cerr, previous_frame_time);
@@ -213,9 +213,9 @@ ScreenManager::display()
         log_warn("ScreenManager: previous frame took longer than 1 second (%1% sec.), ignoring and doing frameskip", previous_frame_time);
     }
     else
-    {  
+    {
       update(previous_frame_time, events);
-      
+
       // cap the framerate at the desired value
       // figure out how long this frame took
       float current_frame_time = float(SDL_GetTicks() - last_ticks) / 1000.0f;
@@ -228,7 +228,7 @@ ScreenManager::display()
     }
   }
 }
- 
+
 void
 ScreenManager::update(float delta, const std::vector<Input::Event>& events)
 {
@@ -242,7 +242,7 @@ ScreenManager::update(float delta, const std::vector<Input::Event>& events)
   {
     if (i->type == Input::POINTER_EVENT_TYPE && i->pointer.name == Input::STANDARD_POINTER)
       mouse_pos = Vector2i(static_cast<int>(i->pointer.x),
-                           static_cast<int>(i->pointer.y)); 
+                           static_cast<int>(i->pointer.y));
 
     last_screen->update(*i);
 
@@ -262,29 +262,29 @@ ScreenManager::update(float delta, const std::vector<Input::Event>& events)
 
   // Draw screen to DrawingContext
   get_current_screen()->draw(*display_gc);
-  
+
   // Render the DrawingContext to the screen
   display_gc->render(*Display::get_framebuffer(), Rect(Vector2i(0,0), Size(Display::get_width(),
                                                                            Display::get_height())));
   display_gc->clear();
-  
+
   // Draw the mouse pointer
   if (globals::software_cursor)
     cursor.render(mouse_pos.x, mouse_pos.y, *Display::get_framebuffer());
-  
+
   // Draw FPS Counter
   if (globals::print_fps)
   {
     fps_counter->draw();
     if (globals::developer_mode)
     {
-      Fonts::pingus_small.render(origin_center, Display::get_width()/2, 60, 
+      Fonts::pingus_small.render(origin_center, Display::get_width()/2, 60,
                                  "Developer Mode", *Display::get_framebuffer());
     }
   }
   else if (globals::developer_mode)
   {
-    Fonts::pingus_small.render(origin_center, Display::get_width()/2, 35, 
+    Fonts::pingus_small.render(origin_center, Display::get_width()/2, 35,
                                "Developer Mode", *Display::get_framebuffer());
   }
 
@@ -308,7 +308,7 @@ ScreenManager::instance()
 
 void
 ScreenManager::push_screen(ScreenPtr screen)
-{ 
+{
   screens.push_back(screen);
   screen->on_startup();
 }
@@ -350,7 +350,7 @@ ScreenManager::fade_over(ScreenPtr old_screen, ScreenPtr new_screen)
 {
   if (!old_screen.get() || !new_screen.get())
     return;
-  
+
   Uint32 last_ticks = SDL_GetTicks();
   float progress = 0.0f;
   Framebuffer& fb = *Display::get_framebuffer();
@@ -363,20 +363,20 @@ ScreenManager::fade_over(ScreenPtr old_screen, ScreenPtr new_screen)
     display_gc->render(fb, Rect(Vector2i(0,0), Size(Display::get_width(),
                                                     Display::get_height())));
     display_gc->clear();
-      
+
     fb.push_cliprect(Rect(Vector2i(0 + border_x, 0 + border_y),
-                          Size(Display::get_width()  - 2*border_x, 
+                          Size(Display::get_width()  - 2*border_x,
                                Display::get_height() - 2*border_y)));
 
     new_screen->draw(*display_gc);
     display_gc->render(*Display::get_framebuffer(), Rect(Vector2i(0,0), Size(Display::get_width(),
                                                                             Display::get_height())));
     display_gc->clear();
-      
+
     fb.pop_cliprect();
     fb.flip();
     display_gc->clear();
-      
+
     progress = static_cast<float>(SDL_GetTicks() - last_ticks)/1000.0f * 2.0f;
   }
 
diff --git a/src/engine/screen/screen_manager.hpp b/src/engine/screen/screen_manager.hpp
index b97550946..b4b62f9e5 100644
--- a/src/engine/screen/screen_manager.hpp
+++ b/src/engine/screen/screen_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -47,7 +47,7 @@ private:
   Input::ControllerPtr input_controller;
 
   std::unique_ptr<DrawingContext> display_gc;
-  
+
   std::unique_ptr<FPSCounter> fps_counter;
   Sprite cursor;
 
@@ -87,7 +87,7 @@ public:
   void pop_all_screens();
 
   void show_software_cursor(bool v);
-  
+
   /** @return a pointer to the current Screen */
   ScreenPtr get_current_screen();
 
diff --git a/src/engine/screen/screen_manager_impl.hpp b/src/engine/screen/screen_manager_impl.hpp
index 891af75b2..4dcbe517a 100644
--- a/src/engine/screen/screen_manager_impl.hpp
+++ b/src/engine/screen/screen_manager_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound.cpp b/src/engine/sound/sound.cpp
index 4056b6b14..070848a6d 100644
--- a/src/engine/sound/sound.cpp
+++ b/src/engine/sound/sound.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound.hpp b/src/engine/sound/sound.hpp
index 8ad5f7905..f881b0f15 100644
--- a/src/engine/sound/sound.hpp
+++ b/src/engine/sound/sound.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound_dummy.cpp b/src/engine/sound/sound_dummy.cpp
index e95d4f5cd..0aa3ad95e 100644
--- a/src/engine/sound/sound_dummy.cpp
+++ b/src/engine/sound/sound_dummy.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound_dummy.hpp b/src/engine/sound/sound_dummy.hpp
index 896552abe..4d9dea7a0 100644
--- a/src/engine/sound/sound_dummy.hpp
+++ b/src/engine/sound/sound_dummy.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound_impl.hpp b/src/engine/sound/sound_impl.hpp
index 1d44a4908..a4fed1f2f 100644
--- a/src/engine/sound/sound_impl.hpp
+++ b/src/engine/sound/sound_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -39,7 +39,7 @@ public:
       @param filename The complete filename
       @param volume   The volume to play the sound at
       @param panning  The panning to play the sound with */
-  virtual void real_play_sound(const std::string & filename, 
+  virtual void real_play_sound(const std::string & filename,
                                float volume, float panning) = 0;
 
   virtual void set_sound_volume(float volume) = 0;
diff --git a/src/engine/sound/sound_real.cpp b/src/engine/sound/sound_real.cpp
index 7a124364a..a50490d93 100644
--- a/src/engine/sound/sound_real.cpp
+++ b/src/engine/sound/sound_real.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -58,8 +58,8 @@ PingusSoundReal::~PingusSoundReal()
 void
 PingusSoundReal::real_play_sound(const std::string& name, float volume, float panning)
 {
-  if (globals::sound_enabled && 
-      m_master_volume > 0 && 
+  if (globals::sound_enabled &&
+      m_master_volume > 0 &&
       m_sound_volume > 0)
   {
     SoundHandle chunk;
@@ -100,7 +100,7 @@ void
 PingusSoundReal::real_play_music(const std::string& filename, float volume, bool loop)
 {
   if (globals::music_enabled &&
-      m_master_volume > 0 && 
+      m_master_volume > 0 &&
       m_music_volume > 0)
   {
     log_info("PingusSoundReal: Playing music: %1%", filename);
diff --git a/src/engine/sound/sound_real.hpp b/src/engine/sound/sound_real.hpp
index 8636b0c4b..41a8c4723 100644
--- a/src/engine/sound/sound_real.hpp
+++ b/src/engine/sound/sound_real.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound_res_mgr.cpp b/src/engine/sound/sound_res_mgr.cpp
index 6cfdcbb28..5be0eec4d 100644
--- a/src/engine/sound/sound_res_mgr.cpp
+++ b/src/engine/sound/sound_res_mgr.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/sound/sound_res_mgr.hpp b/src/engine/sound/sound_res_mgr.hpp
index 3ecdd9070..0af9909e0 100644
--- a/src/engine/sound/sound_res_mgr.hpp
+++ b/src/engine/sound/sound_res_mgr.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/engine/system/sdl_system.cpp b/src/engine/system/sdl_system.cpp
index 6e904630f..3ecf1694b 100644
--- a/src/engine/system/sdl_system.cpp
+++ b/src/engine/system/sdl_system.cpp
@@ -25,14 +25,14 @@
 
 SDLSystem::SDLSystem()
 {
-  if (SDL_Init(SDL_INIT_VIDEO | SDL_INIT_JOYSTICK) != 0) 
+  if (SDL_Init(SDL_INIT_VIDEO | SDL_INIT_JOYSTICK) != 0)
   {
     log_error("Unable to initialize SDL: %1%", SDL_GetError());
     exit(1);
   }
   else
   {
-    atexit(SDL_Quit); 
+    atexit(SDL_Quit);
   }
 }
 
diff --git a/src/lisp/getters.hpp b/src/lisp/getters.hpp
index 96e5cada4..d9567a3e7 100644
--- a/src/lisp/getters.hpp
+++ b/src/lisp/getters.hpp
@@ -26,10 +26,10 @@ bool get(const Lisp* lisp, const Lisp*& val);
 
 template<typename T>
 static inline bool property_get(const Lisp* lisp, T& val)
-{  
+{
   if(lisp->get_list_size() != 2)
     return false;
-  
+
   const Lisp* el = lisp->get_list_elem(1);
   return get(el, val);
 }
diff --git a/src/lisp/lexer.cpp b/src/lisp/lexer.cpp
index 8d578c325..369023ba7 100644
--- a/src/lisp/lexer.cpp
+++ b/src/lisp/lexer.cpp
@@ -30,8 +30,8 @@ class EOFException
 };
 
 Lexer::Lexer(std::istream& newstream) :
-  stream(newstream), 
-  eof(false), 
+  stream(newstream),
+  eof(false),
   linenumber(0),
   bufend(),
   c(),
@@ -59,7 +59,7 @@ Lexer::nextChar()
       throw EOFException();
     stream.read(buffer, BUFFER_SIZE);
     size_t bytes_read = stream.gcount();
-    
+
     c = buffer;
     bufend = buffer + bytes_read;
 
@@ -85,9 +85,9 @@ Lexer::getNextToken()
         ++linenumber;
       nextChar();
     };
-    
+
     token_length = 0;
-    
+
     switch(*c) {
       case ';': // comment
         while(true) {
@@ -146,7 +146,7 @@ Lexer::getNextToken()
       case '#': // constant
         try {
           nextChar();
-          
+
           while(isalnum(*c) || *c == '_') {
             if(token_length < MAX_TOKEN_LENGTH)
               token_string[token_length++] = *c;
@@ -179,15 +179,15 @@ Lexer::getNextToken()
           bool have_nondigits = false;
           bool have_digits = false;
           int have_floating_point = 0;
-          
+
           do {
             if(isdigit(*c))
               have_digits = true;
             else if(*c == '.')
               ++have_floating_point;
             else if(isalnum(*c) || *c == '_')
-              have_nondigits = true;  
-            
+              have_nondigits = true;
+
             if(token_length < MAX_TOKEN_LENGTH)
               token_string[token_length++] = *c;
 
@@ -195,7 +195,7 @@ Lexer::getNextToken()
           } while(!isspace(*c) && !strchr(delims, *c));
 
           token_string[token_length] = 0;
-          
+
           // no nextChar
 
           if(have_nondigits || !have_digits || have_floating_point > 1)
@@ -211,11 +211,11 @@ Lexer::getNextToken()
             nextChar();
           } while(!isspace(*c) && !strchr(delims, *c));
           token_string[token_length] = 0;
-          
+
           // no nextChar
 
           return TOKEN_SYMBOL;
-        }       
+        }
     }
   } catch(EOFException& ) {
     return TOKEN_EOF;
diff --git a/src/lisp/lexer.hpp b/src/lisp/lexer.hpp
index 5c633030f..b87bc133a 100644
--- a/src/lisp/lexer.hpp
+++ b/src/lisp/lexer.hpp
@@ -35,7 +35,7 @@ public:
     TOKEN_TRUE,
     TOKEN_FALSE
   };
-    
+
   Lexer(std::istream& stream);
   ~Lexer();
 
@@ -44,15 +44,15 @@ public:
   { return token_string; }
   int getLineNumber() const
   { return linenumber; }
-    
+
 private:
   enum {
     MAX_TOKEN_LENGTH = 16384,
     BUFFER_SIZE = 1024
   };
-    
+
   inline void nextChar();
-    
+
   std::istream& stream;
   bool eof;
   int linenumber;
diff --git a/src/lisp/lisp.cpp b/src/lisp/lisp.cpp
index abf5b6303..a1ef9afd7 100644
--- a/src/lisp/lisp.cpp
+++ b/src/lisp/lisp.cpp
@@ -24,7 +24,7 @@
 
 namespace lisp
 {
-    
+
 Lisp::Lisp(int val) :
   v(), type(TYPE_INT)
 {
@@ -75,14 +75,14 @@ Lisp::print(std::ostream& out, int indent) const
 {
   for(int i = 0; i < indent; ++i)
     out << ' ';
- 
+
   switch(type) {
     case TYPE_LIST:
       out << "(\n";
       for(size_t i = 0; i < v.list.size; ++i)
         v.list.entries[i]->print(out, indent+2);
       for(int i = 0; i < indent; ++i)
-        out << ' ';                      
+        out << ' ';
       out << ")";
       break;
     case TYPE_STRING:
diff --git a/src/lisp/lisp.hpp b/src/lisp/lisp.hpp
index 5e39f7c2c..74d94a38c 100644
--- a/src/lisp/lisp.hpp
+++ b/src/lisp/lisp.hpp
@@ -45,10 +45,10 @@ public:
   Lisp(int val);
   Lisp(float val);
   Lisp(bool val);
-  ~Lisp();                                             
+  ~Lisp();
 
   LispType get_type() const
-  { return type; } 
+  { return type; }
 
   size_t get_list_size() const
   {
@@ -91,7 +91,7 @@ public:
         return static_cast<float>(v.int_);
     }
     else
-    {    
+    {
       return v.float_;
     }
   }
diff --git a/src/lisp/parser.cpp b/src/lisp/parser.cpp
index 80e3d3d80..04b4157d1 100644
--- a/src/lisp/parser.cpp
+++ b/src/lisp/parser.cpp
@@ -94,7 +94,7 @@ Parser::parse(std::istream& stream, const std::string& filename)
     else
       throw ParseError(parser.get(), "extra tokens at end of file");
   }
-    
+
   return result;
 }
 
@@ -106,7 +106,7 @@ Parser::parse()
     switch(token) {
       case Lexer::TOKEN_OPEN_PAREN:
         token = lexer->getNextToken();
-      
+
         // Handle (_ "blup") strings that need to be translated
         if(token == Lexer::TOKEN_SYMBOL
            && strcmp(lexer->getString(), "_") == 0) {
@@ -114,13 +114,13 @@ Parser::parse()
           if(token != Lexer::TOKEN_STRING)
             throw ParseError(this, "Expected string after '(_' sequence");
           entries.push_back(std::shared_ptr<Lisp>(new Lisp(Lisp::TYPE_STRING, lexer->getString())));
-          
+
           token = lexer->getNextToken();
           if(token != Lexer::TOKEN_CLOSE_PAREN)
             throw ParseError(this, "Expected ')' after '(_ ""' sequence");
           break;
         }
-      
+
         entries.push_back(parse());
         if(token != Lexer::TOKEN_CLOSE_PAREN) {
           if(token == Lexer::TOKEN_EOF)
@@ -160,7 +160,7 @@ Parser::parse()
 
     token = lexer->getNextToken();
   }
-  
+
   return std::shared_ptr<Lisp>(new Lisp(entries));
 }
 
diff --git a/src/lisp/parser.hpp b/src/lisp/parser.hpp
index 89f046074..d8819745c 100644
--- a/src/lisp/parser.hpp
+++ b/src/lisp/parser.hpp
@@ -39,9 +39,9 @@ private:
   friend class ParseError;
 
   Parser();
-  
+
   std::shared_ptr<Lisp> parse();
-  
+
   std::string filename;
   Lexer* lexer;
   Lexer::TokenType token;
diff --git a/src/lisp/property_iterator.hpp b/src/lisp/property_iterator.hpp
index bb8fdd965..e84ef1d59 100644
--- a/src/lisp/property_iterator.hpp
+++ b/src/lisp/property_iterator.hpp
@@ -11,7 +11,7 @@ struct ListEntry {
   ListEntry(const std::shared_ptr<lisp::Lisp> lisp)
     : lisp(lisp), used(false)
   {}
-  
+
   const std::shared_ptr<lisp::Lisp> lisp;
   bool used;
 };
@@ -49,12 +49,12 @@ public:
         return true;
     } while(true);
   }
-  
+
   const std::string& item() const
   {
     return current_item;
   }
-  
+
 private:
   friend class Properties;
 
@@ -62,7 +62,7 @@ private:
     : i(begin), end(end)
   {
   }
-    
+
   PropertyMap::iterator i;
   PropertyMap::iterator end;
   std::string current_item;
diff --git a/src/math/color.hpp b/src/math/color.hpp
index 799307351..f1d9975ef 100644
--- a/src/math/color.hpp
+++ b/src/math/color.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/math/math.cpp b/src/math/math.cpp
index 37c001be6..97acb760b 100644
--- a/src/math/math.cpp
+++ b/src/math/math.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -77,7 +77,7 @@ static char hex2int(char c)
   else if (c >= 'a' && c <= 'f')
     return static_cast<char>(c - 'a' + 0xa);
   else
-    return 0;    
+    return 0;
 }
 
 float string2float(const std::string& str)
diff --git a/src/math/math.hpp b/src/math/math.hpp
index ae05a8b12..20cbd5fc3 100644
--- a/src/math/math.hpp
+++ b/src/math/math.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/math/origin.cpp b/src/math/origin.cpp
index a8be9b688..fe473211c 100644
--- a/src/math/origin.cpp
+++ b/src/math/origin.cpp
@@ -51,7 +51,7 @@ Origin string2origin(const std::string& str)
     return origin_bottom_center;
   else if (str == "bottom_right")
     return origin_bottom_right;
-  else 
+  else
     return origin_top_left;
 }
 
diff --git a/src/math/quad_tree.hpp b/src/math/quad_tree.hpp
index e3956c135..fcd50a4d8 100644
--- a/src/math/quad_tree.hpp
+++ b/src/math/quad_tree.hpp
@@ -24,7 +24,7 @@
 
 #include "math/rect.hpp"
 
-/** 
+/**
     +----+----+
     | nw | ne |
     |----+----+
@@ -40,7 +40,7 @@ private:
     C    data;
 
     Object() :
-      rect(), 
+      rect(),
       data()
     {}
   };
@@ -64,9 +64,9 @@ public:
     m_center(bounding_rect.get_center()),
     m_items(),
     m_depth(depth),
-    m_nw(), 
+    m_nw(),
     m_ne(),
-    m_sw(), 
+    m_sw(),
     m_se()
   {
   }
@@ -151,20 +151,20 @@ public:
   void get_items_at(const Rectf& rect, std::vector<C>& out_items) const
   {
     // If rect overlaps with the given quadrant, recursivly check the quadrant
-    if (m_nw.get() && 
+    if (m_nw.get() &&
         rect.left < m_center.x &&
         rect.top  < m_center.y)
     {
       m_nw->get_items_at(rect, out_items);
     }
-    
-    if (m_ne.get() && 
+
+    if (m_ne.get() &&
         rect.right > m_center.x &&
         rect.top   < m_center.y)
     {
       m_ne->get_items_at(rect, out_items);
     }
-    
+
     if (m_sw.get() &&
         rect.left   < m_center.x &&
         rect.bottom > m_center.y)
@@ -191,12 +191,12 @@ public:
 };
 
 template<class C>
-class QuadTree 
+class QuadTree
 {
 private:
   std::unique_ptr<QuadTreeNode<C> > m_main_node;
 
-public: 
+public:
   QuadTree(const Rectf& bounding_rect) :
     m_main_node(new QuadTreeNode<C>(0, bounding_rect))
   {
diff --git a/src/math/rect.hpp b/src/math/rect.hpp
index 3b761517b..6c8812adf 100644
--- a/src/math/rect.hpp
+++ b/src/math/rect.hpp
@@ -52,7 +52,7 @@ public:
   //param point: Initial top-left position of rectangle.
   //param size: Initial size of rectangle.
   //param rect: Initial rectangle position and size.
-  Rect() 
+  Rect()
     : left(0),
       top(0),
       right(0),
@@ -72,7 +72,7 @@ public:
     : left(p.x),
       top(p.y),
       right(left + size.width),
-      bottom(top + size.height) 
+      bottom(top + size.height)
   {}
 
   Rect(const Rect &rect)
@@ -83,7 +83,7 @@ public:
   {}
 
   Rect grow(int b) const {
-    return Rect(left   - b, 
+    return Rect(left   - b,
                 top    - b,
                 right  + b,
                 bottom + b);
@@ -96,7 +96,7 @@ public:
   //: Rect -= Rect operator.
   Rect &operator-=(const Rect &r)
   { left -= r.left; top -= r.top; right -= r.right; bottom -= r.bottom; return *this; }
-        
+
   //: Rect += Vector2i operator.
   Rect &operator+=(const Vector2i &p)
   { left += p.x; top += p.y; right += p.x; bottom += p.y; return *this; }
@@ -133,27 +133,27 @@ public:
 public:
   //: X1-coordinate.
   int left;
-        
+
   //: Y1-coordinate.
   int top;
-        
+
   //: X2-coordinate.
   int right;
-        
+
   //: Y2-coordinate.
   int bottom;
-        
+
   //: Returns the width of the rectangle.
   int get_width() const { return right - left; }
-        
+
   //: Returns the height of the rectangle.
   int get_height() const { return bottom - top; }
 
   //: Returns the size of the rectangle.
   Size get_size() const { return Size(right - left, bottom - top); }
-  
+
   //: Returns true if rectangle passed is overlapping or inside this rectangle.
-  bool is_overlapped(const Rect &r) const 
+  bool is_overlapped(const Rect &r) const
   {
     return (r.left < right && r.right > left && r.top < bottom && r.bottom > top);
   }
@@ -168,13 +168,13 @@ public:
   //: Check if rect is inside this
   bool contains(const Rect& rect) const
   {
-    return 
+    return
       left   <= rect.left  &&
       right  >= rect.right &&
       top    <= rect.top   &&
       bottom >= rect.bottom;
   }
-        
+
   //: Returns another Rect containing a rotated version of this one.
   //param hotspot: Vector2i to rotate around.
   //param origin: Determines the hotspot point within the rectangle
@@ -182,7 +182,7 @@ public:
   //param angle: Angle to rotate in degrees.
   Rect get_rot_bounds(const Vector2i &hotspot, float angle) const;
   Rect get_rot_bounds(Origin origin, int x, int y, float angle) const;
-        
+
   //! Operations:
 public:
   //: Sets the size of the rectangle, maintaining top/left position.
@@ -203,7 +203,7 @@ public:
     return result;
   }
 
-  bool is_normal() const 
+  bool is_normal() const
   {
     return left <= right && top <= bottom;
   }
@@ -225,7 +225,7 @@ public:
       top = temp;
     }
   }
-        
+
   //: Applies an origin and offset pair to this rectangle
   //param origin: The new origin to adjust to from default upper-left position
   //param x, y: Offsets applied negatively to each corner of the rectangle
@@ -234,7 +234,7 @@ public:
     Vector2i offset = calc_origin(origin, get_size());
     offset.x -= x;
     offset.y -= y;
-                
+
     left += offset.x;
     top += offset.y;
     right += offset.x;
@@ -263,9 +263,9 @@ public:
   {}
 
   Rectf(const Rect& rect)
-    : left(static_cast<float>(rect.left)), 
-      top(static_cast<float>(rect.top)), 
-      right(static_cast<float>(rect.right)), 
+    : left(static_cast<float>(rect.left)),
+      top(static_cast<float>(rect.top)),
+      right(static_cast<float>(rect.right)),
       bottom(static_cast<float>(rect.bottom))
   {}
 
@@ -304,7 +304,7 @@ public:
   //: Rect -= Rect operator.
   Rectf &operator-=(const Rectf &r)
   { left -= r.left; top -= r.top; right -= r.right; bottom -= r.bottom; return *this; }
-        
+
   //: Rect += Vector2i operator.
   Rectf &operator+=(const Vector2f &p)
   { left += p.x; top += p.y; right += p.x; bottom += p.y; return *this; }
@@ -341,34 +341,34 @@ public:
 public:
   //: X1-coordinate.
   float left;
-        
+
   //: Y1-coordinate.
   float top;
-        
+
   //: X2-coordinate.
   float right;
-        
+
   //: Y2-coordinate.
   float bottom;
-        
+
   //: Returns the width of the rectangle.
   float get_width() const { return right - left; }
-        
+
   //: Returns the height of the rectangle.
   float get_height() const { return bottom - top; }
 
   //: Returns the size of the rectangle.
   Sizef get_size() const { return Sizef(right - left, bottom - top); }
-        
+
   //: Returns true if point is inside the rectangle.
   bool is_inside(const Vector2f &p) const { return (p.x >= left && p.y >= top && p.x <= right && p.y <= bottom); }
-        
+
   //: Returns true if rectangle passed is overlapping or inside this rectangle.
-  bool is_overlapped(const Rectf &r) const 
+  bool is_overlapped(const Rectf &r) const
   {
     return (r.left < right && r.right > left && r.top < bottom && r.bottom > top);
   }
-        
+
   //! Operations:
 public:
   //: Sets the size of the rectangle, maintaining top/left position.
@@ -388,8 +388,8 @@ public:
     if (bottom < rect.bottom) result.bottom = bottom; else result.bottom = rect.bottom;
     return result;
   }
-  
-  bool is_normal() const 
+
+  bool is_normal() const
   {
     return left <= right && top <= bottom;
   }
@@ -412,7 +412,7 @@ public:
     }
   }
 
-  /*    
+  /*
   //: Applies an origin and offset pair to this rectangle
   //param origin: The new origin to adjust to from default upper-left position
   //param x, y: Offsets applied negatively to each corner of the rectangle
@@ -421,7 +421,7 @@ public:
   Vector2f offset = calc_origin(origin, get_size());
   offset.x -= x;
   offset.y -= y;
-                
+
   left += offset.x;
   top += offset.y;
   right += offset.x;
@@ -436,19 +436,19 @@ public:
 
   // Moves each edge f away from the center, thus width = old_width + 2*f
   Rectf grow(float f) const {
-    return Rectf(left   - f, 
+    return Rectf(left   - f,
                  top    - f,
                  right  + f,
                  bottom + f);
   }
 
   Rectf grow(float x, float y) const {
-    return Rectf(left   - x, 
+    return Rectf(left   - x,
                  top    - y,
                  right  + x,
                  bottom + y);
   }
-  
+
   // Construct a rectangle large enough
   Rectf grow(const Rectf& rect) const {
     return Rectf(Math::min(left, rect.left),
@@ -456,7 +456,7 @@ public:
                  Math::max(right, rect.right),
                  Math::max(bottom, rect.bottom));
   }
-  
+
   float get_diagonal() const
   {
     return sqrtf((get_width() * get_width()) + (get_height() * get_height()));
@@ -468,14 +468,14 @@ public:
   //: Check if rect is inside this
   bool contains(const Rectf& rect) const
   {
-    return 
+    return
       left   <= rect.left  &&
       right  >= rect.right &&
       top    <= rect.top   &&
       bottom >= rect.bottom;
   }
 
-  Rectf clip_to(const Rectf& cliprect) const 
+  Rectf clip_to(const Rectf& cliprect) const
   {
     return Rectf(Math::max(left,   cliprect.left),
                  Math::max(top,    cliprect.top),
@@ -485,9 +485,9 @@ public:
 };
 
 inline Rect::Rect(const Rectf& rect)
-  : left(static_cast<int>(rect.left)), 
-    top(static_cast<int>(rect.top)), 
-    right(static_cast<int>(rect.right)), 
+  : left(static_cast<int>(rect.left)),
+    top(static_cast<int>(rect.top)),
+    right(static_cast<int>(rect.right)),
     bottom(static_cast<int>(rect.bottom))
 {}
 
diff --git a/src/math/size.hpp b/src/math/size.hpp
index 981fad51f..ff40d2965 100644
--- a/src/math/size.hpp
+++ b/src/math/size.hpp
@@ -52,12 +52,12 @@ public:
   //param width: Initial width of size structure.
   //param height: Initial height of size structure.
   //param size: Size structure to construct this one from.
-  Size() 
+  Size()
     : width(0), height(0)
   {}
 
   Size(int width_, int height_)
-    : width(width_), height(height_) 
+    : width(width_), height(height_)
   {}
 
   Size(const Size &s)
@@ -84,7 +84,7 @@ public:
   //: Size -= Size operator.
   Size &operator-=(const Size &s)
   { width -= s.width; height -= s.height; return *this; }
-        
+
   //: Size + Size operator.
   Size operator+(const Size &s) const
   { return Size(width + s.width, height + s.height); }
@@ -121,19 +121,19 @@ public:
   //param width: Initial width of size structure.
   //param height: Initial height of size structure.
   //param size: Size structure to construct this one from.
-  Sizef() 
+  Sizef()
     : width(0.0f),
       height(0.0f)
   {}
 
-  Sizef(const Size& s) 
+  Sizef(const Size& s)
     : width(static_cast<float>(s.width)),
       height(static_cast<float>(s.height))
   {}
 
   Sizef(float width_, float height_)
-    : width(width_), 
-      height(height_) 
+    : width(width_),
+      height(height_)
   {}
 
   Sizef(const Sizef &s)
@@ -158,7 +158,7 @@ public:
   //: Size -= Size operator.
   Sizef &operator-=(const Sizef &s)
   { width -= s.width; height -= s.height; return *this; }
-        
+
   //: Size + Size operator.
   Sizef operator+(const Sizef &s) const
   { return Sizef(width + s.width, height + s.height); }
diff --git a/src/math/vector2f.cpp b/src/math/vector2f.cpp
index acd6abef9..d7fb80256 100644
--- a/src/math/vector2f.cpp
+++ b/src/math/vector2f.cpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/math/vector2f.hpp b/src/math/vector2f.hpp
index cd4582b05..4a238f958 100644
--- a/src/math/vector2f.hpp
+++ b/src/math/vector2f.hpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,7 +32,7 @@ public:
     : x(other.x), y(other.y)
   { }
   Vector2f(const Vector2i& other)
-    : x(static_cast<float>(other.x)), 
+    : x(static_cast<float>(other.x)),
       y(static_cast<float>(other.y))
   {}
   Vector2f()
diff --git a/src/math/vector2i.cpp b/src/math/vector2i.cpp
index d90690f87..89fa19f1f 100644
--- a/src/math/vector2i.cpp
+++ b/src/math/vector2i.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/math/vector2i.hpp b/src/math/vector2i.hpp
index 514b6e71a..da06c4401 100644
--- a/src/math/vector2i.hpp
+++ b/src/math/vector2i.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -30,7 +30,7 @@ public:
 
   explicit Vector2i(const Vector2f& v);
 
-  Vector2i(int x_, int y_) 
+  Vector2i(int x_, int y_)
     : x(x_), y(y_) {}
 
   Vector2i operator+ (const Vector2i& add) const
diff --git a/src/math/vector3f.cpp b/src/math/vector3f.cpp
index eccf4d653..1c08b8f27 100644
--- a/src/math/vector3f.cpp
+++ b/src/math/vector3f.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/math/vector3f.hpp b/src/math/vector3f.hpp
index 148aa2472..c865f4ced 100644
--- a/src/math/vector3f.hpp
+++ b/src/math/vector3f.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/action_holder.cpp b/src/pingus/action_holder.cpp
index 6ed9dcb46..827599708 100644
--- a/src/pingus/action_holder.cpp
+++ b/src/pingus/action_holder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/action_holder.hpp b/src/pingus/action_holder.hpp
index de9acfa15..11f2fe1ae 100644
--- a/src/pingus/action_holder.hpp
+++ b/src/pingus/action_holder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -74,7 +74,7 @@ public:
 
   /** Returns the number of actions of the specified name which are available
       thru get_action()
-      
+
       @return 0 if the name is unknown */
   int get_available(ActionName::Enum name);
   int get_used(ActionName::Enum name);
diff --git a/src/pingus/action_name.hpp b/src/pingus/action_name.hpp
index 2450ca62e..cc7394c3b 100644
--- a/src/pingus/action_name.hpp
+++ b/src/pingus/action_name.hpp
@@ -25,7 +25,7 @@ namespace ActionName {
     in the buttonpanel, so if the order in the buttonpanel is not what
     it should be it needs to be changed here. */
 enum Enum
-{ 
+{
   ANGEL,
   BASHER,
   BLOCKER,
diff --git a/src/pingus/actions/angel.cpp b/src/pingus/actions/angel.cpp
index 60de3143d..461edd1d1 100644
--- a/src/pingus/actions/angel.cpp
+++ b/src/pingus/actions/angel.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/angel.hpp b/src/pingus/actions/angel.hpp
index d40dd5875..6106d3588 100644
--- a/src/pingus/actions/angel.hpp
+++ b/src/pingus/actions/angel.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/basher.cpp b/src/pingus/actions/basher.cpp
index 34983271d..21aeb8cfc 100644
--- a/src/pingus/actions/basher.cpp
+++ b/src/pingus/actions/basher.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,9 +37,9 @@ Basher::Basher (Pingu* p) :
 {
   assert(bash_radius.get_width() % 2 == 0);
 
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/basher/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/basher/right"));
 
   bash_reach = bash_radius.get_width();
@@ -97,7 +97,7 @@ Basher::update ()
         if (basher_c % 2 == 0)
           bash();
       }
-      else if (static_cast<float>(sprite[pingu->direction].get_current_frame()) // FIXME: Game logic must be separate from Sprite 
+      else if (static_cast<float>(sprite[pingu->direction].get_current_frame()) // FIXME: Game logic must be separate from Sprite
                / static_cast<float>(sprite[pingu->direction].get_frame_count()) > 0.6f)
       { // FIXME: EVIL! Engine must not relay on graphic
         pingu->set_action(ActionName::WALKER);
diff --git a/src/pingus/actions/basher.hpp b/src/pingus/actions/basher.hpp
index 87fe58c59..36e90b3e2 100644
--- a/src/pingus/actions/basher.hpp
+++ b/src/pingus/actions/basher.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/blocker.cpp b/src/pingus/actions/blocker.cpp
index ce5d37d8e..9bad014c1 100644
--- a/src/pingus/actions/blocker.cpp
+++ b/src/pingus/actions/blocker.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/blocker.hpp b/src/pingus/actions/blocker.hpp
index b4ed8dc67..e84632306 100644
--- a/src/pingus/actions/blocker.hpp
+++ b/src/pingus/actions/blocker.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/boarder.cpp b/src/pingus/actions/boarder.cpp
index fde1c7eb5..5823ab74b 100644
--- a/src/pingus/actions/boarder.cpp
+++ b/src/pingus/actions/boarder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,9 +27,9 @@ Boarder::Boarder (Pingu* p) :
   speed(0.0),
   sprite()
 {
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/boarder/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/boarder/right"));
 }
 
@@ -52,7 +52,7 @@ Boarder::update ()
     while (new_pos.x != pingu->get_pos().x)
     {
       Vector3f old_pos = pingu->get_pos();
-      pingu->set_pos(Vector3f(old_pos.x + (old_pos.x < new_pos.x) ? 1.0f : -1.0f, 
+      pingu->set_pos(Vector3f(old_pos.x + (old_pos.x < new_pos.x) ? 1.0f : -1.0f,
                               old_pos.y, old_pos.z));
 
       if (pingu->rel_getpixel (1, 0))
diff --git a/src/pingus/actions/boarder.hpp b/src/pingus/actions/boarder.hpp
index 222f0fd15..bde0ee109 100644
--- a/src/pingus/actions/boarder.hpp
+++ b/src/pingus/actions/boarder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/bomber.cpp b/src/pingus/actions/bomber.cpp
index f807431a6..ae7ad44b9 100644
--- a/src/pingus/actions/bomber.cpp
+++ b/src/pingus/actions/bomber.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/bomber.hpp b/src/pingus/actions/bomber.hpp
index f5d94a622..3b71e897a 100644
--- a/src/pingus/actions/bomber.hpp
+++ b/src/pingus/actions/bomber.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/bridger.cpp b/src/pingus/actions/bridger.cpp
index 0dad67a59..59d5bbbfc 100644
--- a/src/pingus/actions/bridger.cpp
+++ b/src/pingus/actions/bridger.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,14 +37,14 @@ Bridger::Bridger (Pingu* p) :
   block_build(false),
   name(_("Bridger") + std::string(" (" + StringUtil::to_string(bricks) + ")"))
 {
-  walk_sprite.load (Direction::LEFT,  Sprite("pingus/player" + 
+  walk_sprite.load (Direction::LEFT,  Sprite("pingus/player" +
                                              pingu->get_owner_str() + "/bridger_walk/left"));
-  walk_sprite.load (Direction::RIGHT, Sprite("pingus/player" + 
+  walk_sprite.load (Direction::RIGHT, Sprite("pingus/player" +
                                              pingu->get_owner_str() + "/bridger_walk/right"));
 
-  build_sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  build_sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                              pingu->get_owner_str() + "/bridger/left"));
-  build_sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  build_sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                              pingu->get_owner_str() + "/bridger/right"));
 }
 
diff --git a/src/pingus/actions/bridger.hpp b/src/pingus/actions/bridger.hpp
index aa6671617..34a569c29 100644
--- a/src/pingus/actions/bridger.hpp
+++ b/src/pingus/actions/bridger.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/climber.cpp b/src/pingus/actions/climber.cpp
index 48c814027..a0d0fcd76 100644
--- a/src/pingus/actions/climber.cpp
+++ b/src/pingus/actions/climber.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,9 +28,9 @@ Climber::Climber (Pingu* p) :
   sprite_width(),
   sprite_height()
 {
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/climber/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/climber/right"));
 }
 
diff --git a/src/pingus/actions/climber.hpp b/src/pingus/actions/climber.hpp
index 67b4bc8b7..0caa45b9a 100644
--- a/src/pingus/actions/climber.hpp
+++ b/src/pingus/actions/climber.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/digger.cpp b/src/pingus/actions/digger.cpp
index 95a431036..61e963b66 100644
--- a/src/pingus/actions/digger.cpp
+++ b/src/pingus/actions/digger.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/digger.hpp b/src/pingus/actions/digger.hpp
index 6b044b6db..70e7e6571 100644
--- a/src/pingus/actions/digger.hpp
+++ b/src/pingus/actions/digger.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/drown.cpp b/src/pingus/actions/drown.cpp
index e930e4c03..48865017a 100644
--- a/src/pingus/actions/drown.cpp
+++ b/src/pingus/actions/drown.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,9 +25,9 @@ Drown::Drown (Pingu* p) :
   PinguAction(p),
   sprite()
 {
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/drownfall/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/drownfall/right"));
 }
 
diff --git a/src/pingus/actions/drown.hpp b/src/pingus/actions/drown.hpp
index 3c315df07..d00e446a4 100644
--- a/src/pingus/actions/drown.hpp
+++ b/src/pingus/actions/drown.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/exiter.cpp b/src/pingus/actions/exiter.cpp
index d3a838e2e..c4224df68 100644
--- a/src/pingus/actions/exiter.cpp
+++ b/src/pingus/actions/exiter.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,9 +27,9 @@ Exiter::Exiter (Pingu* p) :
   sprite(),
   sound_played(false)
 {
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/exit/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/exit/right"));
 }
 
diff --git a/src/pingus/actions/exiter.hpp b/src/pingus/actions/exiter.hpp
index 46d89d8a2..3e536e3e0 100644
--- a/src/pingus/actions/exiter.hpp
+++ b/src/pingus/actions/exiter.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/faller.cpp b/src/pingus/actions/faller.cpp
index 930cdb83b..fbf00c8f6 100644
--- a/src/pingus/actions/faller.cpp
+++ b/src/pingus/actions/faller.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -31,14 +31,14 @@ Faller::Faller (Pingu* p) :
   faller(),
   tumbler()
 {
-  faller.load(Direction::LEFT,  Sprite("pingus/player" + 
+  faller.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/faller/left"));
-  faller.load(Direction::RIGHT, Sprite("pingus/player" + 
+  faller.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/faller/right"));
 
   tumbler.load(Direction::LEFT,  Sprite("pingus/player" +
                                         pingu->get_owner_str() + "/tumbler/left"));
-  tumbler.load(Direction::RIGHT, Sprite("pingus/player" + 
+  tumbler.load(Direction::RIGHT, Sprite("pingus/player" +
                                         pingu->get_owner_str() + "/tumbler/right"));
 
   // FIXME: add sprites for jumping here: if x_vel > y_vel, use them
@@ -49,7 +49,7 @@ Faller::~Faller () { }
 void
 Faller::update ()
 {
-  if (is_tumbling()) 
+  if (is_tumbling())
   {
     tumbler[pingu->direction].update();
   }
@@ -84,7 +84,7 @@ Faller::update ()
   // If the Pingu collided with something...
   if (collided)
   {
-    if (rel_getpixel(0, -1) == Groundtype::GP_NOTHING && 
+    if (rel_getpixel(0, -1) == Groundtype::GP_NOTHING &&
         rel_getpixel(0, -2) == Groundtype::GP_NOTHING &&
         rel_getpixel(0, -3) == Groundtype::GP_NOTHING &&
         rel_getpixel(1, 0)  != Groundtype::GP_NOTHING &&
@@ -161,7 +161,7 @@ bool
 Faller::change_allowed (ActionName::Enum new_action)
 {
   return
-    new_action == ActionName::FLOATER || 
+    new_action == ActionName::FLOATER ||
     new_action == ActionName::CLIMBER ||
     new_action == ActionName::BOMBER;
 }
diff --git a/src/pingus/actions/faller.hpp b/src/pingus/actions/faller.hpp
index e905faa11..eba5f30a1 100644
--- a/src/pingus/actions/faller.hpp
+++ b/src/pingus/actions/faller.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/floater.cpp b/src/pingus/actions/floater.cpp
index 3b7a7e8a8..a4aa59d51 100644
--- a/src/pingus/actions/floater.cpp
+++ b/src/pingus/actions/floater.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/floater.hpp b/src/pingus/actions/floater.hpp
index a56995723..83842f420 100644
--- a/src/pingus/actions/floater.hpp
+++ b/src/pingus/actions/floater.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/jumper.cpp b/src/pingus/actions/jumper.cpp
index a695a0bae..625867a80 100644
--- a/src/pingus/actions/jumper.cpp
+++ b/src/pingus/actions/jumper.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,9 +25,9 @@ Jumper::Jumper (Pingu* p) :
   PinguAction(p),
   sprite()
 {
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/jumper/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/jumper/right"));
 }
 
@@ -43,7 +43,7 @@ Jumper::update ()
   // if climber, do a wall-jump, else just jump forward
   if ((pingu->get_previous_action() == ActionName::CLIMBER))
     pingu->direction.change();
-  
+
   if (pingu->direction.is_left())
   {
     pingu->set_velocity(pingu->get_velocity() + Vector3f(-4.58f, -4.58f));
diff --git a/src/pingus/actions/jumper.hpp b/src/pingus/actions/jumper.hpp
index c91941a36..43c2f8e1e 100644
--- a/src/pingus/actions/jumper.hpp
+++ b/src/pingus/actions/jumper.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/laser_kill.cpp b/src/pingus/actions/laser_kill.cpp
index 0a0743b9f..da83e476f 100644
--- a/src/pingus/actions/laser_kill.cpp
+++ b/src/pingus/actions/laser_kill.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/laser_kill.hpp b/src/pingus/actions/laser_kill.hpp
index aacd9842a..95053606e 100644
--- a/src/pingus/actions/laser_kill.hpp
+++ b/src/pingus/actions/laser_kill.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/miner.cpp b/src/pingus/actions/miner.cpp
index a9e2c79fb..ee24a2790 100644
--- a/src/pingus/actions/miner.cpp
+++ b/src/pingus/actions/miner.cpp
@@ -6,12 +6,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -35,9 +35,9 @@ Miner::Miner (Pingu* p) :
   sprite(),
   delay_count(0)
 {
-  sprite.load(Direction::LEFT,  Sprite("pingus/player" + 
+  sprite.load(Direction::LEFT,  Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/miner/left"));
-  sprite.load(Direction::RIGHT, Sprite("pingus/player" + 
+  sprite.load(Direction::RIGHT, Sprite("pingus/player" +
                                        pingu->get_owner_str() + "/miner/right"));
 }
 
@@ -47,7 +47,7 @@ Miner::update ()
   sprite[pingu->direction].update();
 
   delay_count += 1;
-  
+
   if (delay_count % 4 == 0)
   {
     if (rel_getpixel(0, -1) == Groundtype::GP_NOTHING)
@@ -56,9 +56,9 @@ Miner::update ()
       mine(true);
       pingu->set_action(ActionName::WALKER);
     }
-    else if (rel_getpixel(0, -1) == Groundtype::GP_SOLID || 
+    else if (rel_getpixel(0, -1) == Groundtype::GP_SOLID ||
              rel_getpixel(0, pingu_height) == Groundtype::GP_SOLID)
-    {  
+    {
       // stop mining when hitting solid ground
       if (rel_getpixel(0, -1) == Groundtype::GP_SOLID)
         Sound::PingusSound::play_sound("chink");
diff --git a/src/pingus/actions/miner.hpp b/src/pingus/actions/miner.hpp
index 7a819e0dd..95adb9b91 100644
--- a/src/pingus/actions/miner.hpp
+++ b/src/pingus/actions/miner.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/slider.cpp b/src/pingus/actions/slider.cpp
index 375193b85..2277c5053 100644
--- a/src/pingus/actions/slider.cpp
+++ b/src/pingus/actions/slider.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,9 +27,9 @@ Slider::Slider (Pingu* p) :
   sprite(),
   speed(10)
 {
-  sprite.load(Direction::LEFT,  "pingus/player" + pingu->get_owner_str() + 
+  sprite.load(Direction::LEFT,  "pingus/player" + pingu->get_owner_str() +
               "/slider/left");
-  sprite.load(Direction::RIGHT, "pingus/player" + pingu->get_owner_str() + 
+  sprite.load(Direction::RIGHT, "pingus/player" + pingu->get_owner_str() +
               "/slider/right");
 }
 
@@ -49,7 +49,7 @@ Slider::update ()
       if (pingu->direction.is_right())
       {
         pingu->set_velocity(pingu->get_velocity() + Vector3f(speed, 0.0));
-      } 
+      }
       else
       {
         pingu->set_velocity(pingu->get_velocity() + Vector3f(-speed, 0.0));
diff --git a/src/pingus/actions/slider.hpp b/src/pingus/actions/slider.hpp
index 3acaa0e4a..1af3833a8 100644
--- a/src/pingus/actions/slider.hpp
+++ b/src/pingus/actions/slider.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/smashed.cpp b/src/pingus/actions/smashed.cpp
index 52d02acdd..12d86616d 100644
--- a/src/pingus/actions/smashed.cpp
+++ b/src/pingus/actions/smashed.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/smashed.hpp b/src/pingus/actions/smashed.hpp
index 6e5590350..a5824be9b 100644
--- a/src/pingus/actions/smashed.hpp
+++ b/src/pingus/actions/smashed.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -29,7 +29,7 @@ class Smashed : public PinguAction
 private:
   bool sound_played;
   Sprite sprite;
-  
+
 public:
   Smashed (Pingu*);
 
diff --git a/src/pingus/actions/splashed.cpp b/src/pingus/actions/splashed.cpp
index 6cd0e5b5d..5ff05c3db 100644
--- a/src/pingus/actions/splashed.cpp
+++ b/src/pingus/actions/splashed.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/splashed.hpp b/src/pingus/actions/splashed.hpp
index 70c3089ec..1aed7cba7 100644
--- a/src/pingus/actions/splashed.hpp
+++ b/src/pingus/actions/splashed.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/superman.cpp b/src/pingus/actions/superman.cpp
index cdacccfb5..3713dd8ea 100644
--- a/src/pingus/actions/superman.cpp
+++ b/src/pingus/actions/superman.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/superman.hpp b/src/pingus/actions/superman.hpp
index 3c2fbdf05..28bc83979 100644
--- a/src/pingus/actions/superman.hpp
+++ b/src/pingus/actions/superman.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/waiter.cpp b/src/pingus/actions/waiter.cpp
index 998f7d6fe..3c8d22944 100644
--- a/src/pingus/actions/waiter.cpp
+++ b/src/pingus/actions/waiter.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/waiter.hpp b/src/pingus/actions/waiter.hpp
index 7debd872e..88f2fffac 100644
--- a/src/pingus/actions/waiter.hpp
+++ b/src/pingus/actions/waiter.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/actions/walker.cpp b/src/pingus/actions/walker.cpp
index 09e71c8cc..5e1105155 100644
--- a/src/pingus/actions/walker.cpp
+++ b/src/pingus/actions/walker.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -63,7 +63,7 @@ Walker::update ()
 
   */
 
-  if (rel_getpixel(1, 0) == Groundtype::GP_OUTOFSCREEN) 
+  if (rel_getpixel(1, 0) == Groundtype::GP_OUTOFSCREEN)
   {
     pingu->set_x(pingu->get_x() + static_cast<float>(pingu->direction));
     return;
diff --git a/src/pingus/actions/walker.hpp b/src/pingus/actions/walker.hpp
index 5a76b3958..cd2e8cde7 100644
--- a/src/pingus/actions/walker.hpp
+++ b/src/pingus/actions/walker.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/capture_rectangle.cpp b/src/pingus/capture_rectangle.cpp
index 8fbe9eace..c972dc7b8 100644
--- a/src/pingus/capture_rectangle.cpp
+++ b/src/pingus/capture_rectangle.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -55,7 +55,7 @@ CaptureRectangle::draw(SceneContext& sc)
     {
       sc.color().draw(bad, pingu->get_center_pos() + Vector3f(0, 0, 1000));
     }
-      
+
     // Paint the direction arrow
     if (pingu->direction.is_left())
     {
@@ -66,7 +66,7 @@ CaptureRectangle::draw(SceneContext& sc)
       sc.color().draw(arrow_right, pingu->get_center_pos() + Vector3f(0, 2, 1000));
     }
 
-    sc.color().print_center(font, 
+    sc.color().print_center(font,
                             Vector2i(static_cast<int>(pingu->get_center_pos().x),
                                      static_cast<int>(pingu->get_center_pos().y - 46)),
                             action_str,
diff --git a/src/pingus/capture_rectangle.hpp b/src/pingus/capture_rectangle.hpp
index d43d3c109..08b9bb754 100644
--- a/src/pingus/capture_rectangle.hpp
+++ b/src/pingus/capture_rectangle.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/collider.cpp b/src/pingus/collider.cpp
index 70ed354fe..3cc7976c3 100644
--- a/src/pingus/collider.cpp
+++ b/src/pingus/collider.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/collider.hpp b/src/pingus/collider.hpp
index e045df1b3..2ccf9dfb3 100644
--- a/src/pingus/collider.hpp
+++ b/src/pingus/collider.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/colliders/pingu_collider.cpp b/src/pingus/colliders/pingu_collider.cpp
index 1b1671377..5d94fed88 100644
--- a/src/pingus/colliders/pingu_collider.cpp
+++ b/src/pingus/colliders/pingu_collider.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/colliders/pingu_collider.hpp b/src/pingus/colliders/pingu_collider.hpp
index 39e7653d4..c3d412c5a 100644
--- a/src/pingus/colliders/pingu_collider.hpp
+++ b/src/pingus/colliders/pingu_collider.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/collision_map.cpp b/src/pingus/collision_map.cpp
index 04b794f1e..719c101d9 100644
--- a/src/pingus/collision_map.cpp
+++ b/src/pingus/collision_map.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -49,7 +49,7 @@ CollisionMap::getpixel(int x, int y)
 int
 CollisionMap::getpixel_fast(int x, int y)
 {
-  return colmap[x+y*width];  
+  return colmap[x+y*width];
 }
 
 unsigned char*
@@ -207,7 +207,7 @@ CollisionMap::draw(DrawingContext& gc)
 
     m_colmap_sprite = Sprite(canvas);
   }
-  
+
   gc.draw(m_colmap_sprite, Vector2i(0, 0), 1000);
 }
 
diff --git a/src/pingus/collision_map.hpp b/src/pingus/collision_map.hpp
index 904bcdaf6..48f55ff8d 100644
--- a/src/pingus/collision_map.hpp
+++ b/src/pingus/collision_map.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/collision_mask.cpp b/src/pingus/collision_mask.cpp
index 95cb5ada0..4154f5738 100644
--- a/src/pingus/collision_mask.cpp
+++ b/src/pingus/collision_mask.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -65,7 +65,7 @@ CollisionMask::init_colmap(const Surface& surf, const std::string& surface_res)
   int pitch = surf.get_pitch();
   width  = surf.get_width();
   height = surf.get_height();
-  
+
   buffer.reset(new uint8_t[width * height]);
 
   SDL_Surface* sdl_surface = surf.get_surface();
@@ -110,7 +110,7 @@ CollisionMask::init_colmap(const Surface& surf, const std::string& surface_res)
   {
     memset(buffer.get(), 0, width*height);
 
-    log_error("unsupported image format:\n" 
+    log_error("unsupported image format:\n"
               "  File: %s\n"
               "  BitsPerPixel: %d\n"
               "  BytesPerPixel: %d\n"
@@ -132,7 +132,7 @@ CollisionMask::init_colmap(const Surface& surf, const std::string& surface_res)
 
 CollisionMask::~CollisionMask()
 {
-}  
+}
 
 int
 CollisionMask::get_width() const
diff --git a/src/pingus/collision_mask.hpp b/src/pingus/collision_mask.hpp
index 9e04fe842..73bf685b1 100644
--- a/src/pingus/collision_mask.hpp
+++ b/src/pingus/collision_mask.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,10 +37,10 @@ public:
   CollisionMask(const std::string& name);
   CollisionMask(const ResDescriptor& res_desc);
   ~CollisionMask();
-  
+
   int get_width() const;
   int get_height() const;
-  
+
   Surface  get_surface() const;
   uint8_t* get_data() const;
 
diff --git a/src/pingus/components/action_button.cpp b/src/pingus/components/action_button.cpp
index 473c51c37..4111b91b2 100644
--- a/src/pingus/components/action_button.cpp
+++ b/src/pingus/components/action_button.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -34,7 +34,7 @@ ArmageddonButton::ArmageddonButton(Server* s, int x, int y) :
   sprite       = Sprite("core/buttons/armageddon_anim");
 }
 
-ArmageddonButton::~ArmageddonButton () 
+ArmageddonButton::~ArmageddonButton ()
 {
 }
 
@@ -142,7 +142,7 @@ PauseButton::PauseButton(GameSession* s, int x, int y) :
   surface = Sprite("core/buttons/pause");
 }
 
-PauseButton::~PauseButton () 
+PauseButton::~PauseButton ()
 {
 }
 
diff --git a/src/pingus/components/action_button.hpp b/src/pingus/components/action_button.hpp
index 3488a8841..6110e3760 100644
--- a/src/pingus/components/action_button.hpp
+++ b/src/pingus/components/action_button.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -95,7 +95,7 @@ public:
   virtual ~PauseButton();
 
   void draw(DrawingContext& gc);
-  
+
   void on_primary_button_click (int x, int y);
 
 private:
diff --git a/src/pingus/components/button_panel.cpp b/src/pingus/components/button_panel.cpp
index 62addd524..9f2e2ead2 100644
--- a/src/pingus/components/button_panel.cpp
+++ b/src/pingus/components/button_panel.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -77,7 +77,7 @@ ButtonPanel::draw(DrawingContext& gc)
     {
       std::ostringstream out;
       std::string str = StringUtil::to_string(aholder->get_available(buttons[i].name));
-      out << aholder->get_available(buttons[i].name) 
+      out << aholder->get_available(buttons[i].name)
           << " / "
           << aholder->get_used(buttons[i].name);
       gc.print_left(Fonts::pingus_small, Vector2i(rect.left + 46, rect.top + 5 + 38*static_cast<int>(i)), out.str());
@@ -90,7 +90,7 @@ ButtonPanel::draw(DrawingContext& gc)
 
     if (show_tip && tip_button == i)
     {
-      gc.print_left(Fonts::pingus_small, Vector2i(rect.left + 65, rect.top + 5 + 38*static_cast<int>(i)), 
+      gc.print_left(Fonts::pingus_small, Vector2i(rect.left + 65, rect.top + 5 + 38*static_cast<int>(i)),
                     ActionName::to_screenname(buttons[i].name));
     }
   }
diff --git a/src/pingus/components/button_panel.hpp b/src/pingus/components/button_panel.hpp
index cd8bb69ca..e9733e8dc 100644
--- a/src/pingus/components/button_panel.hpp
+++ b/src/pingus/components/button_panel.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -29,11 +29,11 @@ class Server;
 class ButtonPanel : public GUI::RectComponent
 {
 private:
-  struct ActionButton 
+  struct ActionButton
   {
     ActionName::Enum name;
     Sprite     sprite;
-    
+
     ActionButton() :
       name(),
       sprite()
@@ -73,7 +73,7 @@ public:
   void on_pointer_move(int x, int y);
 
   void set_pos(const Vector2i& pos);
-  
+
 private:
   ButtonPanel (const ButtonPanel&);
   ButtonPanel& operator= (const ButtonPanel&);
diff --git a/src/pingus/components/check_box.cpp b/src/pingus/components/check_box.cpp
index fd46791a9..6b1ad47d2 100644
--- a/src/pingus/components/check_box.cpp
+++ b/src/pingus/components/check_box.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -30,7 +30,7 @@ CheckBox::CheckBox(const Rect& rect_) :
 }
 
 void
-CheckBox::on_primary_button_press (int x, int y) 
+CheckBox::on_primary_button_press (int x, int y)
 {
   state = !state;
   on_change(state);
diff --git a/src/pingus/components/check_box.hpp b/src/pingus/components/check_box.hpp
index 5bef50f6b..dd07d233b 100644
--- a/src/pingus/components/check_box.hpp
+++ b/src/pingus/components/check_box.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/choice_box.cpp b/src/pingus/components/choice_box.cpp
index 3622fc4db..b1156ae6c 100644
--- a/src/pingus/components/choice_box.cpp
+++ b/src/pingus/components/choice_box.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,19 +32,19 @@ void
 ChoiceBox::draw(DrawingContext& gc)
 {
   if (globals::developer_mode)
-    gc.draw_rect(rect, Color(0, 255, 255));  
+    gc.draw_rect(rect, Color(0, 255, 255));
 
   if (!choices.empty())
   {
     if (current_choice >= 0 && current_choice < int(choices.size()))
     {
-      //if (current_choice != 0) 
+      //if (current_choice != 0)
       gc.print_left(Fonts::chalk_normal,  Vector2i(rect.left, rect.top), "<");
 
       //if (current_choice != int(choices.size())-1)
       gc.print_right(Fonts::chalk_normal, Vector2i(rect.right, rect.top), ">");
 
-      gc.print_center(Fonts::chalk_normal, Vector2i(rect.left + rect.get_width()/2, rect.top), 
+      gc.print_center(Fonts::chalk_normal, Vector2i(rect.left + rect.get_width()/2, rect.top),
                       choices[current_choice]);
     }
   }
@@ -57,9 +57,9 @@ ChoiceBox::on_primary_button_press(int x, int y)
   {
     int last_current_choice = current_choice;
     x -= rect.left;
-  
+
     if (x > rect.get_width()/2)
-    {   
+    {
       current_choice += 1;
       if (current_choice >= int(choices.size()))
         current_choice = 0;
@@ -72,7 +72,7 @@ ChoiceBox::on_primary_button_press(int x, int y)
         current_choice = static_cast<int>(choices.size()) - 1;
       //current_choice = 0;
     }
-      
+
     if (last_current_choice != current_choice)
       on_change(choices[current_choice]);
   }
diff --git a/src/pingus/components/choice_box.hpp b/src/pingus/components/choice_box.hpp
index ef51b6dd2..526aa6c4f 100644
--- a/src/pingus/components/choice_box.hpp
+++ b/src/pingus/components/choice_box.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -26,7 +26,7 @@ class ChoiceBox : public GUI::RectComponent
 private:
   int current_choice;
   std::vector<std::string> choices;
-  
+
 public:
   ChoiceBox(const Rect& rect);
 
@@ -35,9 +35,9 @@ public:
   void update_layout() {}
   void add_choice(const std::string& str);
   void set_current_choice(int choice);
-  
+
   boost::signals2::signal<void (std::string)> on_change;
-  
+
 private:
   ChoiceBox (const ChoiceBox&);
   ChoiceBox& operator= (const ChoiceBox&);
diff --git a/src/pingus/components/label.cpp b/src/pingus/components/label.cpp
index 4bb6b178c..384a1bb55 100644
--- a/src/pingus/components/label.cpp
+++ b/src/pingus/components/label.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/label.hpp b/src/pingus/components/label.hpp
index 635b7e7f3..5f6578c00 100644
--- a/src/pingus/components/label.hpp
+++ b/src/pingus/components/label.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/menu_button.cpp b/src/pingus/components/menu_button.cpp
index ff6a6f543..c0ce8ee4d 100644
--- a/src/pingus/components/menu_button.cpp
+++ b/src/pingus/components/menu_button.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/menu_button.hpp b/src/pingus/components/menu_button.hpp
index f3bfe3c0e..93c98a1ed 100644
--- a/src/pingus/components/menu_button.hpp
+++ b/src/pingus/components/menu_button.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -46,7 +46,7 @@ protected:
   bool pressed;
 
 public:
-  MenuButton(PingusMenu* menu, const Vector2i& pos, 
+  MenuButton(PingusMenu* menu, const Vector2i& pos,
              const std::string& text, const std::string& desc);
   virtual ~MenuButton();
 
diff --git a/src/pingus/components/pingus_counter.cpp b/src/pingus/components/pingus_counter.cpp
index 74a71e247..66f0bbbb2 100644
--- a/src/pingus/components/pingus_counter.cpp
+++ b/src/pingus/components/pingus_counter.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/pingus_counter.hpp b/src/pingus/components/pingus_counter.hpp
index 1d6f77ad7..9530994b9 100644
--- a/src/pingus/components/pingus_counter.hpp
+++ b/src/pingus/components/pingus_counter.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/playfield.cpp b/src/pingus/components/playfield.cpp
index 02ffbb90f..82309f1ab 100644
--- a/src/pingus/components/playfield.cpp
+++ b/src/pingus/components/playfield.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,8 +41,8 @@ Playfield::Playfield(Server* server_, GameSession* session_, const Rect& rect_)
 {
   mouse_scrolling    = false;
 
-  state.set_limit(Rect(Vector2i(0, 0), 
-                       Size(server->get_world()->get_width(), 
+  state.set_limit(Rect(Vector2i(0, 0),
+                       Size(server->get_world()->get_width(),
                             server->get_world()->get_height())));
 
   // FIXME: Temporary workaround till start-pos is integrated a bit more properly
@@ -86,7 +86,7 @@ Playfield::draw(DrawingContext& gc)
     gc.draw_line(mouse_pos, scroll_center - Vector2i(15, 0),
                  Color(255, 255, 0));
 
-    gc.draw_line(mouse_pos, scroll_center, 
+    gc.draw_line(mouse_pos, scroll_center,
                  Color(255, 0, 0));
   }
   gc.pop_modelview();
@@ -133,7 +133,7 @@ Playfield::update(float delta)
       state.set_pos(old_state_pos + (scroll_center - mouse_pos));
     }
     else
-    { 
+    {
       state.set_pos(Vector2i(state.get_pos().x - static_cast<int>(static_cast<float>(scroll_center.x - mouse_pos.x) * 0.2f),
                              state.get_pos().y - static_cast<int>(static_cast<float>(scroll_center.y - mouse_pos.y) * 0.2f)));
     }
@@ -142,7 +142,7 @@ Playfield::update(float delta)
   if (globals::auto_scrolling && (Display::is_fullscreen() || SDL_WM_GrabInput(SDL_GRAB_QUERY) == SDL_GRAB_ON))
   {
     scroll_speed = static_cast<int>(800 * delta);
-    
+
     if (mouse_pos.x < 10)
     {
       state.set_pos(state.get_pos() - Vector2i(scroll_speed, 0));
@@ -158,7 +158,7 @@ Playfield::update(float delta)
     }
     else if (mouse_pos.y > Display::get_height() - 10)
     {
-      state.set_pos(state.get_pos() + Vector2i(0, scroll_speed));        
+      state.set_pos(state.get_pos() + Vector2i(0, scroll_speed));
     }
   }
 }
@@ -173,7 +173,7 @@ Playfield::on_primary_button_press(int x, int y)
   {
     current_pingu = current_pingu_find(state.screen2world(Vector2i(x,y)));
 
-    if (current_pingu) 
+    if (current_pingu)
     {
       server->send_pingu_action_event(current_pingu, session->get_action_name());
     }
@@ -220,15 +220,15 @@ Playfield::on_pointer_move (int x, int y)
       CollisionMask mask("other/bash_radius_gfx");
       Vector2i p = state.screen2world(mouse_pos);
       server->get_world()->remove(mask,
-                                  p.x - mask.get_width()/2, 
+                                  p.x - mask.get_width()/2,
                                   p.y - mask.get_height()/2);
     }
     else if (keystate[SDLK_INSERT])
     {
       CollisionMask mask("other/bash_radius_gfx");
       Vector2i p = state.screen2world(mouse_pos);
-      server->get_world()->put(mask, 
-                               p.x - mask.get_width()/2, 
+      server->get_world()->put(mask,
+                               p.x - mask.get_width()/2,
                                p.y - mask.get_height()/2,
                                Groundtype::GP_GROUND);
     }
@@ -236,8 +236,8 @@ Playfield::on_pointer_move (int x, int y)
     {
       CollisionMask mask("other/bash_radius_gfx");
       Vector2i p = state.screen2world(mouse_pos);
-      server->get_world()->put(mask, 
-                               p.x - mask.get_width()/2, 
+      server->get_world()->put(mask,
+                               p.x - mask.get_width()/2,
                                p.y - mask.get_height()/2,
                                Groundtype::GP_BRIDGE);
     }
@@ -247,7 +247,7 @@ Playfield::on_pointer_move (int x, int y)
 Vector2i
 Playfield::get_pos() const
 {
-  return Vector2i(static_cast<int>(state.get_pos().x), 
+  return Vector2i(static_cast<int>(state.get_pos().x),
                   static_cast<int>(state.get_pos().y));
 }
 
@@ -264,7 +264,7 @@ Playfield::scroll (int x, int y)
 }
 
 void
-Playfield::update_layout() 
+Playfield::update_layout()
 {
   state.set_size(rect.get_width(), rect.get_height());
   scene_context->set_rect(rect);
diff --git a/src/pingus/components/playfield.hpp b/src/pingus/components/playfield.hpp
index 620f3108d..09ce8ad9b 100644
--- a/src/pingus/components/playfield.hpp
+++ b/src/pingus/components/playfield.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -49,7 +49,7 @@ private:
   CaptureRectangle capture_rectangle;
 
   std::vector<Rect> clipping_rectangles;
-  
+
   Vector2i mouse_pos;
   Vector2i old_state_pos;
 
diff --git a/src/pingus/components/slider_box.cpp b/src/pingus/components/slider_box.cpp
index 9479a93e1..fe9f14821 100644
--- a/src/pingus/components/slider_box.cpp
+++ b/src/pingus/components/slider_box.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -48,10 +48,10 @@ SliderBox::draw(DrawingContext& gc)
       //gc.print_left(Fonts::chalk_normal, rect.left + i*(rect.get_width()-12)/20 + 6, rect.top, "l");
     }
   }
-  
-  gc.print_left(Fonts::chalk_normal, Vector2i(rect.left, rect.top), 
+
+  gc.print_left(Fonts::chalk_normal, Vector2i(rect.left, rect.top),
                 "[");
-  gc.print_right(Fonts::chalk_normal, Vector2i(rect.right, rect.top), 
+  gc.print_right(Fonts::chalk_normal, Vector2i(rect.right, rect.top),
                  "]");
 }
 
@@ -77,9 +77,9 @@ SliderBox::on_pointer_move(int x, int y)
     int old_value = value;
 
     x -= rect.left;
-  
+
     value = m_steps * x / (rect.get_width() - 12);
-  
+
     value = Math::clamp(0, value, m_steps);
 
     if (value != old_value)
diff --git a/src/pingus/components/slider_box.hpp b/src/pingus/components/slider_box.hpp
index 75118eac2..44e97d975 100644
--- a/src/pingus/components/slider_box.hpp
+++ b/src/pingus/components/slider_box.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/smallmap.cpp b/src/pingus/components/smallmap.cpp
index a15921a80..d95cde030 100644
--- a/src/pingus/components/smallmap.cpp
+++ b/src/pingus/components/smallmap.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -24,7 +24,7 @@
 #include "pingus/world.hpp"
 
 SmallMap::SmallMap(Server* server_, Playfield* playfield_, const Rect& rect_) :
-  RectComponent(rect_), 
+  RectComponent(rect_),
   server(server_),
   playfield(playfield_),
   exit_sur(),
@@ -33,7 +33,7 @@ SmallMap::SmallMap(Server* server_, Playfield* playfield_, const Rect& rect_) :
   scroll_mode(),
   has_focus(),
   gc_ptr(0)
-{ 
+{
   image = std::unique_ptr<SmallMapImage>(new SmallMapImage(server, rect.get_width(), rect.get_height()));
 
   scroll_mode = false;
@@ -51,7 +51,7 @@ SmallMap::draw(DrawingContext& gc)
   gc_ptr = &gc;
 
   World* const& world  = server->get_world();
-  
+
   Vector2i of = playfield->get_pos();
   Rect view_rect;
 
@@ -78,7 +78,7 @@ SmallMap::draw(DrawingContext& gc)
     view_rect.top    = rect.top;
     view_rect.bottom = rect.top + rect.get_height();
   }
-  
+
   gc.draw(image->get_surface(), Vector2i(rect.left, rect.top));
   gc.draw_rect(view_rect, Color(0, 255, 0));
 
@@ -88,9 +88,9 @@ SmallMap::draw(DrawingContext& gc)
   PinguHolder* pingus = world->get_pingus();
   for(PinguIter i = pingus->begin(); i != pingus->end(); ++i)
   {
-    int x = static_cast<int>(static_cast<float>(rect.left) + ((*i)->get_x() * static_cast<float>(rect.get_width()) 
+    int x = static_cast<int>(static_cast<float>(rect.left) + ((*i)->get_x() * static_cast<float>(rect.get_width())
                                                               / static_cast<float>(world->get_width())));
-    int y = static_cast<int>(static_cast<float>(rect.top)  + ((*i)->get_y() * static_cast<float>(rect.get_height()) 
+    int y = static_cast<int>(static_cast<float>(rect.top)  + ((*i)->get_y() * static_cast<float>(rect.get_height())
                                                               / static_cast<float>(world->get_height())));
 
     gc.draw_line(Vector2i(x, y), Vector2i(x, y-2), Color(255, 255, 0));
diff --git a/src/pingus/components/smallmap.hpp b/src/pingus/components/smallmap.hpp
index d404706f7..da262afa0 100644
--- a/src/pingus/components/smallmap.hpp
+++ b/src/pingus/components/smallmap.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/components/time_display.cpp b/src/pingus/components/time_display.cpp
index 6924f6e4a..38bfd794d 100644
--- a/src/pingus/components/time_display.cpp
+++ b/src/pingus/components/time_display.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,7 +41,7 @@ TimeDisplay::draw (DrawingContext& gc)
   if (server->get_plf().get_time() != -1 || globals::developer_mode)
   {
     int time_value = server->get_world()->get_time();
-    
+
     if (server->get_plf().get_time() != -1 && !globals::developer_mode)
     {
       time_value = time_value - server->get_plf().get_time();
diff --git a/src/pingus/components/time_display.hpp b/src/pingus/components/time_display.hpp
index 3024ad2e5..60ca2fec2 100644
--- a/src/pingus/components/time_display.hpp
+++ b/src/pingus/components/time_display.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/config_manager.cpp b/src/pingus/config_manager.cpp
index 56c048459..e60a3a6e6 100644
--- a/src/pingus/config_manager.cpp
+++ b/src/pingus/config_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -314,12 +314,12 @@ ConfigManager::apply(const Options& opts)
   if (opts.master_volume.is_set())
     set_master_volume(opts.master_volume.get());
 
-  if (opts.sound_volume.is_set())  
+  if (opts.sound_volume.is_set())
     set_sound_volume(opts.sound_volume.get());
 
   if (opts.music_volume.is_set())
     set_music_volume(opts.music_volume.get());
-  
+
   if (opts.fullscreen_resolution.is_set())
     set_fullscreen_resolution(opts.fullscreen_resolution.get());
 
diff --git a/src/pingus/config_manager.hpp b/src/pingus/config_manager.hpp
index 4cf08e046..b4b7dbab3 100644
--- a/src/pingus/config_manager.hpp
+++ b/src/pingus/config_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/direction.cpp b/src/pingus/direction.cpp
index d08383af3..e283ba749 100644
--- a/src/pingus/direction.cpp
+++ b/src/pingus/direction.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/direction.hpp b/src/pingus/direction.hpp
index 126958e74..d7501d8dc 100644
--- a/src/pingus/direction.hpp
+++ b/src/pingus/direction.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/fonts.cpp b/src/pingus/fonts.cpp
index 458b762b2..73770e2c6 100644
--- a/src/pingus/fonts.cpp
+++ b/src/pingus/fonts.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -44,11 +44,11 @@ init ()
   courier_small = pingus_small;
 
   verdana11 = Resource::load_font("fonts/verdana11");
-  
+
   lcd          = pingus_small;
 }
 
-void deinit () 
+void deinit ()
 {
   chalk_large  = Font();
   chalk_normal = Font();
diff --git a/src/pingus/fonts.hpp b/src/pingus/fonts.hpp
index c5dd4d55f..75c433971 100644
--- a/src/pingus/fonts.hpp
+++ b/src/pingus/fonts.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/fps_counter.cpp b/src/pingus/fps_counter.cpp
index 10920e4b9..708b613aa 100644
--- a/src/pingus/fps_counter.cpp
+++ b/src/pingus/fps_counter.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -66,11 +66,11 @@ FPSCounter::update_fps_counter()
   if (start_time + 1000 < current_time)
   {
     current_fps = fps_count * 1000 / (current_time - start_time);
-      
+
     fps_count = 0;
     start_time = SDL_GetTicks();
 
-    std::ostringstream str; 
+    std::ostringstream str;
     str << current_fps << " fps";
     fps_string = str.str();
   }
diff --git a/src/pingus/fps_counter.hpp b/src/pingus/fps_counter.hpp
index be4617b07..bac1ac30b 100644
--- a/src/pingus/fps_counter.hpp
+++ b/src/pingus/fps_counter.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/game_event.hpp b/src/pingus/game_event.hpp
index 2a94ce9ec..ad8a1a8f5 100644
--- a/src/pingus/game_event.hpp
+++ b/src/pingus/game_event.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/game_time.cpp b/src/pingus/game_time.cpp
index 1d4b75abe..d2ab44fc3 100644
--- a/src/pingus/game_time.cpp
+++ b/src/pingus/game_time.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/game_time.hpp b/src/pingus/game_time.hpp
index e6e782546..30bb45b2f 100644
--- a/src/pingus/game_time.hpp
+++ b/src/pingus/game_time.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/gettext.cpp b/src/pingus/gettext.cpp
index 31f4f1580..67038535c 100644
--- a/src/pingus/gettext.cpp
+++ b/src/pingus/gettext.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/global_event.cpp b/src/pingus/global_event.cpp
index 2b5b30ce3..4f3cbe9ac 100644
--- a/src/pingus/global_event.cpp
+++ b/src/pingus/global_event.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/global_event.hpp b/src/pingus/global_event.hpp
index 72a9e3191..5c3d182cd 100644
--- a/src/pingus/global_event.hpp
+++ b/src/pingus/global_event.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/globals.cpp b/src/pingus/globals.cpp
index a8b6efb31..90a1895f4 100644
--- a/src/pingus/globals.cpp
+++ b/src/pingus/globals.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/globals.hpp b/src/pingus/globals.hpp
index 6206afc96..ff1bc41c3 100644
--- a/src/pingus/globals.hpp
+++ b/src/pingus/globals.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,7 +36,7 @@ extern bool        debug_actions;                   ///< --debug-actions
 extern int         fast_forward_time_scale;         ///< how much faster the game runs in FF mode
 extern bool        developer_mode;                  ///< --developer-mode
 extern bool        auto_scrolling;                  ///< --enable-auto-scrolling
-extern bool        drag_drop_scrolling; 
+extern bool        drag_drop_scrolling;
 extern int         tile_size;                       ///< --tile-size
 extern int         default_screen_width;            ///< default screen width
 extern int         default_screen_height;           ///< default screen height
diff --git a/src/pingus/goal_manager.cpp b/src/pingus/goal_manager.cpp
index c72485d51..527a1d796 100644
--- a/src/pingus/goal_manager.cpp
+++ b/src/pingus/goal_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,7 +32,7 @@ GoalManager::is_finished()
   {
     case GT_NONE:
       return false;
-    
+
     case GT_GAME_ABORTED:
       return true;
 
diff --git a/src/pingus/goal_manager.hpp b/src/pingus/goal_manager.hpp
index a642f74a6..1e0d86c1d 100644
--- a/src/pingus/goal_manager.hpp
+++ b/src/pingus/goal_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/ground_map.cpp b/src/pingus/ground_map.cpp
index bd7f22da2..b4e2474a5 100644
--- a/src/pingus/ground_map.cpp
+++ b/src/pingus/ground_map.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,13 +28,13 @@ private:
   Sprite   sprite;
   Surface  surface;
   bool sprite_needs_update;
-  
+
 public:
   MapTile();
   ~MapTile();
 
-  void remove(Surface, int x, int y, int real_x, int real_y, GroundMap*);  
-  void put(Surface, int x, int y);  
+  void remove(Surface, int x, int y, int real_x, int real_y, GroundMap*);
+  void put(Surface, int x, int y);
 
   const Sprite& get_sprite();
 };
@@ -51,7 +51,7 @@ MapTile::~MapTile()
 }
 
 void
-MapTile::remove(Surface src, int x, int y, 
+MapTile::remove(Surface src, int x, int y,
                 int real_x, int real_y, GroundMap* parent)
 {
   if (surface)
@@ -66,13 +66,13 @@ MapTile::put(Surface src, int x, int y)
 {
   if (!surface)
     surface = Surface(globals::tile_size, globals::tile_size);
-  
+
   surface.blit(src, x, y);
   sprite_needs_update = true;
 }
 
 const Sprite&
-MapTile::get_sprite() 
+MapTile::get_sprite()
 {
   if (sprite_needs_update)
   {
@@ -81,14 +81,14 @@ MapTile::get_sprite()
   }
   else
   {
-    return sprite; 
+    return sprite;
   }
 }
 
 GroundMap::GroundMap(int width_, int height_) :
   colmap(),
   tiles(),
-  width(width_), 
+  width(width_),
   height(height_),
   tile_width(),
   tile_height()
@@ -105,7 +105,7 @@ GroundMap::GroundMap(int width_, int height_) :
     tile_width += 1;
 
   if ((height % globals::tile_size) != 0)
-    tile_height += 1; 
+    tile_height += 1;
 
   // Allocating tile map
   tiles.resize(tile_width * tile_height);
@@ -191,7 +191,7 @@ GroundMap::remove(Surface sprovider, int x, int y)
   for(int ix = start_x; ix <= end_x; ++ix)
     for(int iy = start_y; iy <= end_y; ++iy)
     {
-      get_tile(ix, iy)->remove(sprovider, 
+      get_tile(ix, iy)->remove(sprovider,
                                x - (ix * globals::tile_size),
                                y - (iy * globals::tile_size), x, y, this);
     }
@@ -205,7 +205,7 @@ GroundMap::put_alpha_surface(Surface provider, Surface sprovider,
       sprovider.get_surface()->format->BitsPerPixel != 24 &&
       sprovider.get_surface()->format->BitsPerPixel != 32)
   {
-    log_error("Image has wrong color depth: %1%", 
+    log_error("Image has wrong color depth: %1%",
               static_cast<int>(sprovider.get_surface()->format->BitsPerPixel));
     return;
   }
@@ -239,8 +239,8 @@ GroundMap::put_alpha_surface(Surface provider, Surface sprovider,
       Uint8* sptr = source_buf + spitch*y + 4*start_x;
 
       for (int x = start_x; x < end_x; ++x)
-      { 
-        if (sptr[3] == 255 && 
+      {
+        if (sptr[3] == 255 &&
             colmap->getpixel(real_x_arg+x, real_y_arg+y) != Groundtype::GP_SOLID)
         {
           tptr[3] = 0;
@@ -261,7 +261,7 @@ GroundMap::put_alpha_surface(Surface provider, Surface sprovider,
       Uint8* sptr = source_buf + spitch*y + start_x;
 
       for (int x = start_x; x < end_x; ++x)
-      { 
+      {
         if (*sptr != colorkey && colmap->getpixel(real_x_arg+x, real_y_arg+y) != Groundtype::GP_SOLID)
         {
           tptr[3] = 0;
@@ -273,24 +273,24 @@ GroundMap::put_alpha_surface(Surface provider, Surface sprovider,
     }
   }
   else
-  { 
+  {
     // opaque source surface, so we can use the same code for 24bpp and indexed
     for (int y = start_y; y < end_y; ++y)
     {
       Uint8* tptr = target_buf + tpitch*(y+y_pos) + 4*(x_pos + start_x);
 
       for (int x = start_x; x < end_x; ++x)
-      { 
+      {
         if (colmap->getpixel(real_x_arg+x, real_y_arg+y) != Groundtype::GP_SOLID)
         {
           tptr[3] = 0;
         }
-              
+
         tptr += 4;
       }
     }
   }
-  
+
   sprovider.unlock();
   provider.unlock();
 }
diff --git a/src/pingus/ground_map.hpp b/src/pingus/ground_map.hpp
index 5f5b5facd..71c81dcaf 100644
--- a/src/pingus/ground_map.hpp
+++ b/src/pingus/ground_map.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -63,7 +63,7 @@ public:
   void put(Surface, int x, int y);
 
   /** Remove the gives surface provider onto the given coordinates
-      (everything non-transparent that isn't Groundtype::GP_Solid 
+      (everything non-transparent that isn't Groundtype::GP_Solid
       is removed from the map) */
   void remove(Surface, int x, int y);
 
diff --git a/src/pingus/groundtype.cpp b/src/pingus/groundtype.cpp
index 84e466961..21f185cab 100644
--- a/src/pingus/groundtype.cpp
+++ b/src/pingus/groundtype.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/groundtype.hpp b/src/pingus/groundtype.hpp
index ed7c96e53..494973956 100644
--- a/src/pingus/groundtype.hpp
+++ b/src/pingus/groundtype.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/layer_manager.cpp b/src/pingus/layer_manager.cpp
index e635958fe..fc4ca21f4 100644
--- a/src/pingus/layer_manager.cpp
+++ b/src/pingus/layer_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/layer_manager.hpp b/src/pingus/layer_manager.hpp
index fc3f66c2d..0702c9e76 100644
--- a/src/pingus/layer_manager.hpp
+++ b/src/pingus/layer_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/levelset.cpp b/src/pingus/levelset.cpp
index c6540d197..ab910ae33 100644
--- a/src/pingus/levelset.cpp
+++ b/src/pingus/levelset.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -26,13 +26,13 @@
 #include "util/raise_exception.hpp"
 
 std::unique_ptr<Levelset>
-Levelset::from_directory(const std::string& title, 
-                         const std::string& description, 
-                         const std::string& image, 
+Levelset::from_directory(const std::string& title,
+                         const std::string& description,
+                         const std::string& image,
                          const Pathname& pathname)
 {
   std::unique_ptr<Levelset> levelset(new Levelset);
-  
+
   levelset->set_title(title);
   levelset->set_description(description);
   levelset->set_image(image);
@@ -133,7 +133,7 @@ Levelset::Levelset() :
   m_sprite(),
   m_completion(0),
   m_levels()
-{  
+{
 }
 
 Levelset::~Levelset()
@@ -177,16 +177,16 @@ Levelset::set_priority(float priority)
 void
 Levelset::add_level(const std::string& resname, bool accessible)
 {
-  try 
+  try
   {
     std::unique_ptr<Level> level(new Level);
 
     level->resname    = resname;
     level->plf        = PLFResMgr::load_plf(level->resname);
-                  
+
     level->accessible = accessible;
     level->finished   = false;
-                      
+
     m_levels.push_back(level.release());
   }
   catch(const std::exception& err)
@@ -263,7 +263,7 @@ Levelset::refresh()
   // unlock the next level
   if (!m_levels.empty())
   {
-    m_levels[0]->accessible = true; 
+    m_levels[0]->accessible = true;
     for(std::vector<Level*>::size_type i = 0; i < m_levels.size()-1; ++i)
     {
       if (m_levels[i]->finished)
diff --git a/src/pingus/levelset.hpp b/src/pingus/levelset.hpp
index 6a395c46a..966b54ab2 100644
--- a/src/pingus/levelset.hpp
+++ b/src/pingus/levelset.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -24,7 +24,7 @@
 class Levelset
 {
 public:
-  struct Level 
+  struct Level
   {
     std::string resname;
     bool accessible;
@@ -50,8 +50,8 @@ private:
 
 public:
   static std::unique_ptr<Levelset> from_file(const Pathname& pathname);
-  static std::unique_ptr<Levelset> from_directory(const std::string& title, 
-                                                  const std::string& description, 
+  static std::unique_ptr<Levelset> from_directory(const std::string& title,
+                                                  const std::string& description,
                                                   const std::string& image,
                                                   const Pathname& pathname);
 
diff --git a/src/pingus/mover.cpp b/src/pingus/mover.cpp
index 75468455d..b154dd2ed 100644
--- a/src/pingus/mover.cpp
+++ b/src/pingus/mover.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/mover.hpp b/src/pingus/mover.hpp
index 35ef65cf2..7246399c7 100644
--- a/src/pingus/mover.hpp
+++ b/src/pingus/mover.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/movers/linear_mover.cpp b/src/pingus/movers/linear_mover.cpp
index 17a79c3e8..8683e3657 100644
--- a/src/pingus/movers/linear_mover.cpp
+++ b/src/pingus/movers/linear_mover.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/movers/linear_mover.hpp b/src/pingus/movers/linear_mover.hpp
index 153833aaa..1a70ba4e7 100644
--- a/src/pingus/movers/linear_mover.hpp
+++ b/src/pingus/movers/linear_mover.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/options.cpp b/src/pingus/options.cpp
index 00a5d7cf5..338473b4a 100644
--- a/src/pingus/options.cpp
+++ b/src/pingus/options.cpp
@@ -104,16 +104,16 @@ Options::from_file_reader(const FileReader& reader)
     opts.framebuffer_type.set(fbtype_value);
   }
 
-  if (reader.read_int("master-volume", int_value)) 
+  if (reader.read_int("master-volume", int_value))
   {
     opts.master_volume.set(int_value);
   }
-  
+
   if (reader.read_int("sound-volume", int_value))
   {
     opts.sound_volume.set(int_value);
   }
-  
+
   if (reader.read_int("music-volume", int_value))
   {
     opts.music_volume.set(int_value);
@@ -123,7 +123,7 @@ Options::from_file_reader(const FileReader& reader)
   {
     opts.geometry.set(size_value);
   }
-  
+
   if (reader.read_size("fullscreen-resolution", size_value))
   {
     opts.fullscreen_resolution.set(size_value);
@@ -133,7 +133,7 @@ Options::from_file_reader(const FileReader& reader)
   {
     opts.fullscreen.set(bool_value);
   }
-  
+
   if (reader.read_bool("resizable", bool_value))
   {
     opts.resizable.set(bool_value);
@@ -143,7 +143,7 @@ Options::from_file_reader(const FileReader& reader)
   {
     opts.mouse_grab.set(bool_value);
   }
-  
+
   if (reader.read_bool("print-fps", bool_value))
   {
     opts.mouse_grab.set(bool_value);
@@ -158,12 +158,12 @@ Options::from_file_reader(const FileReader& reader)
   {
     opts.language.set(string_value);
   }
-  
+
   if (reader.read_bool("software-cursor", bool_value))
   {
     opts.software_cursor.set(bool_value);
   }
-  
+
   if (reader.read_bool("auto-scrolling", bool_value))
   {
     opts.auto_scrolling.set(bool_value);
@@ -220,7 +220,7 @@ Options::save(const Pathname& filename) const
 
   if (language.is_set())
     writer.write_string("language", language.get());
-  
+
   if (software_cursor.is_set())
     writer.write_bool("software-cursor", software_cursor.get());
 
@@ -229,7 +229,7 @@ Options::save(const Pathname& filename) const
 
   if (drag_drop_scrolling.is_set())
     writer.write_bool("drag-drop-scrolling", drag_drop_scrolling.get());
-  
+
   writer.end_section(); // pingus-config
 
   out << std::endl;
diff --git a/src/pingus/options.hpp b/src/pingus/options.hpp
index c268e92cb..81244cb22 100644
--- a/src/pingus/options.hpp
+++ b/src/pingus/options.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,12 +32,12 @@ private:
   bool valid;
 
 public:
-  Value() 
+  Value()
     : value(T()),
       valid(false)
   {}
 
-  Value(const T& v) 
+  Value(const T& v)
     : value(v),
       valid(true)
   {}
@@ -45,7 +45,7 @@ public:
   const T& get() const {
     return value;
   }
-  
+
   void set(const T& v) {
     value = v;
     valid = true;
@@ -67,8 +67,8 @@ public:
 
 enum FramebufferType
 {
- DELTA_FRAMEBUFFER, 
- SDL_FRAMEBUFFER, 
+ DELTA_FRAMEBUFFER,
+ SDL_FRAMEBUFFER,
  OPENGL_FRAMEBUFFER,
  NULL_FRAMEBUFFER
 };
diff --git a/src/pingus/particles/pingu_particle_holder.cpp b/src/pingus/particles/pingu_particle_holder.cpp
index e3b814c9f..6dfcdb8cf 100644
--- a/src/pingus/particles/pingu_particle_holder.cpp
+++ b/src/pingus/particles/pingu_particle_holder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/particles/pingu_particle_holder.hpp b/src/pingus/particles/pingu_particle_holder.hpp
index b063fb764..dced3599e 100644
--- a/src/pingus/particles/pingu_particle_holder.hpp
+++ b/src/pingus/particles/pingu_particle_holder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/particles/rain_particle_holder.cpp b/src/pingus/particles/rain_particle_holder.cpp
index 034176d3b..e7a683e18 100644
--- a/src/pingus/particles/rain_particle_holder.cpp
+++ b/src/pingus/particles/rain_particle_holder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -114,7 +114,7 @@ RainParticleHolder::draw (SceneContext& gc)
     }
     else
       if (it->use_rain2_surf)
-        gc.color().draw(rain2_surf, Vector2i(static_cast<int>(it->pos.x), 
+        gc.color().draw(rain2_surf, Vector2i(static_cast<int>(it->pos.x),
                                              static_cast<int>(it->pos.y - static_cast<float>(rain1_surf.get_height()))));
       else
         gc.color().draw(rain1_surf, Vector2i(static_cast<int>(it->pos.x),
diff --git a/src/pingus/particles/rain_particle_holder.hpp b/src/pingus/particles/rain_particle_holder.hpp
index 1481a47bf..910d6ae9e 100644
--- a/src/pingus/particles/rain_particle_holder.hpp
+++ b/src/pingus/particles/rain_particle_holder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/particles/smoke_particle_holder.cpp b/src/pingus/particles/smoke_particle_holder.cpp
index fb96ec1f0..cc97cb037 100644
--- a/src/pingus/particles/smoke_particle_holder.cpp
+++ b/src/pingus/particles/smoke_particle_holder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -24,7 +24,7 @@ SmokeParticleHolder::SmokeParticle::SmokeParticle (float x, float y, float vel_x
   time(),
   livetime(),
   use_surf2(),
-  pos(Vector3f(x,y)), 
+  pos(Vector3f(x,y)),
   velocity(Vector3f(vel_x, vel_y))
 {
   time = livetime = 25 + (rand() % 10);
diff --git a/src/pingus/particles/smoke_particle_holder.hpp b/src/pingus/particles/smoke_particle_holder.hpp
index 88996e642..d45285883 100644
--- a/src/pingus/particles/smoke_particle_holder.hpp
+++ b/src/pingus/particles/smoke_particle_holder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/particles/snow_particle_holder.cpp b/src/pingus/particles/snow_particle_holder.cpp
index 14c46b5c1..6396ab2da 100644
--- a/src/pingus/particles/snow_particle_holder.cpp
+++ b/src/pingus/particles/snow_particle_holder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/particles/snow_particle_holder.hpp b/src/pingus/particles/snow_particle_holder.hpp
index 3fa834a9e..a1e6c02d3 100644
--- a/src/pingus/particles/snow_particle_holder.hpp
+++ b/src/pingus/particles/snow_particle_holder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/path_manager.cpp b/src/pingus/path_manager.cpp
index 15fe4e523..7347bf719 100644
--- a/src/pingus/path_manager.cpp
+++ b/src/pingus/path_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -62,7 +62,7 @@ PathManager::complete(const std::string& relative_path)
       return absolute_path;
     }
   }
-  
+
   return Pathname::join(m_base_path, relative_path);
 }
 
diff --git a/src/pingus/path_manager.hpp b/src/pingus/path_manager.hpp
index 4c9ad88b8..482bda1c5 100644
--- a/src/pingus/path_manager.hpp
+++ b/src/pingus/path_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingu.cpp b/src/pingus/pingu.cpp
index a23674bdb..cb45c9f5b 100644
--- a/src/pingus/pingu.cpp
+++ b/src/pingus/pingu.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -302,7 +302,7 @@ Pingu::dist(int x, int y)
 {
   Vector3f p = get_center_pos ();
 
-  return Math::sqrt(((p.x - static_cast<float>(x)) * (p.x - static_cast<float>(x)) + 
+  return Math::sqrt(((p.x - static_cast<float>(x)) * (p.x - static_cast<float>(x)) +
                      (p.y - static_cast<float>(y)) * (p.y - static_cast<float>(y))));
 }
 
diff --git a/src/pingus/pingu.hpp b/src/pingus/pingu.hpp
index 026afe242..28ca149f2 100644
--- a/src/pingus/pingu.hpp
+++ b/src/pingus/pingu.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -204,7 +204,7 @@ public:
   /** @return The owner_id of the owner, only used in multiplayer
       configurations, ought to be 0 in single player */
   int get_owner ();
-  
+
   /** @return The owner_id as a string. Only used in multiplayer
       configurations, ought to be "0" in single player */
   std::string get_owner_str ();
diff --git a/src/pingus/pingu_action.cpp b/src/pingus/pingu_action.cpp
index 8fbf3eab6..a22a0fa46 100644
--- a/src/pingus/pingu_action.cpp
+++ b/src/pingus/pingu_action.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -282,8 +282,8 @@ PinguAction::get_activation_mode(ActionName::Enum action_name)
       return WALL_TRIGGERED;
 
     case ActionName::FLOATER:
-      return FALL_TRIGGERED; 
-  
+      return FALL_TRIGGERED;
+
     default:
       return INSTANT;
   }
diff --git a/src/pingus/pingu_action.hpp b/src/pingus/pingu_action.hpp
index 9bbd4970c..51e88a9ed 100644
--- a/src/pingus/pingu_action.hpp
+++ b/src/pingus/pingu_action.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingu_enums.hpp b/src/pingus/pingu_enums.hpp
index 8af356a8f..3b1aada38 100644
--- a/src/pingus/pingu_enums.hpp
+++ b/src/pingus/pingu_enums.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingu_holder.cpp b/src/pingus/pingu_holder.cpp
index ca467d6f5..71e5b5ec6 100644
--- a/src/pingus/pingu_holder.cpp
+++ b/src/pingus/pingu_holder.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingu_holder.hpp b/src/pingus/pingu_holder.hpp
index aaa2200bb..aecf2c4a3 100644
--- a/src/pingus/pingu_holder.hpp
+++ b/src/pingus/pingu_holder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingus_demo.cpp b/src/pingus/pingus_demo.cpp
index 86e990c90..8c226a403 100644
--- a/src/pingus/pingus_demo.cpp
+++ b/src/pingus/pingus_demo.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingus_demo.hpp b/src/pingus/pingus_demo.hpp
index da5bb7eec..a89b2ccb9 100644
--- a/src/pingus/pingus_demo.hpp
+++ b/src/pingus/pingus_demo.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingus_level.cpp b/src/pingus/pingus_level.cpp
index aad90136c..d4f959009 100644
--- a/src/pingus/pingus_level.cpp
+++ b/src/pingus/pingus_level.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -26,7 +26,7 @@
 #include "util/system.hpp"
 
 PingusLevel::PingusLevel() :
-  impl(new PingusLevelImpl())  
+  impl(new PingusLevelImpl())
 {
 }
 
@@ -88,7 +88,7 @@ PingusLevel::load(const std::string& resname,
       head.read_string("author",           impl->author);
 
       log_info("Size: %1%x%2%", impl->size.width, impl->size.height);
-          
+
       FileReader actions;
       if (head.read_section("actions", actions))
       {
@@ -103,11 +103,11 @@ PingusLevel::load(const std::string& resname,
       }
       else
       {
-        raise_exception(std::runtime_error, 
-                        "Error: (pingus-level head actions) not found in '" << pathname.str() << "'"); 
+        raise_exception(std::runtime_error,
+                        "Error: (pingus-level head actions) not found in '" << pathname.str() << "'");
       }
     }
-      
+
     FileReader objects;
     if (reader.read_section("objects", objects))
     {
diff --git a/src/pingus/pingus_level.hpp b/src/pingus/pingus_level.hpp
index 1b43a9e09..b399959ad 100644
--- a/src/pingus/pingus_level.hpp
+++ b/src/pingus/pingus_level.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/pingus_level_impl.hpp b/src/pingus/pingus_level_impl.hpp
index a833df50d..3e0f2ebd3 100644
--- a/src/pingus/pingus_level_impl.hpp
+++ b/src/pingus/pingus_level_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -34,15 +34,15 @@ public:
     description(),
     ambient_light(255, 255, 255, 255),
     size(),
-    number_of_pingus(0), 
+    number_of_pingus(0),
     number_to_save(0),
     actions(),
-    time(0), 
+    time(0),
     author(),
     music(),
     objects()
   {}
-                    
+
   std::string resname;
 
   std::string checksum;
@@ -59,12 +59,12 @@ public:
   std::map<std::string, int> actions;
 
   int time;
-  
+
   std::string author;
   std::string music;
 
   std::vector<FileReader> objects;
-}; 
+};
 
 #endif
 
diff --git a/src/pingus/pingus_main.cpp b/src/pingus/pingus_main.cpp
index 21b0bf63d..5347a6917 100644
--- a/src/pingus/pingus_main.cpp
+++ b/src/pingus/pingus_main.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -71,7 +71,7 @@ extern "C" {
 
 #if _MSC_VER >= 1400
 // Disable stupid deprecation warnings
-#pragma warning( disable : 4996 ) 
+#pragma warning( disable : 4996 )
 #endif
 
 extern tinygettext::DictionaryManager dictionary_manager;
@@ -130,7 +130,7 @@ PingusMain::apply_args()
     for (std::set<tinygettext::Language>::iterator i = lst.begin(); i != lst.end(); ++i)
       std::cout << i->get_name() << " (" << i->str() << ")" << std::endl;
 
-    std::cout << "\nLanguages can be used via:\n\n    pingus --language de\n" << std::endl; 
+    std::cout << "\nLanguages can be used via:\n\n    pingus --language de\n" << std::endl;
 
     exit(EXIT_SUCCESS);
   }
@@ -154,7 +154,7 @@ PingusMain::apply_args()
 
   if (options.drag_drop_scrolling.is_set())
     globals::drag_drop_scrolling = options.drag_drop_scrolling.get();
-  
+
   if (options.developer_mode.is_set())
     globals::developer_mode = options.developer_mode.get();
 
@@ -176,16 +176,16 @@ PingusMain::parse_args(int argc, char** argv)
   argp.add_doc(_("Pingus is a puzzle game where you need to guide a bunch of little penguins around the world."));
 
   argp.add_group(_("General Options:"));
-  argp.add_option('h', "help", "", 
+  argp.add_option('h', "help", "",
                   _("Displays this help"));
-  argp.add_option('V', "version", "", 
+  argp.add_option('V', "version", "",
                   _("Print version number and exit"));
   argp.add_option('v', "verbose", "",
                   _("Enable info level log output"));
-  argp.add_option('D', "debug", "", 
+  argp.add_option('D', "debug", "",
                   _("Enable debug level log output"));
-  argp.add_option('Q', "quiet", "", 
-                  _("Disable all log output"));   
+  argp.add_option('Q', "quiet", "",
+                  _("Disable all log output"));
 
   argp.add_group(_("Display Options:"));
   argp.add_option('w', "window", "",
@@ -194,9 +194,9 @@ PingusMain::parse_args(int argc, char** argv)
                   _("Start in Fullscreen"));
   argp.add_option('r', "renderer", "RENDERER",
                   _("Use the given renderer (default: sdl)"));
-  argp.add_option('g', "geometry", "{width}x{height}",  
+  argp.add_option('g', "geometry", "{width}x{height}",
                   _("Set the window resolution for pingus (default: 800x600)"));
-  argp.add_option('R', "fullscreen-resolution", "{width}x{height}",  
+  argp.add_option('R', "fullscreen-resolution", "{width}x{height}",
                   _("Set the resolution used in fullscreen mode (default: 800x600)"));
   argp.add_option(346, "software-cursor", "",
                   _("Enable software cursor"));
@@ -208,9 +208,9 @@ PingusMain::parse_args(int argc, char** argv)
                   _("Enable drag'n drop scrolling"));
 
   argp.add_group(_("Sound Options:"));
-  argp.add_option('s', "disable-sound", "", 
+  argp.add_option('s', "disable-sound", "",
                   _("Disable sound"));
-  argp.add_option('m', "disable-music", "", 
+  argp.add_option('m', "disable-music", "",
                   _("Disable music"));
 
   argp.add_group("Language Options:");
@@ -238,7 +238,7 @@ PingusMain::parse_args(int argc, char** argv)
                   _("Uses the controller given in FILE"));
 
   argp.add_group(_("Debug Options:"));
-  argp.add_option(334, "developer-mode",  "",  
+  argp.add_option(334, "developer-mode",  "",
                   _("Enables some special features for developers"));
   argp.add_option('t', "speed", "SPEED",
                   _("Set the game speed (0=fastest, >0=slower)"));
@@ -252,8 +252,8 @@ PingusMain::parse_args(int argc, char** argv)
 
   while (argp.next())
   {
-    switch (argp.get_key()) 
-    {          
+    switch (argp.get_key())
+    {
       case 'r': // --renderer
         if (argp.get_argument() == "help")
         {
@@ -280,7 +280,7 @@ PingusMain::parse_args(int argc, char** argv)
         break;
 
       case 't': // -t, --set-speed
-        cmd_options.speed.set(StringUtil::to<int>(argp.get_argument()));  
+        cmd_options.speed.set(StringUtil::to<int>(argp.get_argument()));
         break;
 
       case 'k': // -k, --set-fps
@@ -294,10 +294,10 @@ PingusMain::parse_args(int argc, char** argv)
       case 'm': // -m, --disable-music
         cmd_options.disable_music.set(true);
         break;
-            
+
       case 'g':
       {
-        Size size; 
+        Size size;
         if (sscanf(argp.get_argument().c_str(), "%dx%d", &size.width, &size.height) != 2)
         {
           std::cout << "Resolution std::string is wrong, it should be like: \n"
@@ -310,7 +310,7 @@ PingusMain::parse_args(int argc, char** argv)
 
       case 'R':
       {
-        Size size; 
+        Size size;
         if (sscanf(argp.get_argument().c_str(), "%dx%d", &size.width, &size.height) != 2)
         {
           std::cout << "Resolution std::string is wrong, it should be like: \n"
@@ -343,11 +343,11 @@ PingusMain::parse_args(int argc, char** argv)
                   << std::endl;
         exit(EXIT_SUCCESS);
         break;
-          
+
       case 'f': // --fullscreen
         cmd_options.fullscreen.set(true);
         break;
-          
+
       case 'w': // --window
         cmd_options.fullscreen.set(false);
         break;
@@ -366,7 +366,7 @@ PingusMain::parse_args(int argc, char** argv)
         break;
 
       case 342: // --no-cfg-file
-        cmd_options.no_config_file.set(true); 
+        cmd_options.no_config_file.set(true);
         break;
 
       case 344:
@@ -499,10 +499,10 @@ PingusMain::print_greeting_message()
 
   std::cout << "userdir:                 " << System::get_userdir() << std::endl;
   std::cout << "datadir:                 " << g_path_manager.get_path() << std::endl;
-  std::cout << "language:                " 
+  std::cout << "language:                "
             << dictionary_manager.get_language().get_name()
             << " ("
-            << dictionary_manager.get_language().str() 
+            << dictionary_manager.get_language().str()
             << ")"
             << std::endl;
 
@@ -538,7 +538,7 @@ PingusMain::start_game ()
 
   if (!cmd_options.controller.is_set())
   {
-    input_controller = input_manager.create_controller(Pathname("controller/default.scm", 
+    input_controller = input_manager.create_controller(Pathname("controller/default.scm",
                                                                 Pathname::DATA_PATH));
   }
   else
@@ -568,12 +568,12 @@ PingusMain::start_game ()
     else if (StringUtil::has_suffix(cmd_options.rest.get(), ".font"))
     {
       Pathname filename(cmd_options.rest.get(), Pathname::SYSTEM_PATH);
-      screen_manager.push_screen(std::make_shared<FontTestScreen>(filename)); 
+      screen_manager.push_screen(std::make_shared<FontTestScreen>(filename));
     }
     else if (StringUtil::has_suffix(cmd_options.rest.get(), ".credits"))
     {
       Pathname filename(cmd_options.rest.get(), Pathname::SYSTEM_PATH);
-      screen_manager.push_screen(std::make_shared<Credits>(filename)); 
+      screen_manager.push_screen(std::make_shared<Credits>(filename));
     }
     else if (StringUtil::has_suffix(cmd_options.rest.get(), ".worldmap"))
     {
@@ -616,16 +616,16 @@ PingusMain::run(int argc, char** argv)
   {
     // FIXME force set language using System::get_language() to get it from env
     dictionary_manager.set_language(tinygettext::Language::from_env(System::get_language()));
-    
+
     parse_args(argc, argv); // here language and po dir isn't set, no traslation in command line
     init_path_finder(); // here init language path
     read_rc_file(); // here set language if ~/.pingus/config exist and language value is set
     apply_args(); // here set language if arg -l is specified
-    
+
     print_greeting_message();
-    
+
     // init the display
-    FramebufferType fbtype = SDL_FRAMEBUFFER; 
+    FramebufferType fbtype = SDL_FRAMEBUFFER;
     if (cmd_options.framebuffer_type.is_set())
     {
       fbtype = cmd_options.framebuffer_type.get();
@@ -673,25 +673,25 @@ PingusMain::run(int argc, char** argv)
     SavegameManager savegame_manager("savegames/savegames.scm");
     StatManager stat_manager("savegames/variables.scm");
 
-    // FIXME: turn these into RAII 
+    // FIXME: turn these into RAII
     Resource::init();
     Fonts::init();
     Sound::PingusSound::init();
-    
+
     config_manager.apply(cmd_options);
 
     // start and run the actual game
     start_game();
   }
-  catch (const std::bad_alloc&) 
+  catch (const std::bad_alloc&)
   {
     std::cout << _("Pingus: Out of memory!") << std::endl;
   }
-  catch (const std::exception& a) 
+  catch (const std::exception& a)
   {
     std::cout << _("Pingus: Standard exception caught!:\n") << a.what() << std::endl;
   }
-  catch (...) 
+  catch (...)
   {
     std::cout << _("Pingus: Unknown throw caught!") << std::endl;
   }
diff --git a/src/pingus/pingus_main.hpp b/src/pingus/pingus_main.hpp
index a4b1db0c2..cec3b5585 100644
--- a/src/pingus/pingus_main.hpp
+++ b/src/pingus/pingus_main.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/plf_res_mgr.cpp b/src/pingus/plf_res_mgr.cpp
index 139c48f75..d43500325 100644
--- a/src/pingus/plf_res_mgr.cpp
+++ b/src/pingus/plf_res_mgr.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/plf_res_mgr.hpp b/src/pingus/plf_res_mgr.hpp
index bd0b7085f..1436f3b26 100644
--- a/src/pingus/plf_res_mgr.hpp
+++ b/src/pingus/plf_res_mgr.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,11 +25,11 @@ class Pathname;
 class PLFResMgr
 {
 private:
-  struct PLFEntry 
+  struct PLFEntry
   {
     PingusLevel plf;
     uint64_t mtime;
-    
+
     PLFEntry() :
       plf(),
       mtime()
diff --git a/src/pingus/prefab_file.cpp b/src/pingus/prefab_file.cpp
index 64d0e51f1..6f9c3e843 100644
--- a/src/pingus/prefab_file.cpp
+++ b/src/pingus/prefab_file.cpp
@@ -76,7 +76,7 @@ PrefabFile::get_objects() const
 FileReader
 PrefabFile::get_overrides() const
 {
-  return m_overrides; 
+  return m_overrides;
 }
 
 /* EOF */
diff --git a/src/pingus/prefab_file.hpp b/src/pingus/prefab_file.hpp
index e79fd044d..c822737e9 100644
--- a/src/pingus/prefab_file.hpp
+++ b/src/pingus/prefab_file.hpp
@@ -34,9 +34,9 @@ private:
   FileReader m_overrides;
 
 private:
-  PrefabFile(const std::string& filename, const std::vector<FileReader>& objects, 
+  PrefabFile(const std::string& filename, const std::vector<FileReader>& objects,
              const FileReader& overrides);
-  
+
 public:
   const std::vector<FileReader>& get_objects() const;
   FileReader get_overrides() const;
diff --git a/src/pingus/res_descriptor.cpp b/src/pingus/res_descriptor.cpp
index df3406ede..cfa291c58 100644
--- a/src/pingus/res_descriptor.cpp
+++ b/src/pingus/res_descriptor.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/res_descriptor.hpp b/src/pingus/res_descriptor.hpp
index d4344a70d..2206ff3d1 100644
--- a/src/pingus/res_descriptor.hpp
+++ b/src/pingus/res_descriptor.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -30,7 +30,7 @@ public:
 
   ResDescriptor ();
   ResDescriptor (const std::string& res_name);
-  ResDescriptor (const std::string& res_name, 
+  ResDescriptor (const std::string& res_name,
                  ResourceModifier::Enum modifier);
 
   bool operator< (const ResDescriptor&) const;
diff --git a/src/pingus/resource.cpp b/src/pingus/resource.cpp
index 3ac7897c5..2e5666ba1 100644
--- a/src/pingus/resource.cpp
+++ b/src/pingus/resource.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/resource.hpp b/src/pingus/resource.hpp
index edb75ae62..118aa46cb 100644
--- a/src/pingus/resource.hpp
+++ b/src/pingus/resource.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/resource_manager.cpp b/src/pingus/resource_manager.cpp
index dd299f8a5..e7e212ac2 100644
--- a/src/pingus/resource_manager.cpp
+++ b/src/pingus/resource_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -89,7 +89,7 @@ ResourceManager::get_sprite_description_from_file(const std::string& resname)
       // as a path of the form "pingus/blocker/../blocker.png" would
       // fail when "pingus/blocker/" is missing, even so
       // "pingus/blocker.png" exists
-      desc->filename = Pathname(System::normalize_path(Pathname::join(System::dirname(filename), 
+      desc->filename = Pathname(System::normalize_path(Pathname::join(System::dirname(filename),
                                                                       desc->filename.get_raw_path())),
                                 Pathname::DATA_PATH);
     }
@@ -121,7 +121,7 @@ ResourceManager::get_sprite_description_from_file(const std::string& resname)
   return SpriteDescriptionPtr();
 }
 
-SpriteDescription* 
+SpriteDescription*
 ResourceManager::get_sprite_description(const std::string& name)
 {
   auto i = m_cache.find(name);
@@ -141,7 +141,7 @@ ResourceManager::get_sprite_description(const std::string& name)
     {
       return 0;
     }
-  }  
+  }
 }
 
 /* EOF */
diff --git a/src/pingus/resource_manager.hpp b/src/pingus/resource_manager.hpp
index 34b126c39..b79d0f07b 100644
--- a/src/pingus/resource_manager.hpp
+++ b/src/pingus/resource_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/result.hpp b/src/pingus/result.hpp
index 2a49d5015..e87e18f4e 100644
--- a/src/pingus/result.hpp
+++ b/src/pingus/result.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/savegame.cpp b/src/pingus/savegame.cpp
index 4209caf06..ffae67a97 100644
--- a/src/pingus/savegame.cpp
+++ b/src/pingus/savegame.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -67,8 +67,8 @@ Savegame::Savegame(const FileReader& reader) :
   read_sexpr(reader);
 }
 
-Savegame::Savegame(const std::string& filename_, 
-                   S_Status status_, 
+Savegame::Savegame(const std::string& filename_,
+                   S_Status status_,
                    int      time_,
                    int      saved_pingus_)
   : filename(filename_),
diff --git a/src/pingus/savegame.hpp b/src/pingus/savegame.hpp
index d6e77eebd..b94b153ba 100644
--- a/src/pingus/savegame.hpp
+++ b/src/pingus/savegame.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -49,7 +49,7 @@ public:
   Savegame();
   ~Savegame() { }
   Savegame(const FileReader& node);
-  Savegame(const std::string& filename, 
+  Savegame(const std::string& filename,
            S_Status arg_status, int arg_time, int arg_saved_pingus);
 
   void read_sexpr(const FileReader& node);
diff --git a/src/pingus/savegame_manager.cpp b/src/pingus/savegame_manager.cpp
index b36cc38d7..3a01e8a21 100644
--- a/src/pingus/savegame_manager.cpp
+++ b/src/pingus/savegame_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/savegame_manager.hpp b/src/pingus/savegame_manager.hpp
index 996143da3..6080389bb 100644
--- a/src/pingus/savegame_manager.hpp
+++ b/src/pingus/savegame_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,7 +36,7 @@ public:
   ~SavegameManager();
 
   Savegame* get(const std::string& filename);
-                
+
   void store(Savegame&);
 
   /** Write the current savegames down to file */
diff --git a/src/pingus/screens/addon_menu.cpp b/src/pingus/screens/addon_menu.cpp
index f1ed65900..5cc82589a 100644
--- a/src/pingus/screens/addon_menu.cpp
+++ b/src/pingus/screens/addon_menu.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/screens/addon_menu.hpp b/src/pingus/screens/addon_menu.hpp
index 830721072..0b911401e 100644
--- a/src/pingus/screens/addon_menu.hpp
+++ b/src/pingus/screens/addon_menu.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,14 +37,14 @@ private:
                const std::string& author_)
       : title(title_),
         description(description_),
-        author(author_)     
+        author(author_)
     {}
   };
 
 public:
   AddOnMenu();
   ~AddOnMenu();
-  
+
   void draw_background (DrawingContext& gc);
   void on_escape_press ();
 
diff --git a/src/pingus/screens/credits.cpp b/src/pingus/screens/credits.cpp
index 96ef35597..674fb0a43 100644
--- a/src/pingus/screens/credits.cpp
+++ b/src/pingus/screens/credits.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -86,13 +86,13 @@ Credits::Credits(const Pathname& filename) :
   // character of each string is a special character, which indicates
   // the size of the font or other special stuff. "-" means large
   // font, "_" is a small font and "n" means a newline.
-  
+
   { // read credit information from filename
     std::ifstream in(filename.get_sys_path());
     if (!in)
     {
       log_error("couldn't open %1%", filename);
-      
+
       std::ostringstream out;
       out << "couldn't open " << filename;
       credits.push_back(out.str());
@@ -170,7 +170,7 @@ Credits::draw_background (DrawingContext& gc)
   gc.draw(blackboard, Vector2i(gc.get_width()/2, gc.get_height()/2));
 
   gc.draw(pingu, Vector2i(gc.get_width()/2, gc.get_height()/2 - 20));
-    
+
   yof = 0;
 
   scene_context->clear();
@@ -221,7 +221,7 @@ Credits::on_fast_forward_press ()
 void
 Credits::on_escape_press ()
 {
-  bool credits_seen = false;   
+  bool credits_seen = false;
   StatManager::instance()->get_bool("credits-seen", credits_seen);
   if (!credits_seen)
   {
diff --git a/src/pingus/screens/credits.hpp b/src/pingus/screens/credits.hpp
index 91f98aa3e..67a12e01a 100644
--- a/src/pingus/screens/credits.hpp
+++ b/src/pingus/screens/credits.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/screens/demo_session.cpp b/src/pingus/screens/demo_session.cpp
index de0a11346..616fff15c 100644
--- a/src/pingus/screens/demo_session.cpp
+++ b/src/pingus/screens/demo_session.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -39,9 +39,9 @@ private:
   Sprite highlight;
   std::function<void(void)> callback;
   std::function<bool(void)> highlight_func;
-  
+
 public:
-  BButton(int x, int y, const std::string& name, 
+  BButton(int x, int y, const std::string& name,
           std::function<void (void)> callback_,
           std::function<bool(void)> highlight_func_ = &false_func) :
     SurfaceButton(x, y, name, name + "-pressed", name + "-hover"),
@@ -50,7 +50,7 @@ public:
     highlight_func(highlight_func_)
   {}
 
-  virtual void draw (DrawingContext& gc) 
+  virtual void draw (DrawingContext& gc)
   {
 
     if (highlight_func())
@@ -87,7 +87,7 @@ DemoSession::DemoSession(const Pathname& pathname_) :
   demo = std::unique_ptr<PingusDemo>(new PingusDemo(pathname));
 
   events = demo->get_events();
-  // Reverse the vector so that we can use pop_back()  
+  // Reverse the vector so that we can use pop_back()
   std::reverse(events.begin(), events.end());
 
   // Create server
@@ -111,7 +111,7 @@ DemoSession::DemoSession(const Pathname& pathname_) :
 
   playfield = new Playfield(server.get(), 0,
                             Rect(Vector2i(Math::max((size.width  - world_width)/2,  0),
-                                          Math::max((size.height - world_height)/2, 0)), 
+                                          Math::max((size.height - world_height)/2, 0)),
                                  Size(Math::min(size.width,  world_width),
                                       Math::min(size.height, world_height))));
 
@@ -138,7 +138,7 @@ void
 DemoSession::draw_background(DrawingContext& gc)
 {
   Rect rect = playfield->get_rect();
-  
+
   if (rect != Rect(Vector2i(0,0), Size(gc.get_width(), gc.get_height())))
   { // Draw a black border around the playfield when the playfield is smaller then the screen
     Color border_color(0, 0, 0);
@@ -154,7 +154,7 @@ DemoSession::draw_background(DrawingContext& gc)
     // right
     gc.draw_fillrect(Rect(rect.right, rect.top, gc.get_width(), rect.bottom),
                      border_color);
-  }  
+  }
 }
 
 /** Pass a delta to the screen */
@@ -206,7 +206,7 @@ DemoSession::update_demo()
     event.send(server.get());
     events.pop_back();
   }
-  
+
   // Check for unexpected things (might happen if the demo file is broken)
   if (!events.empty() && events.back().time_stamp < server->get_time())
   {
@@ -222,7 +222,7 @@ DemoSession::on_pause_press()
     for(std::vector<ServerEvent>::iterator i = events.begin(); i != events.end(); ++i)
     {
       std::cout << "Event: ";
-      i->write(std::cout);      
+      i->write(std::cout);
     }
   }
 
@@ -270,7 +270,7 @@ DemoSession::resize(const Size& size_)
   int world_height = server->get_world()->get_height();
 
   playfield->set_rect(Rect(Vector2i(Math::max((size.width  - world_width)/2,  0),
-                                    Math::max((size.height - world_height)/2, 0)), 
+                                    Math::max((size.height - world_height)/2, 0)),
                            Size(Math::min(size.width,  world_width),
                                 Math::min(size.height, world_height))));
 
diff --git a/src/pingus/screens/demo_session.hpp b/src/pingus/screens/demo_session.hpp
index e3e2b4200..61265a06e 100644
--- a/src/pingus/screens/demo_session.hpp
+++ b/src/pingus/screens/demo_session.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -78,7 +78,7 @@ public:
   void on_escape_press ();
 
   void restart();
-  
+
   void on_scroller_move(float x, float y);
 
   bool is_pause() { return pause; }
diff --git a/src/pingus/screens/font_test_screen.cpp b/src/pingus/screens/font_test_screen.cpp
index 3de9412c6..def2da175 100644
--- a/src/pingus/screens/font_test_screen.cpp
+++ b/src/pingus/screens/font_test_screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -70,28 +70,28 @@ FontTestScreen::draw(DrawingContext& gc)
                   std::string(1, char(i)));
     // print the index number
     gc.print_left(reference,
-                  Vector2i(x, 
+                  Vector2i(x,
                            y + font.get_height()),
                   StringUtil::to_string(i));
-      
+
     if (font.get_width(char(i)))
     {
-      gc.draw_rect(Rect(x, y, 
-                        x+font.get_height(), 
-                        y+font.get_height()), 
+      gc.draw_rect(Rect(x, y,
+                        x+font.get_height(),
+                        y+font.get_height()),
                    Color(0,0,255));
-      gc.draw_rect(Rect(x, y, 
-                        x + static_cast<int>(font.get_width(char(i))), 
-                        y + font.get_height()), 
+      gc.draw_rect(Rect(x, y,
+                        x + static_cast<int>(font.get_width(char(i))),
+                        y + font.get_height()),
                    Color(255,0,255));
       gc.print_left(font, Vector2i(x, y),
                     std::string(1, char(i)));
     }
     else
     {
-      gc.draw_rect(Rect(x, y, 
-                        x+font.get_height(), 
-                        y+font.get_height()), 
+      gc.draw_rect(Rect(x, y,
+                        x+font.get_height(),
+                        y+font.get_height()),
                    Color(255,0,0));
     }
   }
@@ -108,15 +108,15 @@ FontTestScreen::update(const Input::Event& event)
           event.button.name == Input::PRIMARY_BUTTON)
         dark = !dark;
       break;
-            
+
     case Input::SCROLLER_EVENT_TYPE:
       scroll.x += static_cast<int>(event.scroll.x_delta);
       scroll.y += static_cast<int>(event.scroll.y_delta);
       break;
-          
+
     default:
       break;
   }
-} 
+}
 
 /* EOF */
diff --git a/src/pingus/screens/font_test_screen.hpp b/src/pingus/screens/font_test_screen.hpp
index bbde2589f..6da259060 100644
--- a/src/pingus/screens/font_test_screen.hpp
+++ b/src/pingus/screens/font_test_screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/screens/game_session.cpp b/src/pingus/screens/game_session.cpp
index 138440577..99442438a 100644
--- a/src/pingus/screens/game_session.cpp
+++ b/src/pingus/screens/game_session.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -60,7 +60,7 @@ GameSession::GameSession(const PingusLevel& arg_plf, bool arg_show_result_screen
   log_debug("GameSession");
 
   // -- Client stuff
-  
+
   // These object will get deleted by the gui_manager
   button_panel = new ButtonPanel(get_server(), Vector2i(0, (size.height - 150)/2));
 
@@ -69,7 +69,7 @@ GameSession::GameSession(const PingusLevel& arg_plf, bool arg_show_result_screen
 
   playfield    = new Playfield(get_server(), this,
                                Rect(Vector2i(Math::max((Display::get_width()  - world_width)/2,  0),
-                                             Math::max((Display::get_height() - world_height)/2, 0)), 
+                                             Math::max((Display::get_height() - world_height)/2, 0)),
                                     Size(Math::min(Display::get_width(),  world_width),
                                          Math::min(Display::get_height(), world_height))));
 
@@ -172,7 +172,7 @@ void
 GameSession::draw_background (DrawingContext& gc)
 {
   Rect rect = playfield->get_rect();
-  
+
   if (rect != Rect(Vector2i(0,0), Size(Display::get_width(), Display::get_height())))
   { // Draw a black border around the playfield when the playfield is smaller then the screen
     Color border_color(0, 0, 0);
@@ -345,7 +345,7 @@ GameSession::on_startup ()
   if (globals::developer_mode)
     log_info("Starting Music: %1%", server->get_plf().get_music());
 
-  if (server->get_plf().get_music() == "none" || 
+  if (server->get_plf().get_music() == "none" ||
       server->get_plf().get_music().empty())
   {
     Sound::PingusSound::stop_music();
@@ -401,9 +401,9 @@ GameSession::resize(const Size& size_)
 
   int world_width  = server->get_world()->get_width();
   int world_height = server->get_world()->get_height();
-  
+
   playfield->set_rect(Rect(Vector2i(Math::max((size.width  - world_width)/2,  0),
-                                    Math::max((size.height - world_height)/2, 0)), 
+                                    Math::max((size.height - world_height)/2, 0)),
                            Size(Math::min(size.width,  world_width),
                                 Math::min(size.height, world_height))));
 
diff --git a/src/pingus/screens/game_session.hpp b/src/pingus/screens/game_session.hpp
index 42cc634b2..13fd0f9c6 100644
--- a/src/pingus/screens/game_session.hpp
+++ b/src/pingus/screens/game_session.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/screens/level_menu.cpp b/src/pingus/screens/level_menu.cpp
index 73ae59403..e2f9aa656 100644
--- a/src/pingus/screens/level_menu.cpp
+++ b/src/pingus/screens/level_menu.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -120,7 +120,7 @@ private:
 public:
   LevelsetSelector(LevelMenu* level_menu_, const Rect& rect_) :
     RectComponent(rect_),
-    level_menu(level_menu_), 
+    level_menu(level_menu_),
     levelsets(),
     current_levelset(),
     marker(),
@@ -132,11 +132,11 @@ public:
               70 + items_per_page * item_height)
   {
     marker      = Sprite("core/menu/marker");
-      
+
     auto directory = Pathname("levelsets", Pathname::DATA_PATH).opendir("*.levelset");
     for(auto i = directory.begin(); i != directory.end(); ++i)
     {
-      try 
+      try
       {
         std::unique_ptr<Levelset> levelset = Levelset::from_file(*i);
         if (!levelset->get_developer_only() || globals::developer_mode)
@@ -161,14 +161,14 @@ public:
     std::sort(levelsets.begin(), levelsets.end(), LevelsetPrioritySorter());
   }
 
-  ~LevelsetSelector() 
+  ~LevelsetSelector()
   {
     for(Levelsets::iterator i = levelsets.begin(); i != levelsets.end(); ++i)
     {
       delete *i;
     }
   }
-  
+
   void draw(DrawingContext& gc)
   {
     gc.push_modelview();
@@ -194,8 +194,8 @@ public:
 
       y += item_height;
     }
-    
-    //int total_pages = static_cast<int>(levelsets.size());; 
+
+    //int total_pages = static_cast<int>(levelsets.size());;
     //gc.print_center(Fonts::chalk_normal, Vector2i(rect.get_width()/2, 360),
     //                (boost::format("%1% %2%/%3%") % _("Page") % (page+1) % total_pages).str());
 
@@ -227,7 +227,7 @@ public:
   {
     x -= rect.left;
     y -= rect.top;
-    
+
     if (!list_rect.contains(Vector2i(x, y)))
     {
       current_levelset = NULL;
@@ -306,7 +306,7 @@ public:
     m_checkbox = Sprite("core/menu/checkbox_small");
   }
 
-  void draw(DrawingContext& gc) 
+  void draw(DrawingContext& gc)
   {
     gc.push_modelview();
     gc.translate(rect.left, rect.top);
@@ -321,7 +321,7 @@ public:
     if (levelset)
     {
       levelset->refresh(); // should be better placed in on_startup() or so
-        
+
       //gc.draw_fillrect(Rect(Vector2i(0,0), Size(rect.get_width(), rect.get_height())),
       //                 Color(255, 255, 0, 100));
 
@@ -476,7 +476,7 @@ LevelMenu::LevelMenu() :
                                                        "core/menu/arrow_down",
                                                        std::bind(&LevelMenu::next_page, this)));
 
-  gui_manager->add(abort_button = new LevelMenuAbortButton(this, 
+  gui_manager->add(abort_button = new LevelMenuAbortButton(this,
                                                            Display::get_width()/2 - 300,
                                                            Display::get_height()/2 + 144));
 
@@ -505,7 +505,7 @@ LevelMenu::on_escape_press()
   if (level_selector->is_visible())
   {
     levelset_selector->show();
-    level_selector->hide();           
+    level_selector->hide();
   }
   else
   {
@@ -538,7 +538,7 @@ LevelMenu::next_page()
   if (level_selector->is_visible())
     level_selector->next_page();
   else
-    levelset_selector->next_page();  
+    levelset_selector->next_page();
 }
 
 void
@@ -562,7 +562,7 @@ LevelMenu::set_levelset(Levelset* levelset)
   else
   {
     levelset_selector->show();
-    level_selector->hide();      
+    level_selector->hide();
   }
 }
 
diff --git a/src/pingus/screens/level_menu.hpp b/src/pingus/screens/level_menu.hpp
index fae7987b2..585e1135c 100644
--- a/src/pingus/screens/level_menu.hpp
+++ b/src/pingus/screens/level_menu.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -48,12 +48,12 @@ private:
 public:
   LevelMenu();
   ~LevelMenu();
-  
+
   void draw_background(DrawingContext& gc);
   void on_escape_press();
   void on_action_up_press();
   void on_action_down_press();
-    
+
   void set_levelset(Levelset* levelset);
 
   void next_page();
diff --git a/src/pingus/screens/option_menu.cpp b/src/pingus/screens/option_menu.cpp
index 2b01dcc01..12bea375a 100644
--- a/src/pingus/screens/option_menu.cpp
+++ b/src/pingus/screens/option_menu.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -98,7 +98,7 @@ OptionMenu::OptionMenu() :
   m_language(),
   m_language_map()
 {
-  gui_manager->add(ok_button = new OptionMenuCloseButton(this, 
+  gui_manager->add(ok_button = new OptionMenuCloseButton(this,
                                                          Display::get_width()/2 + 245,
                                                          Display::get_height()/2 + 150));
 
@@ -143,7 +143,7 @@ OptionMenu::OptionMenu() :
 #endif
     default: assert(!"unknown renderer type");
   }
-  
+
   m_language = dictionary_manager.get_language();
 
   ChoiceBox* language_box = new ChoiceBox(Rect());
@@ -224,7 +224,7 @@ OptionMenu::OptionMenu() :
   add_item(_("Master Volume:"),   master_volume_box);
   add_item(_("Sound Volume:"),    sound_volume_box);
   add_item(_("Music Volume:"),    music_volume_box);
-  
+
   // Connect with ConfigManager
   mousegrab_box->set_state(config_manager.get_mouse_grab(), false);
   C(config_manager.on_mouse_grab_change.connect(std::bind(&CheckBox::set_state, mousegrab_box, std::placeholders::_1, false)));
@@ -258,7 +258,7 @@ OptionMenu::add_item(const std::string& label, GUI::RectComponent* control)
   int x_offset = (Display::get_width()  - 800) / 2;
   int y_offset = (Display::get_height() - 600) / 2;
 
-  Rect rect(Vector2i(80 + x_offset + x_pos * 320, 
+  Rect rect(Vector2i(80 + x_offset + x_pos * 320,
                      140 + y_offset + y_pos * 32),
             Size(320, 32));
 
@@ -281,7 +281,7 @@ OptionMenu::add_item(const std::string& label, GUI::RectComponent* control)
   }
   else if (dynamic_cast<CheckBox*>(control))
   {
-    control->set_rect(Rect(Vector2i(rect.left, rect.top), 
+    control->set_rect(Rect(Vector2i(rect.left, rect.top),
                            Size(32, 32)));
     label_component->set_rect(Rect(rect.left + 40,  rect.top,
                                    rect.right, rect.bottom));
@@ -306,13 +306,13 @@ OptionMenu::~OptionMenu()
     (*i).disconnect();
   }
 }
-  
+
 struct OptionEntry {
   OptionEntry(const std::string& left_,
               const std::string& right_)
     : left(left_), right(right_)
   {}
-  
+
   std::string left;
   std::string right;
 };
@@ -335,7 +335,7 @@ OptionMenu::draw_background(DrawingContext& gc)
 
   gc.print_center(Fonts::chalk_normal, Vector2i(gc.get_width()/2 + 245 + 30, gc.get_height()/2 + 150 - 20), _("Close"));
 
-  gc.print_left(Fonts::chalk_normal, 
+  gc.print_left(Fonts::chalk_normal,
                 Vector2i(gc.get_width()/2 - 320, gc.get_height()/2 + 200),
                 _("Some options require a restart of the game to take effect."));
 }
@@ -451,7 +451,7 @@ OptionMenu::on_language_change(const std::string &str)
     log_error("unknown language: %1%", str);
   }
   else
-  {  
+  {
     m_language = it->second;
     config_manager.set_language(it->second);
   }
@@ -467,7 +467,7 @@ OptionMenu::on_resolution_change(const std::string& str)
   }
   else
   {
-    config_manager.set_fullscreen_resolution(size_); 
+    config_manager.set_fullscreen_resolution(size_);
   }
 }
 
diff --git a/src/pingus/screens/option_menu.hpp b/src/pingus/screens/option_menu.hpp
index 154ef0f69..f1ba278d0 100644
--- a/src/pingus/screens/option_menu.hpp
+++ b/src/pingus/screens/option_menu.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -75,7 +75,7 @@ private:
 public:
   OptionMenu();
   ~OptionMenu();
-  
+
   void draw_background (DrawingContext& gc);
   void on_escape_press ();
 
diff --git a/src/pingus/screens/pingus_menu.cpp b/src/pingus/screens/pingus_menu.cpp
index 19a3d0414..1e7bcd299 100644
--- a/src/pingus/screens/pingus_menu.cpp
+++ b/src/pingus/screens/pingus_menu.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -48,7 +48,7 @@ PingusMenu::PingusMenu() :
   is_init = false;
 
   Size size_(Display::get_width(), Display::get_height());
-  
+
   start_button = new MenuButton(this, Vector2i(size_.width/2 - 125,
                                                size_.height/2 - 20),
                                 _("Story"),
@@ -59,7 +59,7 @@ PingusMenu::PingusMenu() :
                                  _("Editor"),
                                  _("..:: Create your own levels ::.."));
 
-  options_button = new MenuButton(this, Vector2i(size_.width/2 + 125, 
+  options_button = new MenuButton(this, Vector2i(size_.width/2 + 125,
                                                  size_.height/2 + 50),
                                   _("Options"),
                                   _("..:: Configure the game ::.."));
@@ -69,7 +69,7 @@ PingusMenu::PingusMenu() :
                                   _("Levelsets"),
                                   _("..:: Play User Built levels ::.."));
 
-  quit_button = new MenuButton(this, Vector2i(size_.width/2, 
+  quit_button = new MenuButton(this, Vector2i(size_.width/2,
                                               size_.height/2 + 120),
                                _("Exit"),
                                _("..:: Bye, bye ::.."));
@@ -110,7 +110,7 @@ void
 PingusMenu::do_start(const std::string &filename)
 { // Start the story or worldmap mode
   Sound::PingusSound::play_sound ("letsgo");
-  
+
   std::shared_ptr<WorldmapNS::WorldmapScreen> worldmap_screen = std::make_shared<WorldmapNS::WorldmapScreen>();
   worldmap_screen->load(Pathname(filename, Pathname::DATA_PATH));
   ScreenManager::instance()->push_screen(worldmap_screen);
@@ -164,14 +164,14 @@ PingusMenu::draw_background(DrawingContext& gc)
                         Display::get_height ()),
                    Color(0, 0, 0, 255));
 
-  gc.print_center(Fonts::pingus_small, 
+  gc.print_center(Fonts::pingus_small,
                   Vector2i(gc.get_width() / 2,
                            gc.get_height() - Fonts::pingus_small.get_height() - 8),
                   help);
 
   if (0) // display hint
   {
-    gc.print_center(Fonts::pingus_small, 
+    gc.print_center(Fonts::pingus_small,
                     Vector2i(gc.get_width() / 2,
                              gc.get_height() - Fonts::pingus_small.get_height()),
                     hint);
@@ -230,7 +230,7 @@ PingusMenu::create_background(const Size& size_)
   int w = size_.width;
   int h = size_.height;
 
-  // We only need to scale the background main menu images if the screen 
+  // We only need to scale the background main menu images if the screen
   // resolution is not default
   if (w != globals::default_screen_width ||
       h != globals::default_screen_height)
@@ -240,7 +240,7 @@ PingusMenu::create_background(const Size& size_)
     layer3 = layer3.scale(w, 306 * h / globals::default_screen_height);
     layer4 = layer4.scale(w, 171 * h / globals::default_screen_height);
     layer5 = layer5.scale(302 * w / globals::default_screen_width, 104 * h / globals::default_screen_height);
-      
+
     background->add_layer(Sprite(layer1), 0, 0, 12, 0);
     background->add_layer(Sprite(layer2), 0, 150 * static_cast<float>(h) / static_cast<float>(globals::default_screen_height), 25, 0);
     background->add_layer(Sprite(layer3), 0, 200 * static_cast<float>(h) / static_cast<float>(globals::default_screen_height), 50, 0);
@@ -265,17 +265,17 @@ PingusMenu::resize(const Size& size_)
 
   start_button->set_pos(size.width/2 - 125,
                         size.height/2 - 20);
-    
+
   editor_button->set_pos(size.width/2 + 125,
                          size.height/2 - 20);
 
   contrib_button->set_pos(size.width/2 - 125,
                           size.height/2 + 50);
-  
-  options_button->set_pos(size.width/2 + 125, 
+
+  options_button->set_pos(size.width/2 + 125,
                           size.height/2 + 50);
-  
-  quit_button->set_pos(size.width/2, 
+
+  quit_button->set_pos(size.width/2,
                        size.height/2 + 120);
 }
 
diff --git a/src/pingus/screens/pingus_menu.hpp b/src/pingus/screens/pingus_menu.hpp
index a686d9a1c..dafc9296c 100644
--- a/src/pingus/screens/pingus_menu.hpp
+++ b/src/pingus/screens/pingus_menu.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -55,7 +55,7 @@ private:
   void do_quit();
   void do_start(const std::string &filename);
   void do_edit();
-  
+
   void create_background(const Size& size);
 
 public:
diff --git a/src/pingus/screens/result_screen.cpp b/src/pingus/screens/result_screen.cpp
index 351575347..6c6224aa5 100644
--- a/src/pingus/screens/result_screen.cpp
+++ b/src/pingus/screens/result_screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -153,7 +153,7 @@ ResultScreenComponent::ResultScreenComponent(Result arg_result) :
   background("core/menu/wood"),
   blackboard("core/menu/blackboard"),
   time_str()
-{   
+{
   if (result.max_time == -1)
     time_str = "-";
   else
@@ -170,14 +170,14 @@ ResultScreenComponent::draw(DrawingContext& gc)
 
   gc.draw(blackboard, Vector2i(gc.get_width()/2, gc.get_height()/2));
 
-  gc.print_center(Fonts::chalk_large, 
-                  Vector2i(gc.get_width()/2, 
+  gc.print_center(Fonts::chalk_large,
+                  Vector2i(gc.get_width()/2,
                            Display::get_height()/2 - 200),
                   _(result.plf.get_levelname()));
 
   if (result.success())
   {
-    gc.print_center(Fonts::chalk_large, 
+    gc.print_center(Fonts::chalk_large,
                     Vector2i(gc.get_width()/2,
                              Display::get_height()/2 - 140),
                     _("Success!"));
@@ -186,7 +186,7 @@ ResultScreenComponent::draw(DrawingContext& gc)
   }
   else
   {
-    gc.print_center(Fonts::chalk_large, 
+    gc.print_center(Fonts::chalk_large,
                     Vector2i(gc.get_width()/2, Display::get_height()/2 - 140),
                     _("Failure!"));
     /*gc.print_center(Fonts::pingus_normal, gc.get_width()/2, gc.get_height()-30,
@@ -254,7 +254,7 @@ ResultScreen::ResultScreen(Result arg_result) :
 
   if (result.success())
   {
-    gui_manager->add(ok_button = new ResultScreenOkButton(this, 
+    gui_manager->add(ok_button = new ResultScreenOkButton(this,
                                                           Display::get_width()/2 + 245,
                                                           Display::get_height()/2 + 150));
   }
@@ -328,7 +328,7 @@ ResultScreen::resize(const Size& size_)
   if (abort_button)
     abort_button->set_pos(size.width/2 - 300, size.height/2 + 200);
 
-  if (retry_button)  
+  if (retry_button)
     retry_button->set_pos(size.width/2 + 245, size.height/2 + 150);
 }
 
diff --git a/src/pingus/screens/result_screen.hpp b/src/pingus/screens/result_screen.hpp
index 1e9d255cc..77050e064 100644
--- a/src/pingus/screens/result_screen.hpp
+++ b/src/pingus/screens/result_screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/screens/start_screen.cpp b/src/pingus/screens/start_screen.cpp
index 12ce50cfb..2a2e6b9c1 100644
--- a/src/pingus/screens/start_screen.cpp
+++ b/src/pingus/screens/start_screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -165,14 +165,14 @@ StartScreenComponent::draw(DrawingContext& gc)
 
   gc.print_left (Fonts::chalk_normal, Vector2i(left_x,  y), _("Number of Pingus: "));
   gc.print_right(Fonts::chalk_normal, Vector2i(right_x, y), StringUtil::to_string(plf.get_number_of_pingus()));
-  
+
   gc.print_left (Fonts::chalk_normal, Vector2i(left_x,  (y += 30)), _("Number to Save: "));
   gc.print_right(Fonts::chalk_normal, Vector2i(right_x, y), StringUtil::to_string(plf.get_number_to_save()));
-  
+
   gc.print_left (Fonts::chalk_normal, Vector2i(left_x,  (y += 30)), _("Time: "));
   gc.print_right(Fonts::chalk_normal, Vector2i(right_x, y), time_str);
 
-  gc.print_center(Fonts::chalk_small, 
+  gc.print_center(Fonts::chalk_small,
                   Vector2i(gc.get_width()/2,
                            gc.get_height()/2 + 215),
                   _("Author: ") + plf.get_author());
diff --git a/src/pingus/screens/start_screen.hpp b/src/pingus/screens/start_screen.hpp
index 4d620382d..7e103bfe1 100644
--- a/src/pingus/screens/start_screen.hpp
+++ b/src/pingus/screens/start_screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/screens/story_screen.cpp b/src/pingus/screens/story_screen.cpp
index da0d660f2..dcaa765f2 100644
--- a/src/pingus/screens/story_screen.cpp
+++ b/src/pingus/screens/story_screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -93,7 +93,7 @@ private:
 
 class StoryScreenSkipButton : public GUI::SurfaceButton
 {
-private: 
+private:
   StoryScreenComponent* story_comp;
 
 public:
@@ -108,10 +108,10 @@ public:
     gc.print_right(Fonts::chalk_small, Vector2i(x_pos, y_pos), _("skip"));
   }
 
-  bool is_at(int x, int y) 
+  bool is_at(int x, int y)
   {
     return
-      x > x_pos - static_cast<int>(Fonts::chalk_small.get_width(_("skip"))) && 
+      x > x_pos - static_cast<int>(Fonts::chalk_small.get_width(_("skip"))) &&
       x < x_pos &&
       y > y_pos &&
       y < y_pos + static_cast<int>(Fonts::chalk_small.get_height());
@@ -142,12 +142,12 @@ StoryScreen::StoryScreen(const FileReader& reader, bool credits) :
 {
   story_comp = new StoryScreenComponent(story.get(), m_credits);
   gui_manager->add(story_comp);
-  gui_manager->add(continue_button = new StoryScreenContinueButton(story_comp, 
-                                                                   Display::get_width()/2 + 220 + 40, 
+  gui_manager->add(continue_button = new StoryScreenContinueButton(story_comp,
+                                                                   Display::get_width()/2 + 220 + 40,
                                                                    Display::get_height()/2 + 180 + 32));
   if (globals::developer_mode)
-    gui_manager->add(skip_button     = new StoryScreenSkipButton(story_comp, 
-                                                                 Display::get_width() - 4, 
+    gui_manager->add(skip_button     = new StoryScreenSkipButton(story_comp,
+                                                                 Display::get_width() - 4,
                                                                  Display::get_height() - 26));
 }
 
@@ -188,8 +188,8 @@ StoryScreenComponent::draw (DrawingContext& gc)
 
   gc.draw(blackboard, Vector2i(gc.get_width()/2, gc.get_height()/2));
 
-  gc.print_center(Fonts::chalk_large, 
-                  Vector2i(gc.get_width()/2, gc.get_height()/2 - 200), 
+  gc.print_center(Fonts::chalk_large,
+                  Vector2i(gc.get_width()/2, gc.get_height()/2 - 200),
                   story->get_title());
   gc.draw(page_surface, Vector2i(gc.get_width()/2, gc.get_height()/2 - 65));
 
@@ -208,9 +208,9 @@ StoryScreenComponent::update(float delta)
   {
     std::string::size_type len = static_cast<std::string::size_type>(20.0f * time_passed);
     std::string::size_type text_len = UTF8::length(current_page.text);
-      
+
     display_text = UTF8::substr(current_page.text, 0, Math::min(text_len, len));
-       
+
     if (text_len < len)
     {
       page_displayed_completly = true;
@@ -284,10 +284,10 @@ StoryScreen::resize(const Size& size_)
 {
   GUIScreen::resize(size_);
 
-  continue_button->set_pos(size.width/2 + 220 + 40, 
+  continue_button->set_pos(size.width/2 + 220 + 40,
                            size.height/2 + 180 +32);
   if (skip_button)
-    skip_button->set_pos(size.width  - 4, 
+    skip_button->set_pos(size.width  - 4,
                          size.height - 26);
 }
 
diff --git a/src/pingus/screens/story_screen.hpp b/src/pingus/screens/story_screen.hpp
index 62f29d2e1..dc9033119 100644
--- a/src/pingus/screens/story_screen.hpp
+++ b/src/pingus/screens/story_screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/server.cpp b/src/pingus/server.cpp
index 597586c70..9240ff5e7 100644
--- a/src/pingus/server.cpp
+++ b/src/pingus/server.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -50,7 +50,7 @@ static std::unique_ptr<std::ostream> get_demostream(const PingusLevel& plf)
   std::string filename = System::get_userdir() + "demos/" + flat_levelname + "-" + get_date_string() + ".pingus-demo";
 
   std::unique_ptr<std::ofstream> out(new std::ofstream(filename.c_str()));
-  
+
   if (!(*out.get()))
   {
     log_error("DemoRecorder: Error: Couldn't write DemoFile '%1%', demo recording will be disabled", filename);
@@ -86,7 +86,7 @@ Server::Server(const PingusLevel& arg_plf, bool record_demo) :
 
 Server::~Server ()
 {
-  if (demostream.get()) // FIXME: Any better place to put this? 
+  if (demostream.get()) // FIXME: Any better place to put this?
     (*demostream) << "(end (time " << get_time() << "))" << std::endl;
 }
 
diff --git a/src/pingus/server.hpp b/src/pingus/server.hpp
index dec5a923e..54626446b 100644
--- a/src/pingus/server.hpp
+++ b/src/pingus/server.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/server_event.cpp b/src/pingus/server_event.cpp
index c61009fd0..76041fc65 100644
--- a/src/pingus/server_event.cpp
+++ b/src/pingus/server_event.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -72,7 +72,7 @@ ServerEvent::ServerEvent(const FileReader& reader) :
 
     reader.read_enum("action", pingu_action, &ActionName::from_string);
 
-      
+
   }
   else
   {
@@ -114,7 +114,7 @@ ServerEvent::make_finish_event(int t)
   ServerEvent event;
   event.type       = FINISH_EVENT;
   event.time_stamp = t;
-  return event; 
+  return event;
 }
 
 ServerEvent
@@ -123,7 +123,7 @@ ServerEvent::make_end_event(int t)
   ServerEvent event;
   event.type       = END_EVENT;
   event.time_stamp = t;
-  return event; 
+  return event;
 }
 
 ServerEvent
@@ -157,7 +157,7 @@ ServerEvent::send(Server* server)
       break;
 
     case FINISH_EVENT:
-      server->send_finish_event();      
+      server->send_finish_event();
       break;
 
     case END_EVENT:
diff --git a/src/pingus/server_event.hpp b/src/pingus/server_event.hpp
index e95a4abdf..171a54f9f 100644
--- a/src/pingus/server_event.hpp
+++ b/src/pingus/server_event.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/smallmap_image.cpp b/src/pingus/smallmap_image.cpp
index 06dff6c34..ff55f386b 100644
--- a/src/pingus/smallmap_image.cpp
+++ b/src/pingus/smallmap_image.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/smallmap_image.hpp b/src/pingus/smallmap_image.hpp
index 2ae360357..9ccee53c0 100644
--- a/src/pingus/smallmap_image.hpp
+++ b/src/pingus/smallmap_image.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -46,7 +46,7 @@ public:
   void update (float delta);
 
   Sprite get_surface();
-  
+
   /** Regenerate the smallmap surface */
   void update_surface();
 
diff --git a/src/pingus/stat_manager.cpp b/src/pingus/stat_manager.cpp
index ffd763bc5..4ad17ebf7 100644
--- a/src/pingus/stat_manager.cpp
+++ b/src/pingus/stat_manager.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/stat_manager.hpp b/src/pingus/stat_manager.hpp
index 533613411..8e11baac5 100644
--- a/src/pingus/stat_manager.hpp
+++ b/src/pingus/stat_manager.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/state_sprite.cpp b/src/pingus/state_sprite.cpp
index 666605cfa..84b2a8a5d 100644
--- a/src/pingus/state_sprite.cpp
+++ b/src/pingus/state_sprite.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -44,7 +44,7 @@ StateSprite::update()
   update(0.033f);
 }
 
-void 
+void
 StateSprite::update(float delta)
 {
   for(Sprites::iterator i = sprites.begin(); i != sprites.end(); ++i)
diff --git a/src/pingus/state_sprite.hpp b/src/pingus/state_sprite.hpp
index a8d880ced..4ed6faf2c 100644
--- a/src/pingus/state_sprite.hpp
+++ b/src/pingus/state_sprite.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -31,7 +31,7 @@ private:
 
 public:
   StateSprite();
-  
+
   void update(float delta);
   void update();
 
diff --git a/src/pingus/string_format.cpp b/src/pingus/string_format.cpp
index 2efd87ca4..872ac7464 100644
--- a/src/pingus/string_format.cpp
+++ b/src/pingus/string_format.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -29,7 +29,7 @@ StringFormat::break_line (const std::string& text_, int width, const Font& font)
   UTF8::iterator beg(text);
   float line_width = 0;
   std::ostringstream out;
-  
+
   UTF8::iterator it(text);
   while(it.next())
   {
@@ -48,7 +48,7 @@ StringFormat::break_line (const std::string& text_, int width, const Font& font)
         out << word;
         line_width += word_width;
       }
-          
+
       beg = it+1;
     }
     else if (*it == '\n')
@@ -56,7 +56,7 @@ StringFormat::break_line (const std::string& text_, int width, const Font& font)
       line_width = 0;
     }
   }
-  
+
   std::string word = UTF8::substr(beg, UTF8::iterator(text, text.end()));
   float word_width = font.get_width(word);
   if ((line_width + word_width) > width)
diff --git a/src/pingus/string_format.hpp b/src/pingus/string_format.hpp
index a4d22a057..25c0cfdb7 100644
--- a/src/pingus/string_format.hpp
+++ b/src/pingus/string_format.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/world.cpp b/src/pingus/world.cpp
index 0d330fd21..51fa08f80 100644
--- a/src/pingus/world.cpp
+++ b/src/pingus/world.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -299,7 +299,7 @@ World::get_worldobj(const std::string& id)
 {
   for(WorldObjIter obj = world_obj.begin(); obj != world_obj.end(); ++obj)
   {
-    if ((*obj)->get_id() == id) 
+    if ((*obj)->get_id() == id)
       return *obj;
   }
   return 0;
@@ -312,7 +312,7 @@ World::get_start_pos(int player_id)
   Vector2i pos;
   int num_entrances = 0;
   for(WorldObjIter obj = world_obj.begin(); obj != world_obj.end(); ++obj)
-  {  
+  {
     WorldObjs::Entrance* entrance = dynamic_cast<WorldObjs::Entrance*>(*obj);
     if (entrance && entrance->get_owner_id() == player_id)
     {
diff --git a/src/pingus/world.hpp b/src/pingus/world.hpp
index 1fe9b4c68..af43d09f0 100644
--- a/src/pingus/world.hpp
+++ b/src/pingus/world.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/dot.cpp b/src/pingus/worldmap/dot.cpp
index 0938bec7d..881d6593c 100644
--- a/src/pingus/worldmap/dot.cpp
+++ b/src/pingus/worldmap/dot.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/dot.hpp b/src/pingus/worldmap/dot.hpp
index 6cfd57ced..97ca47a2e 100644
--- a/src/pingus/worldmap/dot.hpp
+++ b/src/pingus/worldmap/dot.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/dot_factory.cpp b/src/pingus/worldmap/dot_factory.cpp
index f6ce629ef..abf6970da 100644
--- a/src/pingus/worldmap/dot_factory.cpp
+++ b/src/pingus/worldmap/dot_factory.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/dot_factory.hpp b/src/pingus/worldmap/dot_factory.hpp
index ef1dd591d..de799dad7 100644
--- a/src/pingus/worldmap/dot_factory.hpp
+++ b/src/pingus/worldmap/dot_factory.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/drawable.cpp b/src/pingus/worldmap/drawable.cpp
index 236a3765b..3e8a2d31a 100644
--- a/src/pingus/worldmap/drawable.cpp
+++ b/src/pingus/worldmap/drawable.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/drawable.hpp b/src/pingus/worldmap/drawable.hpp
index 4108aee68..be0860293 100644
--- a/src/pingus/worldmap/drawable.hpp
+++ b/src/pingus/worldmap/drawable.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/drawable_factory.cpp b/src/pingus/worldmap/drawable_factory.cpp
index 6c1fc4304..a561905a1 100644
--- a/src/pingus/worldmap/drawable_factory.cpp
+++ b/src/pingus/worldmap/drawable_factory.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/drawable_factory.hpp b/src/pingus/worldmap/drawable_factory.hpp
index b66f168f6..7d2efaf67 100644
--- a/src/pingus/worldmap/drawable_factory.hpp
+++ b/src/pingus/worldmap/drawable_factory.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/graph.cpp b/src/pingus/worldmap/graph.cpp
index 4efb99739..cb8f5f470 100644
--- a/src/pingus/worldmap/graph.cpp
+++ b/src/pingus/worldmap/graph.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/graph.hpp b/src/pingus/worldmap/graph.hpp
index 85d624f05..76ae64d99 100644
--- a/src/pingus/worldmap/graph.hpp
+++ b/src/pingus/worldmap/graph.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/level_dot.cpp b/src/pingus/worldmap/level_dot.cpp
index 5e7904f11..1992eccc9 100644
--- a/src/pingus/worldmap/level_dot.cpp
+++ b/src/pingus/worldmap/level_dot.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -38,7 +38,7 @@ LevelDot::LevelDot(const FileReader& reader) :
   plf()
 {
   std::string resname;
-  reader.read_string("levelname", resname); 
+  reader.read_string("levelname", resname);
 
   plf = PLFResMgr::load_plf(resname);
 }
@@ -123,11 +123,11 @@ LevelDot::draw_hover(DrawingContext& gc)
     gc.print_center(Fonts::pingus_small,
                     Vector2i(static_cast<int>(pos.x),
                              static_cast<int>(pos.y) - 44),
-                    _(get_plf().get_levelname()), 
+                    _(get_plf().get_levelname()),
                     10000);
   }
   else
-  {       
+  {
     gc.print_center(Fonts::pingus_small,
                     Vector2i(static_cast<int>(pos.x),
                              static_cast<int>(pos.y) - 44),
@@ -139,7 +139,7 @@ LevelDot::draw_hover(DrawingContext& gc)
   {
     gc.print_center(Fonts::pingus_small,
                     Vector2i(static_cast<int>(pos.x), static_cast<int>(pos.y) - 70),
-                    get_plf().get_resname(), 
+                    get_plf().get_resname(),
                     10000);
   }
 }
diff --git a/src/pingus/worldmap/level_dot.hpp b/src/pingus/worldmap/level_dot.hpp
index 71cc44de6..d702d586a 100644
--- a/src/pingus/worldmap/level_dot.hpp
+++ b/src/pingus/worldmap/level_dot.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/path.cpp b/src/pingus/worldmap/path.cpp
index e9e23dc17..6a744fa8b 100644
--- a/src/pingus/worldmap/path.cpp
+++ b/src/pingus/worldmap/path.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -66,7 +66,7 @@ Path::calc_length()
   }
 }
 
-Vector3f 
+Vector3f
 Path::at(float vec_position)
 {
   assert(!vec.empty());
diff --git a/src/pingus/worldmap/path.hpp b/src/pingus/worldmap/path.hpp
index b51671b09..8cc1e5ce8 100644
--- a/src/pingus/worldmap/path.hpp
+++ b/src/pingus/worldmap/path.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/path_drawable.cpp b/src/pingus/worldmap/path_drawable.cpp
index 383b8466d..4b423c3d9 100644
--- a/src/pingus/worldmap/path_drawable.cpp
+++ b/src/pingus/worldmap/path_drawable.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/path_drawable.hpp b/src/pingus/worldmap/path_drawable.hpp
index ce5637dbc..efda32363 100644
--- a/src/pingus/worldmap/path_drawable.hpp
+++ b/src/pingus/worldmap/path_drawable.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/path_graph.cpp b/src/pingus/worldmap/path_graph.cpp
index 95924143a..a8dc0a449 100644
--- a/src/pingus/worldmap/path_graph.cpp
+++ b/src/pingus/worldmap/path_graph.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,7 +36,7 @@ PathGraph::PathGraph(Worldmap* arg_worldmap, const FileReader& reader) :
 {
   parse_nodes(reader.read_section("nodes"));
   parse_edges(reader.read_section("edges"));
-  
+
   init_cache();
 }
 
@@ -58,7 +58,7 @@ PathGraph::parse_nodes(const FileReader& reader)
 {
   const std::vector<FileReader>& childs = reader.get_sections();
 
-  for(std::vector<FileReader>::const_iterator i = childs.begin(); 
+  for(std::vector<FileReader>::const_iterator i = childs.begin();
       i != childs.end(); ++i)
   {
     Dot* dot = DotFactory::create(*i);
@@ -89,7 +89,7 @@ PathGraph::parse_edges(const FileReader& reader)
 {
   const std::vector<FileReader>& childs = reader.get_sections();
 
-  for(std::vector<FileReader>::const_iterator i = childs.begin(); 
+  for(std::vector<FileReader>::const_iterator i = childs.begin();
       i != childs.end(); ++i)
   {
     if (i->get_name() == "edge")
@@ -101,13 +101,13 @@ PathGraph::parse_edges(const FileReader& reader)
       i->read_string("name",   name);
       i->read_string("source", source);
       i->read_string("destination", destination);
-          
+
       // FIXME: add path-data parsing here
       Path* path = new Path();
-          
+
       const std::vector<FileReader>& childs2 = reader.read_section("positions").get_sections();
-          
-      for(std::vector<FileReader>::const_iterator j = childs2.begin(); 
+
+      for(std::vector<FileReader>::const_iterator j = childs2.begin();
           j != childs2.end(); ++j)
       {
         if (j->get_name() == "position")
diff --git a/src/pingus/worldmap/path_graph.hpp b/src/pingus/worldmap/path_graph.hpp
index 19c5a039f..6f18ca5e9 100644
--- a/src/pingus/worldmap/path_graph.hpp
+++ b/src/pingus/worldmap/path_graph.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/pathfinder.hpp b/src/pingus/worldmap/pathfinder.hpp
index 36c475858..4dfe62b75 100644
--- a/src/pingus/worldmap/pathfinder.hpp
+++ b/src/pingus/worldmap/pathfinder.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -80,8 +80,8 @@ private:
 public:
   /** Find pathes to all other nodes, by starting from the node \a s */
   Pathfinder (Graph<T, C>& g, NodeId s) :
-    graph(g), 
-    start(s), 
+    graph(g),
+    start(s),
     open_nodes(CostComp(*this)),
     stat_graph()
   {
diff --git a/src/pingus/worldmap/pingus.cpp b/src/pingus/worldmap/pingus.cpp
index 3c3cf0026..1a7b50f4e 100644
--- a/src/pingus/worldmap/pingus.cpp
+++ b/src/pingus/worldmap/pingus.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -67,7 +67,7 @@ Pingus::draw (DrawingContext& gc)
   {
     // FIXME: Replace the sprite and add up/down here
     float direction = get_direction();
-      
+
     if (direction >= 0 && direction < 180)
       gc.draw(sprite[Direction::RIGHT], pos + Vector3f(0, 0, 10));
     else
@@ -83,7 +83,7 @@ Pingus::update (float delta)
     sprite[Direction::RIGHT].update(delta);
   else
     sprite[Direction::LEFT].update(delta);
-  
+
   if (is_walking())
     update_walk(delta);
 }
diff --git a/src/pingus/worldmap/pingus.hpp b/src/pingus/worldmap/pingus.hpp
index 10f7830e0..ccf388b73 100644
--- a/src/pingus/worldmap/pingus.hpp
+++ b/src/pingus/worldmap/pingus.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/pingus_worldmap.cpp b/src/pingus/worldmap/pingus_worldmap.cpp
index cdd856c38..0487304b0 100644
--- a/src/pingus/worldmap/pingus_worldmap.cpp
+++ b/src/pingus/worldmap/pingus_worldmap.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -75,7 +75,7 @@ PingusWorldmap::PingusWorldmap(const Pathname& pathname) :
 {
   parse_file(FileReader::parse(pathname));
 }
- 
+
 void
 PingusWorldmap::parse_file(const FileReader& reader)
 {
@@ -92,7 +92,7 @@ PingusWorldmap::parse_file(const FileReader& reader)
 
     std::string intro_story;
     std::string end_story;
-    
+
     if (reader.read_string("intro-story", intro_story))
     {
       impl->intro_story = FileReader::parse(Pathname(intro_story, Pathname::DATA_PATH));
@@ -125,9 +125,9 @@ PingusWorldmap::parse_properties(const FileReader& reader)
 }
 
 std::string
-PingusWorldmap::get_name() const 
+PingusWorldmap::get_name() const
 {
-  return impl->name; 
+  return impl->name;
 }
 
 std::string
@@ -206,6 +206,6 @@ FileReader
 PingusWorldmap::get_end_story() const
 {
   return impl->end_story;
-}  
+}
 
 /* EOF */
diff --git a/src/pingus/worldmap/pingus_worldmap.hpp b/src/pingus/worldmap/pingus_worldmap.hpp
index f4f76e787..bd9a98808 100644
--- a/src/pingus/worldmap/pingus_worldmap.hpp
+++ b/src/pingus/worldmap/pingus_worldmap.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,7 +41,7 @@ public:
 
   std::string get_default_node() const;
   std::string get_final_node() const;
-  
+
   FileReader get_intro_story() const;
   FileReader get_end_story() const;
 
diff --git a/src/pingus/worldmap/sprite_drawable.cpp b/src/pingus/worldmap/sprite_drawable.cpp
index bd864ce7c..7bcf15009 100644
--- a/src/pingus/worldmap/sprite_drawable.cpp
+++ b/src/pingus/worldmap/sprite_drawable.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/sprite_drawable.hpp b/src/pingus/worldmap/sprite_drawable.hpp
index da09f078e..3ab717ab1 100644
--- a/src/pingus/worldmap/sprite_drawable.hpp
+++ b/src/pingus/worldmap/sprite_drawable.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/story_dot.cpp b/src/pingus/worldmap/story_dot.cpp
index 8c689036c..ad29d4b22 100644
--- a/src/pingus/worldmap/story_dot.cpp
+++ b/src/pingus/worldmap/story_dot.cpp
@@ -55,7 +55,7 @@ StoryDot::draw_hover(DrawingContext& gc)
   gc.print_center(Fonts::pingus_small,
                   Vector2i(static_cast<int>(pos.x),
                            static_cast<int>(pos.y) - 44),
-                  _(m_name), 
+                  _(m_name),
                   10000);
 }
 
@@ -67,7 +67,7 @@ StoryDot::update(float delta)
 void
 StoryDot::on_click()
 {
-  try 
+  try
   {
     FileReader reader = FileReader::parse(Pathname(m_story, Pathname::DATA_PATH));
     ScreenManager::instance()->push_screen(std::make_shared<StoryScreen>(reader, m_credits));
diff --git a/src/pingus/worldmap/worldmap.cpp b/src/pingus/worldmap/worldmap.cpp
index 39df23053..659e0960b 100644
--- a/src/pingus/worldmap/worldmap.cpp
+++ b/src/pingus/worldmap/worldmap.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -31,7 +31,7 @@
 
 namespace WorldmapNS {
 
-Worldmap* Worldmap::current_ = 0; 
+Worldmap* Worldmap::current_ = 0;
 
 Worldmap::Worldmap(const Pathname& filename) :
   worldmap(),
@@ -89,7 +89,7 @@ Worldmap::~Worldmap()
 void
 Worldmap::draw(DrawingContext& gc)
 {
-  Vector2i pingu_pos(static_cast<int>(pingus->get_pos().x), 
+  Vector2i pingu_pos(static_cast<int>(pingus->get_pos().x),
                      static_cast<int>(pingus->get_pos().y));
   int min, max;
   int width  = worldmap.get_width();
@@ -121,9 +121,9 @@ Worldmap::draw(DrawingContext& gc)
 
   gc_state.set_size(gc.get_width(), gc.get_height());
   gc_state.set_pos(Vector2i(pingu_pos.x, pingu_pos.y));
-        
+
   gc_state.push(gc);
-  
+
   for (DrawableLst::iterator i = drawables.begin (); i != drawables.end (); ++i)
     (*i)->draw(gc);
 
@@ -131,7 +131,7 @@ Worldmap::draw(DrawingContext& gc)
   Dot* dot = path_graph->get_dot(mpos.x, mpos.y);
   if (dot)
     dot->draw_hover(gc);
-  
+
   gc_state.pop(gc);
 }
 
@@ -326,7 +326,7 @@ Worldmap::set_starting_node()
   }
   else
     id = default_node;
-                
+
   pingus->set_position(id);
 
   LevelDot* leveldot = dynamic_cast<LevelDot*>(path_graph->get_dot(id));
diff --git a/src/pingus/worldmap/worldmap.hpp b/src/pingus/worldmap/worldmap.hpp
index 80a88574c..44c291f42 100644
--- a/src/pingus/worldmap/worldmap.hpp
+++ b/src/pingus/worldmap/worldmap.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -111,7 +111,7 @@ private:
   void set_starting_node();
 
 private:
-  static Worldmap* current_; 
+  static Worldmap* current_;
 public:
   static Worldmap* current() { return current_; }
 
diff --git a/src/pingus/worldmap/worldmap_component.cpp b/src/pingus/worldmap/worldmap_component.cpp
index e86a18109..b8053d0b6 100644
--- a/src/pingus/worldmap/worldmap_component.cpp
+++ b/src/pingus/worldmap/worldmap_component.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -40,7 +40,7 @@ WorldmapComponent::draw (DrawingContext& gc)
   Worldmap* worldmap = worldmap_screen->get_worldmap();
 
   Rect cliprect = worldmap_screen->get_trans_rect();
-  
+
   scene_context->set_rect(cliprect);
 
   scene_context->clear();
diff --git a/src/pingus/worldmap/worldmap_component.hpp b/src/pingus/worldmap/worldmap_component.hpp
index 7f604f836..00f5c4767 100644
--- a/src/pingus/worldmap/worldmap_component.hpp
+++ b/src/pingus/worldmap/worldmap_component.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -34,7 +34,7 @@ private:
   std::unique_ptr<SceneContext> scene_context;
   WorldmapScreen* worldmap_screen;
   bool m_fast_forward;
-  
+
 public:
   WorldmapComponent(WorldmapScreen* worldmap_screen);
   ~WorldmapComponent();
diff --git a/src/pingus/worldmap/worldmap_screen.cpp b/src/pingus/worldmap/worldmap_screen.cpp
index 57f637f82..a6cff1ab9 100644
--- a/src/pingus/worldmap/worldmap_screen.cpp
+++ b/src/pingus/worldmap/worldmap_screen.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,7 +32,7 @@ namespace WorldmapNS {
 class WorldmapScreenCloseButton
   : public GUI::SurfaceButton
 {
-private: 
+private:
   WorldmapScreen* worldmap_screen;
 public:
   WorldmapScreenCloseButton(WorldmapScreen* worldmap_screen);
@@ -143,7 +143,7 @@ void
 WorldmapScreen::load(const Pathname& filename)
 {
   worldmap = std::unique_ptr<Worldmap>(new Worldmap(filename));
-        
+
   bool credits_unlocked = false;
   //StatManager::instance()->get_bool(worldmap->get_short_name() + "-endstory-seen", credits_unlocked);
   if (credits_unlocked)
@@ -194,7 +194,7 @@ Rect
 WorldmapScreen::get_trans_rect() const
 {
   return Rect(Vector2i(Math::max((Display::get_width()  - worldmap->get_width())/2,  0),
-                       Math::max((Display::get_height() - worldmap->get_height())/2, 0)), 
+                       Math::max((Display::get_height() - worldmap->get_height())/2, 0)),
               Size(Math::min(Display::get_width(),  worldmap->get_width()),
                    Math::min(Display::get_height(), worldmap->get_height())));
 }
diff --git a/src/pingus/worldmap/worldmap_screen.hpp b/src/pingus/worldmap/worldmap_screen.hpp
index baef3b904..bd638f69b 100644
--- a/src/pingus/worldmap/worldmap_screen.hpp
+++ b/src/pingus/worldmap/worldmap_screen.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldmap/worldmap_story.cpp b/src/pingus/worldmap/worldmap_story.cpp
index 0b3ed947a..67eee7907 100644
--- a/src/pingus/worldmap/worldmap_story.cpp
+++ b/src/pingus/worldmap/worldmap_story.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -41,10 +41,10 @@ WorldmapStory::WorldmapStory(const FileReader& reader) :
   ResDescriptor desc;
   std::string text;
   std::string page_name;
-                
+
   // Read each page into the pages vector
   const std::vector<FileReader>& childs = all_pages.get_sections();
-  for(std::vector<FileReader>::const_iterator i = childs.begin(); 
+  for(std::vector<FileReader>::const_iterator i = childs.begin();
       i != childs.end(); ++i)
   {
     page_name = i->get_name();
diff --git a/src/pingus/worldmap/worldmap_story.hpp b/src/pingus/worldmap/worldmap_story.hpp
index 54a97dbc8..2afba3a12 100644
--- a/src/pingus/worldmap/worldmap_story.hpp
+++ b/src/pingus/worldmap/worldmap_story.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -21,7 +21,7 @@
 #include <vector>
 
 #include "pingus/res_descriptor.hpp"
-      
+
 class FileReader;
 
 class StoryPage
diff --git a/src/pingus/worldobj.cpp b/src/pingus/worldobj.cpp
index fa7f80163..f459e70e8 100644
--- a/src/pingus/worldobj.cpp
+++ b/src/pingus/worldobj.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobj.hpp b/src/pingus/worldobj.hpp
index fb051e7d0..1b0b910f6 100644
--- a/src/pingus/worldobj.hpp
+++ b/src/pingus/worldobj.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,7 +36,7 @@ class WorldObj
 protected:
   /** The World all WorldObjects live in. */
   static World*  world;
-  
+
 public:
   /** Set the world pointer for all world objects */
   static void   set_world(World*);
diff --git a/src/pingus/worldobj_factory.cpp b/src/pingus/worldobj_factory.cpp
index c501798c7..e701c4307 100644
--- a/src/pingus/worldobj_factory.cpp
+++ b/src/pingus/worldobj_factory.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -96,7 +96,7 @@ public:
 
   virtual std::vector<WorldObj*> create(const FileReader& reader) {
     std::vector<WorldObj*> group;
-    
+
     FileReader objects = reader.read_section("objects");
     std::vector<FileReader> sections = objects.get_sections();
     for(auto it = sections.begin(); it != sections.end(); ++it)
diff --git a/src/pingus/worldobj_factory.hpp b/src/pingus/worldobj_factory.hpp
index 8b01756c4..f489eefb4 100644
--- a/src/pingus/worldobj_factory.hpp
+++ b/src/pingus/worldobj_factory.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobj_renderer.cpp b/src/pingus/worldobj_renderer.cpp
index e17ed750a..e83a230a4 100644
--- a/src/pingus/worldobj_renderer.cpp
+++ b/src/pingus/worldobj_renderer.cpp
@@ -92,7 +92,7 @@ WorldObjRenderer::get_clip_rect() const
       rect.right  = std::max(img.right,  rect.right);
       rect.bottom = std::max(img.bottom, rect.bottom);
     }
-    
+
     return rect;
   }
 }
@@ -104,7 +104,7 @@ WorldObjRenderer::render_sprite(const ResDescriptor& desc,
   Surface surface = Resource::load_surface(desc);
 
   // FIXME: hack, should take that info from the resource file
-  blit_surface(surface, 
+  blit_surface(surface,
                static_cast<int>(pos.x) - surface.get_width()/2,
                static_cast<int>(pos.y) - surface.get_height());
 }
@@ -117,7 +117,7 @@ WorldObjRenderer::render_surface(const ResDescriptor& desc,
   Surface surface = Resource::load_surface(desc);
   for(int i = 0; i < repeat; ++i)
   {
-    blit_surface(surface, 
+    blit_surface(surface,
                  static_cast<int>(pos.x) + surface.get_width()*i,
                  static_cast<int>(pos.y));
   }
@@ -212,7 +212,7 @@ WorldObjRenderer::process_object_with_surface(const FileReader& reader)
 {
   Vector3f pos;
   ResDescriptor desc;
-    
+
   if (!(reader.read_vector("position", pos) &&
         reader.read_desc("surface", desc)))
   {
diff --git a/src/pingus/worldobj_renderer.hpp b/src/pingus/worldobj_renderer.hpp
index 2114279de..b354e7bf1 100644
--- a/src/pingus/worldobj_renderer.hpp
+++ b/src/pingus/worldobj_renderer.hpp
@@ -34,10 +34,10 @@ private:
 
   std::vector<DrawOp> m_draw_op;
   std::vector<Vector2i> m_translate_stack;
- 
+
 public:
   WorldObjRenderer();
-  
+
   Rect get_clip_rect() const;
   void process(const std::vector<FileReader>& readers);
   void process(const FileReader& reader);
diff --git a/src/pingus/worldobjs/conveyor_belt.cpp b/src/pingus/worldobjs/conveyor_belt.cpp
index bcfd5d7c3..ab22a6666 100644
--- a/src/pingus/worldobjs/conveyor_belt.cpp
+++ b/src/pingus/worldobjs/conveyor_belt.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/conveyor_belt.hpp b/src/pingus/worldobjs/conveyor_belt.hpp
index 9f4a40ae4..1cf3ac5e6 100644
--- a/src/pingus/worldobjs/conveyor_belt.hpp
+++ b/src/pingus/worldobjs/conveyor_belt.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/entrance.cpp b/src/pingus/worldobjs/entrance.cpp
index 98838d059..27840c09e 100644
--- a/src/pingus/worldobjs/entrance.cpp
+++ b/src/pingus/worldobjs/entrance.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/entrance.hpp b/src/pingus/worldobjs/entrance.hpp
index 147fdcb45..a450430ea 100644
--- a/src/pingus/worldobjs/entrance.hpp
+++ b/src/pingus/worldobjs/entrance.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/exit.cpp b/src/pingus/worldobjs/exit.cpp
index d00bbbf5c..3482835c1 100644
--- a/src/pingus/worldobjs/exit.cpp
+++ b/src/pingus/worldobjs/exit.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/exit.hpp b/src/pingus/worldobjs/exit.hpp
index 73dbd995a..220430c56 100644
--- a/src/pingus/worldobjs/exit.hpp
+++ b/src/pingus/worldobjs/exit.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/fake_exit.cpp b/src/pingus/worldobjs/fake_exit.cpp
index 8b183001e..bbcca34e2 100644
--- a/src/pingus/worldobjs/fake_exit.cpp
+++ b/src/pingus/worldobjs/fake_exit.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -68,12 +68,12 @@ FakeExit::catch_pingu (Pingu* pingu)
   {
     if (pingu->get_action() != ActionName::SPLASHED)
     {
-      if (!smashing) 
+      if (!smashing)
       {
         surface.restart();
         smashing = true;
       }
-        
+
       if (surface.get_current_frame() == 4)
         pingu->set_action(ActionName::SPLASHED);
     }
diff --git a/src/pingus/worldobjs/fake_exit.hpp b/src/pingus/worldobjs/fake_exit.hpp
index 98b9607d0..1dab71bd3 100644
--- a/src/pingus/worldobjs/fake_exit.hpp
+++ b/src/pingus/worldobjs/fake_exit.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/groundpiece.cpp b/src/pingus/worldobjs/groundpiece.cpp
index 9b91fb89a..0044622b3 100644
--- a/src/pingus/worldobjs/groundpiece.cpp
+++ b/src/pingus/worldobjs/groundpiece.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,7 +27,7 @@ Groundpiece::Groundpiece(const FileReader& reader) :
 {
   reader.read_vector("position", pos);
   reader.read_desc  ("surface",  desc);
-  
+
   gptype = Groundtype::GP_GROUND;
   reader.read_enum("type", gptype, &Groundtype::string_to_type);
 }
@@ -35,7 +35,7 @@ Groundpiece::Groundpiece(const FileReader& reader) :
 void
 Groundpiece::on_startup ()
 {
-  // FIXME: using a CollisionMask is kind of unneeded here 
+  // FIXME: using a CollisionMask is kind of unneeded here
   CollisionMask mask(desc);
 
   // FIXME: overdrawing of bridges and similar things aren't handled here
diff --git a/src/pingus/worldobjs/groundpiece.hpp b/src/pingus/worldobjs/groundpiece.hpp
index 63c769eaf..0ee2f3c4b 100644
--- a/src/pingus/worldobjs/groundpiece.hpp
+++ b/src/pingus/worldobjs/groundpiece.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/guillotine.cpp b/src/pingus/worldobjs/guillotine.cpp
index a28f295f9..4ec52c2f2 100644
--- a/src/pingus/worldobjs/guillotine.cpp
+++ b/src/pingus/worldobjs/guillotine.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -32,7 +32,7 @@ Guillotine::Guillotine(const FileReader& reader) :
   killing(false)
 {
   reader.read_vector("position", pos);
-  
+
   sprite_kill_right.set_play_loop(false);
   sprite_kill_left.set_play_loop(false);
   sprite_idle.set_play_loop(true);
diff --git a/src/pingus/worldobjs/guillotine.hpp b/src/pingus/worldobjs/guillotine.hpp
index dd85661e1..6354d4e5e 100644
--- a/src/pingus/worldobjs/guillotine.hpp
+++ b/src/pingus/worldobjs/guillotine.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -33,7 +33,7 @@ class Guillotine : public WorldObj
 {
 private:
   Sprite    sprite_kill_right;
-  Sprite    sprite_kill_left;  
+  Sprite    sprite_kill_left;
   Sprite    sprite_idle;
   Vector3f  pos;
   Direction direction;
diff --git a/src/pingus/worldobjs/hammer.cpp b/src/pingus/worldobjs/hammer.cpp
index e5b97b4e6..eb2301386 100644
--- a/src/pingus/worldobjs/hammer.cpp
+++ b/src/pingus/worldobjs/hammer.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/hammer.hpp b/src/pingus/worldobjs/hammer.hpp
index 863d36094..27bf54e04 100644
--- a/src/pingus/worldobjs/hammer.hpp
+++ b/src/pingus/worldobjs/hammer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/hotspot.cpp b/src/pingus/worldobjs/hotspot.cpp
index d6b0c4f00..c427d8b1f 100644
--- a/src/pingus/worldobjs/hotspot.cpp
+++ b/src/pingus/worldobjs/hotspot.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/hotspot.hpp b/src/pingus/worldobjs/hotspot.hpp
index 453bd02e8..effc7aa9d 100644
--- a/src/pingus/worldobjs/hotspot.hpp
+++ b/src/pingus/worldobjs/hotspot.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/ice_block.cpp b/src/pingus/worldobjs/ice_block.cpp
index d240302bb..4d20a2839 100644
--- a/src/pingus/worldobjs/ice_block.cpp
+++ b/src/pingus/worldobjs/ice_block.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -37,7 +37,7 @@ IceBlock::IceBlock(const FileReader& reader) :
   if (!reader.read_int("repeat", width))
   {
     log_warn("old 'width' tag used");
-    reader.read_int("width", width); 
+    reader.read_int("width", width);
   }
 }
 
diff --git a/src/pingus/worldobjs/ice_block.hpp b/src/pingus/worldobjs/ice_block.hpp
index 21cffba2d..85db73402 100644
--- a/src/pingus/worldobjs/ice_block.hpp
+++ b/src/pingus/worldobjs/ice_block.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/laser_exit.cpp b/src/pingus/worldobjs/laser_exit.cpp
index 65ecffb18..b2e938db8 100644
--- a/src/pingus/worldobjs/laser_exit.cpp
+++ b/src/pingus/worldobjs/laser_exit.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/laser_exit.hpp b/src/pingus/worldobjs/laser_exit.hpp
index a5ada4093..c4d539252 100644
--- a/src/pingus/worldobjs/laser_exit.hpp
+++ b/src/pingus/worldobjs/laser_exit.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/liquid.cpp b/src/pingus/worldobjs/liquid.cpp
index d035f5692..88d5526aa 100644
--- a/src/pingus/worldobjs/liquid.cpp
+++ b/src/pingus/worldobjs/liquid.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -73,7 +73,7 @@ Liquid::draw (SceneContext& gc)
 void
 Liquid::update()
 {
-  sur.update(0.033f); 
+  sur.update(0.033f);
 }
 
 } // namespace WorldObjs
diff --git a/src/pingus/worldobjs/liquid.hpp b/src/pingus/worldobjs/liquid.hpp
index 8528d68bb..88ceeeb02 100644
--- a/src/pingus/worldobjs/liquid.hpp
+++ b/src/pingus/worldobjs/liquid.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/rain_generator.cpp b/src/pingus/worldobjs/rain_generator.cpp
index a4499b3ad..d0acabee0 100644
--- a/src/pingus/worldobjs/rain_generator.cpp
+++ b/src/pingus/worldobjs/rain_generator.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/rain_generator.hpp b/src/pingus/worldobjs/rain_generator.hpp
index 4593adf78..4cb39e899 100644
--- a/src/pingus/worldobjs/rain_generator.hpp
+++ b/src/pingus/worldobjs/rain_generator.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/smasher.cpp b/src/pingus/worldobjs/smasher.cpp
index dab889f7a..4c31109e5 100644
--- a/src/pingus/worldobjs/smasher.cpp
+++ b/src/pingus/worldobjs/smasher.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -110,7 +110,7 @@ Smasher::on_startup ()
 {
   log_info("Drawing colmap entry");
   CollisionMask buf("traps/smasher_cmap");
-  world->put(buf, 
+  world->put(buf,
              static_cast<int>(pos.x),
              static_cast<int>(pos.y),
              Groundtype::GP_SOLID);
diff --git a/src/pingus/worldobjs/smasher.hpp b/src/pingus/worldobjs/smasher.hpp
index 8b567a6f6..e3b33ff3c 100644
--- a/src/pingus/worldobjs/smasher.hpp
+++ b/src/pingus/worldobjs/smasher.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/snow_generator.cpp b/src/pingus/worldobjs/snow_generator.cpp
index 9fa544d84..3964c2229 100644
--- a/src/pingus/worldobjs/snow_generator.cpp
+++ b/src/pingus/worldobjs/snow_generator.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/snow_generator.hpp b/src/pingus/worldobjs/snow_generator.hpp
index 051eb4c81..9aa7da7d8 100644
--- a/src/pingus/worldobjs/snow_generator.hpp
+++ b/src/pingus/worldobjs/snow_generator.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/solid_color_background.cpp b/src/pingus/worldobjs/solid_color_background.cpp
index 86b390f45..bbf036cf3 100644
--- a/src/pingus/worldobjs/solid_color_background.cpp
+++ b/src/pingus/worldobjs/solid_color_background.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/solid_color_background.hpp b/src/pingus/worldobjs/solid_color_background.hpp
index 9fa326b1a..82f32620d 100644
--- a/src/pingus/worldobjs/solid_color_background.hpp
+++ b/src/pingus/worldobjs/solid_color_background.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/spike.cpp b/src/pingus/worldobjs/spike.cpp
index 97a3a9dff..fe4132a6c 100644
--- a/src/pingus/worldobjs/spike.cpp
+++ b/src/pingus/worldobjs/spike.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -56,8 +56,8 @@ Spike::update()
   PinguHolder* holder = world->get_pingus();
   for (PinguIter pingu = holder->begin (); pingu != holder->end (); ++pingu)
     catch_pingu(*pingu);
-        
-  if (surface.get_current_frame() == surface.get_frame_count() - 1) 
+
+  if (surface.get_current_frame() == surface.get_frame_count() - 1)
     killing = false;
 }
 
diff --git a/src/pingus/worldobjs/spike.hpp b/src/pingus/worldobjs/spike.hpp
index e27c91f67..a2c9fca9e 100644
--- a/src/pingus/worldobjs/spike.hpp
+++ b/src/pingus/worldobjs/spike.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/starfield_background.cpp b/src/pingus/worldobjs/starfield_background.cpp
index 96634d904..e53e249c8 100644
--- a/src/pingus/worldobjs/starfield_background.cpp
+++ b/src/pingus/worldobjs/starfield_background.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/starfield_background.hpp b/src/pingus/worldobjs/starfield_background.hpp
index 0b802a480..dd15de40f 100644
--- a/src/pingus/worldobjs/starfield_background.hpp
+++ b/src/pingus/worldobjs/starfield_background.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/starfield_background_stars.cpp b/src/pingus/worldobjs/starfield_background_stars.cpp
index 8e75e36a3..527fbd2fc 100644
--- a/src/pingus/worldobjs/starfield_background_stars.cpp
+++ b/src/pingus/worldobjs/starfield_background_stars.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/starfield_background_stars.hpp b/src/pingus/worldobjs/starfield_background_stars.hpp
index fc59ea295..627d68aca 100644
--- a/src/pingus/worldobjs/starfield_background_stars.hpp
+++ b/src/pingus/worldobjs/starfield_background_stars.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/surface_background.cpp b/src/pingus/worldobjs/surface_background.cpp
index ea251e9a0..38246b675 100644
--- a/src/pingus/worldobjs/surface_background.cpp
+++ b/src/pingus/worldobjs/surface_background.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -129,7 +129,7 @@ SurfaceBackground::update()
   if (!bg_sprite || globals::static_graphics)
     return;
 
-  if (scroll_x) 
+  if (scroll_x)
   {
     scroll_ox += scroll_x;
 
@@ -139,7 +139,7 @@ SurfaceBackground::update()
       scroll_ox += static_cast<float>(bg_sprite.get_width());
   }
 
-  if (scroll_y) 
+  if (scroll_y)
   {
     scroll_oy += scroll_y;
 
@@ -155,7 +155,7 @@ SurfaceBackground::draw (SceneContext& gc)
 {
   if (!bg_sprite)
     return;
-  
+
   Vector2i offset = gc.color().world_to_screen(Vector2i(0,0));
 
   offset.x -= gc.color().get_rect().left;
diff --git a/src/pingus/worldobjs/surface_background.hpp b/src/pingus/worldobjs/surface_background.hpp
index 20eb943e4..5f5b8d1f8 100644
--- a/src/pingus/worldobjs/surface_background.hpp
+++ b/src/pingus/worldobjs/surface_background.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/switch_door_door.cpp b/src/pingus/worldobjs/switch_door_door.cpp
index 4f71387fa..9fb041bf8 100644
--- a/src/pingus/worldobjs/switch_door_door.cpp
+++ b/src/pingus/worldobjs/switch_door_door.cpp
@@ -47,7 +47,7 @@ SwitchDoorDoor::on_startup()
                            static_cast<int>(door_pos.x),
                            static_cast<int>(door_pos.y),
                            Groundtype::GP_SOLID);
-  
+
   for (int i=0; i < door_height; ++i)
     world->get_colmap()->put(door_tile_cmap,
                              static_cast<int>(door_pos.x),
@@ -62,7 +62,7 @@ SwitchDoorDoor::draw(SceneContext& gc)
 {
   gc.color().draw (door_box, door_pos);
   for (int i = 0; i < current_door_height; ++i)
-    gc.color().draw(door_tile, Vector3f(door_pos.x, 
+    gc.color().draw(door_tile, Vector3f(door_pos.x,
                                         door_pos.y + static_cast<float>(i * door_tile.get_height() + door_box.get_height())));
 }
 
diff --git a/src/pingus/worldobjs/switch_door_switch.cpp b/src/pingus/worldobjs/switch_door_switch.cpp
index 7bf3f7579..b7d89febf 100644
--- a/src/pingus/worldobjs/switch_door_switch.cpp
+++ b/src/pingus/worldobjs/switch_door_switch.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/switch_door_switch.hpp b/src/pingus/worldobjs/switch_door_switch.hpp
index 73e49a779..eb175c64c 100644
--- a/src/pingus/worldobjs/switch_door_switch.hpp
+++ b/src/pingus/worldobjs/switch_door_switch.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/teleporter.cpp b/src/pingus/worldobjs/teleporter.cpp
index eab7e94ad..ac1c3ada7 100644
--- a/src/pingus/worldobjs/teleporter.cpp
+++ b/src/pingus/worldobjs/teleporter.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/teleporter.hpp b/src/pingus/worldobjs/teleporter.hpp
index 2738ac2a9..b5adf2009 100644
--- a/src/pingus/worldobjs/teleporter.hpp
+++ b/src/pingus/worldobjs/teleporter.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/teleporter_target.cpp b/src/pingus/worldobjs/teleporter_target.cpp
index 7add32a1e..1f4dd7d22 100644
--- a/src/pingus/worldobjs/teleporter_target.cpp
+++ b/src/pingus/worldobjs/teleporter_target.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/pingus/worldobjs/teleporter_target.hpp b/src/pingus/worldobjs/teleporter_target.hpp
index da550b89d..f3950aca6 100644
--- a/src/pingus/worldobjs/teleporter_target.hpp
+++ b/src/pingus/worldobjs/teleporter_target.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -36,7 +36,7 @@ public:
   float get_z_pos () const;
   void set_pos(const Vector3f& p) { pos = p; }
   Vector3f get_pos() const { return pos; }
- 
+
   void  teleporter_used();
 private:
   TeleporterTarget (const TeleporterTarget&);
diff --git a/src/util/command_line.cpp b/src/util/command_line.cpp
index ef8a868e4..a525500a5 100644
--- a/src/util/command_line.cpp
+++ b/src/util/command_line.cpp
@@ -70,8 +70,8 @@ void CommandLine::add_group(const std::string& grouptopic)
 }
 
 void CommandLine::add_option(
-  int key, 
-  const std::string& long_option, 
+  int key,
+  const std::string& long_option,
   const std::string& argument,
   const std::string& help,
   bool visible)
diff --git a/src/util/command_line.hpp b/src/util/command_line.hpp
index 1e2c20446..021efb1f3 100644
--- a/src/util/command_line.hpp
+++ b/src/util/command_line.hpp
@@ -60,7 +60,7 @@ class CommandLine_Generic;
 //- <p>program -f FILENAME</p>
 //-
 //- <p>Concatenating short arguments is also supported, so that:</p>
-//- 
+//-
 //- <p>program -f -a -b FILENAME</p>
 //-
 //- <p>is equivalent to:</p>
@@ -70,7 +70,7 @@ class CommandLine_Generic;
 //- <p>Non-option arguments (aka rest arguments) are supported as well:</p>
 //-
 //- <p>program SOMEFILE SOMEOTHERFILE ...</p>
-//- 
+//-
 //- <p>To avoid ambiguity when a filename starts with '-' CommandLine stops
 //- parsing arguments after the first encounter of a '--', so in</p>
 //-
@@ -113,11 +113,11 @@ public:
   //: Adds extra documentation to the help output, should only be
   //: used at the beginning or at the end, to
   void add_doc(const std::string& doc);
-        
+
   //: Starts a new group of options, the grouptopic gets printed
   //: above the group of options in the print_help() output
   void add_group(const std::string& grouptopic);
-  
+
   //: Adds a option to the parser
   //param key: a letter for a short-option or a numeric value
   //param key: larger than 255 that identifies the option
@@ -133,11 +133,11 @@ public:
   //param visible: than would only clutter the help output
   void add_option(
     int key,
-    const std::string& long_option, 
+    const std::string& long_option,
     const std::string& argument,
     const std::string& help,
     bool visible = true);
-        
+
   //: Parse the options arcording to the options added with
   //: add_option(), result of the parsing is accessible via
   //: next() and get_key()/get_argument()
diff --git a/src/util/command_line_generic.cpp b/src/util/command_line_generic.cpp
index a457cd533..9a0f6f947 100644
--- a/src/util/command_line_generic.cpp
+++ b/src/util/command_line_generic.cpp
@@ -46,29 +46,29 @@ CommandLine_Generic::CommandLine_Generic() :
   options(),
   parsed_options(),
   current_option()
-{  
+{
 }
 
 void CommandLine_Generic::parse_args(int argc, char** argv)
 {
   programm = argv[0];
 
-  for(int i = 1; i < argc; ++i) 
+  for(int i = 1; i < argc; ++i)
   {
-    if (argv[i][0] == '-') 
+    if (argv[i][0] == '-')
     {
-      if (argv[i][1] == '-') 
+      if (argv[i][1] == '-')
       {
         // We got a long option
-        if (argv[i][2] == '\0') { 
+        if (argv[i][2] == '\0') {
           // Got a '--', so we stop evaluating arguments
           ++i;
-          while(i < argc) 
+          while(i < argc)
           {
             read_option(CommandLine::REST_ARG, argv[i]);
             ++i;
           }
-        } 
+        }
         else
         {
           std::string opt = argv[i] + 2;
@@ -77,12 +77,12 @@ void CommandLine_Generic::parse_args(int argc, char** argv)
 
           std::string::size_type pos = opt.find('=');
 
-          if (pos != std::string::npos) 
+          if (pos != std::string::npos)
           {
             long_opt = opt.substr(0, pos);
             long_opt_arg = opt.substr(pos+1);
           }
-          else 
+          else
           {
             long_opt = opt;
           }
@@ -90,26 +90,26 @@ void CommandLine_Generic::parse_args(int argc, char** argv)
           // Long Option
           Option* option = lookup_long_option(long_opt);
 
-          if (option) 
+          if (option)
           {
-            if (option->argument.empty()) 
+            if (option->argument.empty())
             {
               read_option(option->key, "");
-            } 
+            }
             else
             {
-              if (pos != std::string::npos) 
+              if (pos != std::string::npos)
               {
                 read_option(option->key, long_opt_arg);
               }
               else
-              {            
-                if (i == argc - 1) 
+              {
+                if (i == argc - 1)
                 {
-                  raise_exception(std::runtime_error, 
+                  raise_exception(std::runtime_error,
                                   "option '" << std::string(argv[i]) << "' requires an argument");
                 }
-                else 
+                else
                 {
                   read_option(option->key, argv[i + 1]);
                   ++i;
@@ -122,28 +122,28 @@ void CommandLine_Generic::parse_args(int argc, char** argv)
             raise_exception(std::runtime_error, "unrecognized option '" << std::string(argv[i]) << "'");
           }
         }
-      } 
-      else 
+      }
+      else
       {
         // We got a short option
         char* p = argv[i] + 1;
-          
+
         if (*p != '\0') {
           // Handle option chains
-          while (*p) 
+          while (*p)
           {
             // Short option(s)
             Option* option = lookup_short_option(*p);
 
-            if (option) 
+            if (option)
             {
-              if (option->argument.empty()) 
+              if (option->argument.empty())
               {
                 read_option(option->key, "");
-              } 
-              else 
+              }
+              else
               {
-                if (i == argc - 1 || *(p+1) != '\0') 
+                if (i == argc - 1 || *(p+1) != '\0')
                 {
                   // No more arguments
                   raise_exception(std::runtime_error, "option requires an argument -- " << std::string(1, *p));
@@ -154,20 +154,20 @@ void CommandLine_Generic::parse_args(int argc, char** argv)
                   ++i;
                 }
               }
-            } 
-            else 
+            }
+            else
             {
               raise_exception(std::runtime_error, "invalid option -- " << std::string(1, *p));
             }
-            ++p; 
+            ++p;
           }
-        } 
+        }
         else
         {
           read_option(CommandLine::REST_ARG, "-");
-        } 
+        }
       }
-    } 
+    }
     else
     {
       read_option(CommandLine::REST_ARG, argv[i]);
@@ -200,7 +200,7 @@ CommandLine_Generic::Option *CommandLine_Generic::lookup_long_option(const std::
 void CommandLine_Generic::read_option(int key, const std::string& argument)
 {
   ParsedOption parsed_option;
-  
+
   parsed_option.key = key;
   parsed_option.argument = argument;
 
@@ -214,31 +214,31 @@ void CommandLine_Generic::print_help()
   {
     if (i->visible)
     {
-      if (i->key == USAGE) 
+      if (i->key == USAGE)
       {
-        if (first_usage) 
+        if (first_usage)
         {
-          std::cout << "Usage: " << programm << " " <<  i->help << std::endl; 
+          std::cout << "Usage: " << programm << " " <<  i->help << std::endl;
           first_usage = false;
         }
         else
         {
-          std::cout << "or:    " << programm << " " << i->help << std::endl; 
+          std::cout << "or:    " << programm << " " << i->help << std::endl;
         }
-      } 
-      else if (i->key == GROUP) 
+      }
+      else if (i->key == GROUP)
       {
         if (i != options.begin())
           std::cout << std::endl;
         std::cout << i->help << std::endl;
       }
-      else if (i->key == DOC) 
+      else if (i->key == DOC)
       {
         if (i != options.begin())
           std::cout << std::endl;
         std::cout << i->help << std::endl;
       }
-      else 
+      else
       {
         char option[256]   = { 0 };
         char argument[256] = { 0 };
@@ -258,7 +258,7 @@ void CommandLine_Generic::print_help()
             snprintf(argument, 256, "=%s", i->argument.c_str());
         }
 
-        std::cout << "  " 
+        std::cout << "  "
                   << std::setiosflags(std::ios::left) << std::setw(help_indent)
                   << (std::string(option) + std::string(argument)) << std::setw(0)
                   << " " << i->help << std::endl;
@@ -276,7 +276,7 @@ void CommandLine_Generic::add_usage(const std::string& usage)
   option.help         = usage;
   option.visible      = true;
 
-  options.push_back(option);   
+  options.push_back(option);
 }
 
 void CommandLine_Generic::add_doc(const std::string& grouptopic)
@@ -287,7 +287,7 @@ void CommandLine_Generic::add_doc(const std::string& grouptopic)
   option.help         = grouptopic;
   option.visible      = true;
 
-  options.push_back(option);  
+  options.push_back(option);
 }
 
 void CommandLine_Generic::add_group(const std::string& grouptopic)
@@ -298,11 +298,11 @@ void CommandLine_Generic::add_group(const std::string& grouptopic)
   option.help         = grouptopic;
   option.visible      = true;
 
-  options.push_back(option);  
+  options.push_back(option);
 }
 
-void CommandLine_Generic::add_option(int key, 
-                                     const std::string& long_option, 
+void CommandLine_Generic::add_option(int key,
+                                     const std::string& long_option,
                                      const std::string& argument,
                                      const std::string& help,
                                      bool visible)
@@ -320,7 +320,7 @@ void CommandLine_Generic::add_option(int key,
 
 bool CommandLine_Generic::next()
 {
-  if (current_option == parsed_options.end()) 
+  if (current_option == parsed_options.end())
   {
     (current_option = parsed_options.begin());
     return current_option != parsed_options.end();
diff --git a/src/util/command_line_generic.hpp b/src/util/command_line_generic.hpp
index ce95427d1..b776381de 100644
--- a/src/util/command_line_generic.hpp
+++ b/src/util/command_line_generic.hpp
@@ -43,7 +43,7 @@ private:
 
   std::string programm;
 
-  struct Option 
+  struct Option
   {
     int key;
     std::string help;
@@ -59,7 +59,7 @@ private:
       visible()
     {}
   };
-  
+
   typedef std::vector<Option> Options;
   Options options;
 
@@ -84,7 +84,7 @@ private:
     USAGE     = -5
   };
 
-public:  
+public:
   CommandLine_Generic();
 
   void set_help_indent(int i) { help_indent = i; }
@@ -92,16 +92,16 @@ public:
   void add_usage(const std::string& usage);
   void add_doc(const std::string& doc);
   void add_group(const std::string& grouptopic);
-  
+
   void add_option(int key,
-                  const std::string& long_option, 
+                  const std::string& long_option,
                   const std::string& argument,
                   const std::string& help,
                   bool visible = true);
 
   void parse_args(int argc, char** argv);
   void print_help();
-  
+
   bool next();
   int get_key();
   std::string get_argument();
diff --git a/src/util/file_reader.cpp b/src/util/file_reader.cpp
index 6fd48f4af..50a1f7a0e 100644
--- a/src/util/file_reader.cpp
+++ b/src/util/file_reader.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -156,7 +156,7 @@ FileReader::read_rect(const char* name, Rect& value)    const
   if (impl.get())
     return impl->read_rect(name, value);
   else
-    return false; 
+    return false;
 }
 
 bool
diff --git a/src/util/file_reader.hpp b/src/util/file_reader.hpp
index 8b9c6a0d6..d82d907e1 100644
--- a/src/util/file_reader.hpp
+++ b/src/util/file_reader.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/file_reader_impl.hpp b/src/util/file_reader_impl.hpp
index ed711fe30..a575e09fe 100644
--- a/src/util/file_reader_impl.hpp
+++ b/src/util/file_reader_impl.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/file_writer.hpp b/src/util/file_writer.hpp
index 39ab14ee9..1e48a01b0 100644
--- a/src/util/file_writer.hpp
+++ b/src/util/file_writer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/line_iterator.cpp b/src/util/line_iterator.cpp
index 46d1e740b..8e282f53e 100644
--- a/src/util/line_iterator.cpp
+++ b/src/util/line_iterator.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,7 +28,7 @@ LineIterator::LineIterator(std::string::const_iterator first_,
   : first(first_),
     last(last_),
     line_end(first_)
-{  
+{
 }
 
 bool
@@ -42,7 +42,7 @@ LineIterator::next()
   {
     if (first != line_end)
       first = line_end + 1;
-      
+
     do {
       ++line_end;
     } while(line_end != last && *line_end != '\n');
diff --git a/src/util/line_iterator.hpp b/src/util/line_iterator.hpp
index 91ff9af92..087526ee6 100644
--- a/src/util/line_iterator.hpp
+++ b/src/util/line_iterator.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -22,7 +22,7 @@
 /** Splits a given string at newlines, a new line at the end of the
  *  string is ignored, others are returned as empty lines. Newlines
  *  aren't included in the returned string.Use via:
- * 
+ *
  *  LineIterator it("Hello\nWorld);
  *  while(it.next())
  *    std::cout << it.get() << std::endl;
diff --git a/src/util/log.hpp b/src/util/log.hpp
index 80ec56f31..6997e8717 100644
--- a/src/util/log.hpp
+++ b/src/util/log.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/memory_pool.hpp b/src/util/memory_pool.hpp
index a4e0c6507..259d2c165 100644
--- a/src/util/memory_pool.hpp
+++ b/src/util/memory_pool.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -33,11 +33,11 @@ private:
 
   typedef std::vector<char*> Chunks;
   Chunks chunks;
-  
+
   size_t chunk_size;
   size_t next_free;
-  
-  char* allocate(size_t size) 
+
+  char* allocate(size_t size)
   {
     assert(size <= chunk_size);
 
@@ -48,13 +48,13 @@ private:
       chunks.push_back(chunk);
       next_free = 0;
     }
-    
+
     char* ptr = chunks.back() + next_free;
     next_free += size;
     return ptr;
   }
-  
-  T* keep(T* t) 
+
+  T* keep(T* t)
   {
     objects.push_back(t);
     return t;
@@ -68,7 +68,7 @@ public:
     next_free(0)
   {}
 
-  ~MemoryPool() 
+  ~MemoryPool()
   {
     clear();
   }
@@ -90,15 +90,15 @@ public:
     next_free = 0;
   }
 
-  template<class C> 
+  template<class C>
   T* create() { return keep(new (allocate(sizeof(C))) C()); }
   template<class C, class Arg1>
   T* create(const Arg1& arg1) { return keep(new (allocate(sizeof(C))) C(arg1)); }
-  template<class C, class Arg1, class Arg2> 
+  template<class C, class Arg1, class Arg2>
   T* create(const Arg1& arg1, const Arg2& arg2) { return keep(new (allocate(sizeof(C))) C(arg1, arg2)); }
-  template<class C, class Arg1, class Arg2, class Arg3> 
+  template<class C, class Arg1, class Arg2, class Arg3>
   T* create(const Arg1& arg1, const Arg2& arg2, const Arg3& arg3) { return keep(new (allocate(sizeof(C))) C(arg1, arg2, arg3)); }
-  template<class C, class Arg1, class Arg2, class Arg3, class Arg4> 
+  template<class C, class Arg1, class Arg2, class Arg3, class Arg4>
   T* create(const Arg1& arg1, const Arg2& arg2, const Arg3& arg3, const Arg4& arg4) { return keep(new (allocate(sizeof(C))) C(arg1, arg2, arg3, arg4)); }
 
 private:
diff --git a/src/util/overrride_file_reader.cpp b/src/util/overrride_file_reader.cpp
index 314880342..a7e73fed8 100644
--- a/src/util/overrride_file_reader.cpp
+++ b/src/util/overrride_file_reader.cpp
@@ -33,7 +33,7 @@ public:
   {
   }
 
-  std::string get_name() const 
+  std::string get_name() const
   {
     return m_reader.get_name();
   }
diff --git a/src/util/pathname.cpp b/src/util/pathname.cpp
index db0c0e0e2..eaed79449 100644
--- a/src/util/pathname.cpp
+++ b/src/util/pathname.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -70,7 +70,7 @@ Pathname::get_sys_path() const
   {
     case SYSTEM_PATH:
       return pathname;
-        
+
     case DATA_PATH:
       return g_path_manager.complete(pathname);
 
@@ -86,7 +86,7 @@ Pathname::get_sys_path() const
 std::string
 Pathname::get_raw_path() const
 {
-  return pathname; 
+  return pathname;
 }
 
 Pathname::Type
@@ -119,7 +119,7 @@ Pathname::str() const
   switch(type)
   {
     case Pathname::INVALID:
-      return "invalid://" + pathname; 
+      return "invalid://" + pathname;
 
     case Pathname::DATA_PATH:
       return "datadir://" + pathname;
@@ -127,7 +127,7 @@ Pathname::str() const
     case Pathname::SYSTEM_PATH:
       return "system://" + pathname;
 
-    default: 
+    default:
       assert(!"never reached");
   }
   return std::string();
@@ -168,7 +168,7 @@ Pathname::opendir(const std::string& pattern) const
             result.insert(Pathname(Pathname::join(pathname, it->name), Pathname::DATA_PATH));
           }
         }
-        catch(const std::exception& err) 
+        catch(const std::exception& err)
         {
           log_info("%1%", err.what());
         }
@@ -205,7 +205,7 @@ Pathname::opendir_recursive(std::vector<Pathname>& result) const
     case Pathname::INVALID:
       break;
 
-    case Pathname::DATA_PATH: {     
+    case Pathname::DATA_PATH: {
       // collect all paths
       std::vector<std::string> paths;
       {
@@ -214,7 +214,7 @@ Pathname::opendir_recursive(std::vector<Pathname>& result) const
         paths.insert(paths.end(), lst.begin(), lst.end());
 
         // normalize all paths
-        std::transform(paths.begin(), paths.end(), 
+        std::transform(paths.begin(), paths.end(),
                        paths.begin(), System::normalize_path);
       }
 
@@ -231,7 +231,7 @@ Pathname::opendir_recursive(std::vector<Pathname>& result) const
       }
       break;
     }
-      
+
     case Pathname::SYSTEM_PATH: {
       auto lst = System::opendir_recursive(pathname);
       for(auto it = lst.begin(); it != lst.end(); ++it)
@@ -266,7 +266,7 @@ std::ostream& operator<< (std::ostream& os, const Pathname& p)
     case Pathname::SYSTEM_PATH:
       return os << "system://" << p.get_raw_path();
 
-    default: 
+    default:
       assert(!"never reached");
   }
   return os;
@@ -289,7 +289,7 @@ Pathname::operator<(const Pathname& rhs) const
   {
     return false;
   }
-  else 
+  else
   {
     return pathname < rhs.pathname;
   }
diff --git a/src/util/pathname.hpp b/src/util/pathname.hpp
index c30df0a83..157643198 100644
--- a/src/util/pathname.hpp
+++ b/src/util/pathname.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -25,22 +25,22 @@
  *  path_manager from the rest of the code. */
 class Pathname
 {
-public: 
+public:
   /** Generate a temporary filename suitable for temporary files */
   static Pathname tmpfile(const std::string& prefix = "");
 
   static std::string join(const std::string& lhs, const std::string& rhs);
 
-  enum Type { 
+  enum Type {
     // The given pathname refers to the native file system
-    SYSTEM_PATH, 
+    SYSTEM_PATH,
 
     // The given pathname refers to a file in the datadir
     DATA_PATH,
 
     INVALID
   };
-  
+
 private:
   std::string pathname;
   Type type;
@@ -48,7 +48,7 @@ private:
   void opendir_recursive(std::vector<Pathname>& result) const;
 
 public:
-  Pathname();  
+  Pathname();
   explicit Pathname(const std::string& pathname, Type type = DATA_PATH);
 
   std::vector<Pathname> opendir(const std::string& pattern = "*") const;
@@ -60,7 +60,7 @@ public:
   /** Return the pathname in a form suitable for the native file
       system (i.e. can be passed to ifstream and friends */
   std::string get_sys_path() const;
-  
+
   /** Return the pathname as is */
   std::string get_raw_path() const;
 
@@ -73,7 +73,7 @@ public:
   bool absolute() const;
 
   bool empty() const;
-  
+
   bool exist() const;
 
   uint64_t mtime() const;
diff --git a/src/util/sexpr_file_reader.cpp b/src/util/sexpr_file_reader.cpp
index 5a3fb7579..e3a10299e 100644
--- a/src/util/sexpr_file_reader.cpp
+++ b/src/util/sexpr_file_reader.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,12 +27,12 @@ class SExprFileReaderImpl: public FileReaderImpl
 public:
   std::shared_ptr<lisp::Lisp> sexpr;
 
-  SExprFileReaderImpl(std::shared_ptr<lisp::Lisp> sexpr_) 
+  SExprFileReaderImpl(std::shared_ptr<lisp::Lisp> sexpr_)
     : sexpr(sexpr_)
   {
     assert(sexpr->get_type() == lisp::Lisp::TYPE_LIST &&
            sexpr->get_list_size() >= 1);
-    
+
     for(size_t i = 1; i < sexpr->get_list_size(); ++i)
     { // iterate over subsections
       sexpr->get_list_elem(i);
@@ -44,12 +44,12 @@ public:
     // FIXME: Do we have to free the lisp pointer here or outside of the code?
   }
 
-  std::string get_name() const 
+  std::string get_name() const
   {
     return sexpr->get_list_elem(0)->get_symbol();
   }
 
-  bool read_int   (const char* name, int& v) const 
+  bool read_int   (const char* name, int& v) const
   {
     std::shared_ptr<lisp::Lisp> item = get_subsection_item(name);
     if (item && item->get_type() == lisp::Lisp::TYPE_INT)
@@ -60,7 +60,7 @@ public:
     return false;
   }
 
-  bool read_float (const char* name, float& v) const 
+  bool read_float (const char* name, float& v) const
   {
     std::shared_ptr<lisp::Lisp> item = get_subsection_item(name);
     if (item)
@@ -83,7 +83,7 @@ public:
     return false;
   }
 
-  bool read_bool  (const char* name, bool& v) const 
+  bool read_bool  (const char* name, bool& v) const
   {
     std::shared_ptr<lisp::Lisp> item = get_subsection_item(name);
     if (item && item->get_type() == lisp::Lisp::TYPE_BOOL)
@@ -99,7 +99,7 @@ public:
     return false;
   }
 
-  bool read_string(const char* name, std::string& v) const 
+  bool read_string(const char* name, std::string& v) const
   {
     std::shared_ptr<lisp::Lisp> sub = get_subsection(name);
     if (sub)
@@ -131,7 +131,7 @@ public:
                    sub->get_list_elem(2)->get_float(),
                    sub->get_list_elem(3)->get_float());
       return true;
-    }    
+    }
     return false;
   }
 
@@ -143,7 +143,7 @@ public:
       v.width  = sub->get_list_elem(1)->get_int();
       v.height = sub->get_list_elem(2)->get_int();
       return true;
-    }    
+    }
     return false;
   }
 
@@ -155,7 +155,7 @@ public:
       v.x = sub->get_list_elem(1)->get_int();
       v.y = sub->get_list_elem(2)->get_int();
       return true;
-    }    
+    }
     return false;
   }
 
@@ -169,10 +169,10 @@ public:
       rect.right  = sub->get_list_elem(3)->get_int();
       rect.bottom = sub->get_list_elem(4)->get_int();
       return true;
-    }    
+    }
     return false;
   }
-  
+
   bool read_colorf(const char* name, Color& v) const
   {
     std::shared_ptr<lisp::Lisp> sub = get_subsection(name);
@@ -201,7 +201,7 @@ public:
     return false;
   }
 
-  bool read_desc  (const char* name, ResDescriptor& v) const 
+  bool read_desc  (const char* name, ResDescriptor& v) const
   {
     std::shared_ptr<lisp::Lisp> sub = get_subsection(name);
     if (sub)
@@ -214,7 +214,7 @@ public:
     return false;
   }
 
-  bool read_section(const char* name, FileReader& v) const 
+  bool read_section(const char* name, FileReader& v) const
   {
     std::shared_ptr<lisp::Lisp> cur = get_subsection(name);
     if (cur)
@@ -225,7 +225,7 @@ public:
     return false;
   }
 
-  std::vector<FileReader> get_sections() const 
+  std::vector<FileReader> get_sections() const
   {
     std::vector<FileReader> lst;
     for(size_t i = 1; i < sexpr->get_list_size(); ++i)
@@ -235,7 +235,7 @@ public:
     return lst;
   }
 
-  std::vector<std::string> get_section_names() const 
+  std::vector<std::string> get_section_names() const
   {
     std::vector<std::string> lst;
 
@@ -268,7 +268,7 @@ private:
         return sub;
     }
     return std::shared_ptr<lisp::Lisp>();
-  } 
+  }
 
 };
 
diff --git a/src/util/sexpr_file_reader.hpp b/src/util/sexpr_file_reader.hpp
index 8970a4cec..e41b31e5e 100644
--- a/src/util/sexpr_file_reader.hpp
+++ b/src/util/sexpr_file_reader.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/sexpr_file_writer.cpp b/src/util/sexpr_file_writer.cpp
index 3236af9cb..6a333ea71 100644
--- a/src/util/sexpr_file_writer.cpp
+++ b/src/util/sexpr_file_writer.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -21,7 +21,7 @@
 #include "util/pathname.hpp"
 
 SExprFileWriter::SExprFileWriter(std::ostream& out_) :
-  out(&out_), 
+  out(&out_),
   level(0)
 {
 }
@@ -69,9 +69,9 @@ void
 SExprFileWriter::write_colorf(const char* name, const Color& color)
 {
   (*out) << "\n" << indent() << "(" << name << " "
-         << static_cast<float>(color.r)/255.0f << " " 
+         << static_cast<float>(color.r)/255.0f << " "
          << static_cast<float>(color.g)/255.0f << " "
-         << static_cast<float>(color.b)/255.0f << " " 
+         << static_cast<float>(color.b)/255.0f << " "
          << static_cast<float>(color.a)/255.0f << ")";
 }
 
@@ -79,9 +79,9 @@ void
 SExprFileWriter::write_colori(const char* name, const Color& color)
 {
   (*out) << "\n" << indent() << "(" << name << " "
-         << static_cast<int>(color.r) << " " 
+         << static_cast<int>(color.r) << " "
          << static_cast<int>(color.g) << " "
-         << static_cast<int>(color.b) << " " 
+         << static_cast<int>(color.b) << " "
          << static_cast<int>(color.a) << ")";
 }
 
@@ -99,7 +99,7 @@ SExprFileWriter::write_string(const char* name, const std::string& value)
   std::string::size_type pos;
 
   std::map<std::string, std::string> replacements;
-        
+
   replacements["\""] = "\\\"";
   replacements["\\"] = "\\\\";
 
@@ -112,7 +112,7 @@ SExprFileWriter::write_string(const char* name, const std::string& value)
       new_value.replace(pos, 1, i->second);
     }
   }
-        
+
   (*out) << "\n" << indent() << "(" << name << " \"" << new_value << "\")";
 }
 
diff --git a/src/util/sexpr_file_writer.hpp b/src/util/sexpr_file_writer.hpp
index 3bd7b1289..f73ddefd0 100644
--- a/src/util/sexpr_file_writer.hpp
+++ b/src/util/sexpr_file_writer.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/string_util.cpp b/src/util/string_util.cpp
index 8430331ea..c2e51693d 100644
--- a/src/util/string_util.cpp
+++ b/src/util/string_util.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
diff --git a/src/util/string_util.hpp b/src/util/string_util.hpp
index 347c41965..a4b8cbb1b 100644
--- a/src/util/string_util.hpp
+++ b/src/util/string_util.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -27,7 +27,7 @@ public:
   static std::string to_upper(const std::string &str);
 
   template<class T>
-  static T to(const std::string& s, const T& val = T()) 
+  static T to(const std::string& s, const T& val = T())
   {
     T tmp = val;
     std::istringstream str(s);
@@ -36,7 +36,7 @@ public:
   }
 
   template<class T>
-  static bool from_string(const std::string& s, T& t) 
+  static bool from_string(const std::string& s, T& t)
   {
     std::istringstream str(s);
     T tmp;
@@ -54,7 +54,7 @@ public:
   }
 
   template<class T>
-  static std::string to_string(const T& t) 
+  static std::string to_string(const T& t)
   {
     std::ostringstream str;
     str << t;
diff --git a/src/util/system.cpp b/src/util/system.cpp
index 702f4385b..7b6988c0e 100644
--- a/src/util/system.cpp
+++ b/src/util/system.cpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -121,7 +121,7 @@ System::opendir(const std::string& pathname, const std::string& pattern)
       {
         struct stat buf;
         stat((Pathname::join(pathname, de->d_name)).c_str (), &buf);
-        
+
         if (strcmp(de->d_name, "..") != 0 &&
             strcmp(de->d_name, ".") != 0)
         {
@@ -179,7 +179,7 @@ std::vector<std::string>
 System::opendir_recursive(const std::string& pathname)
 {
   std::vector<std::string> lst;
-  try 
+  try
   {
     Directory dir = opendir(pathname);
     for(auto it = dir.begin(); it != dir.end(); ++it)
@@ -247,7 +247,7 @@ System::create_dir(std::string directory)
 {
 #ifndef WIN32
   log_info("System::create_dir: %1%", directory);
-  
+
   if (!exist(directory))
   {
     if (mkdir(directory.c_str(), S_IRUSR | S_IWUSR | S_IXUSR | S_IRGRP | S_IXGRP) != 0)
@@ -268,13 +268,13 @@ System::create_dir(std::string directory)
     }
     else if (dwError == ERROR_PATH_NOT_FOUND)
     {
-      raise_exception(std::runtime_error, 
+      raise_exception(std::runtime_error,
                       "CreateDirectory: " << directory <<
                       ": One or more intermediate directories do not exist; this function will only create the final directory in the path.");
     }
     else
     {
-      raise_exception(std::runtime_error, 
+      raise_exception(std::runtime_error,
                       "CreateDirectory: " << directory << ": failed with error " << StringUtil::to_string(dwError));
     }
   }
@@ -306,7 +306,7 @@ System::find_userdir()
 
 #elif __APPLE__
 	char* homedir = getenv("HOME");
-	
+
 	if (homedir)
 	{
 		return std::string(homedir) + "/Library/Application Support/pingus/";
@@ -315,7 +315,7 @@ System::find_userdir()
 	{
 		raise_exception(std::runtime_error, "Environment variable $HOME not set, fix that and start again.");
 	}
-	
+
 #else /* !WIN32 */
   // If ~/.pingus/ exist, use that for backward compatibility reasons,
   // if it does not, use $XDG_CONFIG_HOME, see:
@@ -332,7 +332,7 @@ System::find_userdir()
       }
     }
   }
-  
+
   char* config_dir = getenv("XDG_CONFIG_HOME");
   if (!config_dir || strcmp(config_dir, "") == 0)
   {
@@ -343,13 +343,13 @@ System::find_userdir()
     }
     else
     {
-      raise_exception(std::runtime_error, "can't find userdir as neither $HOME nor $XDG_CONFIG_HOME is set");      
+      raise_exception(std::runtime_error, "can't find userdir as neither $HOME nor $XDG_CONFIG_HOME is set");
     }
   }
   else
   {
     return std::string(config_dir) + "/pingus/";
-  }  
+  }
 #endif
 }
 
@@ -505,7 +505,7 @@ System::checksum(const Pathname& pathname)
 /** Read file and create a checksum and return it */
 std::string
 System::checksum(std::string filename)
-{ // FIXME: Replace sys with SHA1 or MD5 or so 
+{ // FIXME: Replace sys with SHA1 or MD5 or so
   FILE* in;
   size_t bytes_read;
   char buffer[4096];
@@ -534,7 +534,7 @@ System::checksum(std::string filename)
   while (bytes_read != 0);
 
   fclose (in);
-  
+
   std::ostringstream str;
   str << checksum;
   return str.str();
@@ -609,7 +609,7 @@ System::realpath(const std::string& pathname)
     }
   }
 
-#ifdef WIN32  
+#ifdef WIN32
   return drive + normalize_path(fullpath);
 #else
   return normalize_path(fullpath);
@@ -676,7 +676,7 @@ System::normalize_path(const std::string& path)
     {
       if (*i == '/')
       {
-        std::string dir(last_slash, i); 
+        std::string dir(last_slash, i);
 
         handle_directory(dir, skip, result);
 
diff --git a/src/util/system.hpp b/src/util/system.hpp
index 3244f76d2..7f518b6e7 100644
--- a/src/util/system.hpp
+++ b/src/util/system.hpp
@@ -5,12 +5,12 @@
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -52,10 +52,10 @@ public:
       pattern. "." and ".." are removed from the output. */
   static Directory opendir(const std::string& pathname, const std::string& pattern = "*");
   static std::vector<std::string> opendir_recursive(const std::string& pathname);
-    
+
   static std::string get_file_extension(const std::string& filename);
   static std::string cut_file_extension(const std::string& filename);
-  
+
   /** Check if a file is avaiblable (no checking for permissens is currently performed)
       @param filename The name of the file
       @return True, if the file exist, false otherwise */
diff --git a/src/util/utf8.cpp b/src/util/utf8.cpp
index be333d63c..20fbca3db 100644
--- a/src/util/utf8.cpp
+++ b/src/util/utf8.cpp
@@ -1,17 +1,17 @@
 //  Pingus - A free Lemmings clone
-//  Copyright (C) 2008 Matthias Braun <matze@braunis.de>, 
+//  Copyright (C) 2008 Matthias Braun <matze@braunis.de>,
 //                     Ingo Ruhnke <grumbel@gmx.de>
 //
 //  This program is free software: you can redistribute it and/or modify
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -30,7 +30,7 @@ UTF8::is_linebreak_character(uint32_t unicode)
   if (unicode == ' ' || unicode >= 0x3400)
   {
     return true;
-  } 
+  }
   else
   {
     return false;
@@ -42,7 +42,7 @@ UTF8::length(const std::string& str)
 {
   // Not checking for valid UTF-8 sequences should be ok, since
   // incorrect ones are a character too.
-  std::string::size_type len = 0;  
+  std::string::size_type len = 0;
   for(std::string::const_iterator i = str.begin(); i != str.end(); ++i)
   {
     unsigned char c = *i;
@@ -51,14 +51,14 @@ UTF8::length(const std::string& str)
       len += 1;
     }
   }
-  
+
   return len;
 }
 
 std::string
 UTF8::substr(const iterator& first, const iterator& last)
 {
-  return first.get_string().substr(first.get_index(), 
+  return first.get_string().substr(first.get_index(),
                                    last.get_index() - first.get_index());
 }
 
@@ -67,7 +67,7 @@ UTF8::substr(const std::string& text, std::string::size_type pos, std::string::s
 {
   std::string::const_iterator beg_it = UTF8::advance(text.begin(), pos);
   std::string::const_iterator end_it = UTF8::advance(beg_it, n);
-  
+
   return std::string(beg_it, end_it);
 }
 
@@ -101,14 +101,14 @@ UTF8::advance(std::string::const_iterator it, std::string::size_type n)
       it += 1;
     }
   }
-  
+
   return it;
 }
 /**
  * returns true if this byte matches a bitmask of 10xx.xxxx, i.e. it is the 2nd, 3rd or 4th byte of a multibyte utf8 string
  */
 bool
-UTF8::has_multibyte_mark(unsigned char c) 
+UTF8::has_multibyte_mark(unsigned char c)
 {
   return ((c & 0300) == 0200);
 }
@@ -136,14 +136,14 @@ UTF8::decode_utf8(const std::string& text, size_t& p)
   {
     throw std::runtime_error("Malformed utf-8 sequence");
   }
-  else if ((c1 & 0200) == 0000) 
+  else if ((c1 & 0200) == 0000)
   {
     // 0xxx.xxxx: 1 byte sequence
     p+=1;
 
     return c1;
   }
-  else if ((c1 & 0340) == 0300) 
+  else if ((c1 & 0340) == 0300)
   {
     // 110x.xxxx: 2 byte sequence
     if(p+1 >= text.size()) throw std::range_error("Malformed utf-8 sequence");
@@ -153,7 +153,7 @@ UTF8::decode_utf8(const std::string& text, size_t& p)
 
     return (c1 & 0037) << 6 | (c2 & 0077);
   }
-  else if ((c1 & 0360) == 0340) 
+  else if ((c1 & 0360) == 0340)
   {
     // 1110.xxxx: 3 byte sequence
     if(p+2 >= text.size()) throw std::range_error("Malformed utf-8 sequence");
@@ -165,7 +165,7 @@ UTF8::decode_utf8(const std::string& text, size_t& p)
 
     return (c1 & 0017) << 12 | (c2 & 0077) << 6 | (c3 & 0077);
   }
-  else if ((c1 & 0370) == 0360) 
+  else if ((c1 & 0370) == 0360)
   {
     // 1111.0xxx: 4 byte sequence
     if(p+3 >= text.size()) throw std::range_error("Malformed utf-8 sequence");
@@ -193,7 +193,7 @@ UTF8::encode_utf8(uint32_t unicode)
   {
     result += static_cast<uint8_t>(unicode);
   }
-  else if (unicode < 0x800) 
+  else if (unicode < 0x800)
   {
     result += static_cast<uint8_t>((unicode >> 6) | 0xc0);
     result += static_cast<uint8_t>((unicode & 0x3f) | 0x80);
@@ -242,12 +242,12 @@ UTF8::iterator::operator+(int n)
 bool
 UTF8::iterator::next()
 {
-  try 
+  try
   {
     idx = pos;
     chr = decode_utf8(*text, pos);
-  } 
-  catch (std::exception) 
+  }
+  catch (std::exception)
   {
     log_error("Malformed utf-8 sequence beginning with %1% found ", *(reinterpret_cast<const uint32_t*>(text->c_str() + pos)));
     chr = INVALID_UTF8_SEQUENCE;
@@ -258,7 +258,7 @@ UTF8::iterator::next()
 }
 
 uint32_t
-UTF8::iterator::operator*() const 
+UTF8::iterator::operator*() const
 {
   return chr;
 }
diff --git a/src/util/utf8.hpp b/src/util/utf8.hpp
index 3a6d58cf0..00d6ab341 100644
--- a/src/util/utf8.hpp
+++ b/src/util/utf8.hpp
@@ -1,17 +1,17 @@
 //  Pingus - A free Lemmings clone
-//  Copyright (C) 2008 Matthias Braun <matze@braunis.de>, 
+//  Copyright (C) 2008 Matthias Braun <matze@braunis.de>,
 //                     Ingo Ruhnke <grumbel@gmx.de>
 //
 //  This program is free software: you can redistribute it and/or modify
 //  it under the terms of the GNU General Public License as published by
 //  the Free Software Foundation, either version 3 of the License, or
 //  (at your option) any later version.
-//  
+//
 //  This program is distributed in the hope that it will be useful,
 //  but WITHOUT ANY WARRANTY; without even the implied warranty of
 //  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 //  GNU General Public License for more details.
-//  
+//
 //  You should have received a copy of the GNU General Public License
 //  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
@@ -28,16 +28,16 @@ public:
   {
   private:
     const std::string* text;
-    
+
     /** Position of the next Unicode character after \a chr */
     std::string::size_type pos;
-    
+
     /** Position of \a chr */
     std::string::size_type idx;
 
     /** Current Unicode character */
     uint32_t chr;
-  
+
   public:
     /** Create a UTF8 iterator, note that \a text is stored as
         pointer, thus it must remain valid for the lifetime of the
@@ -48,15 +48,15 @@ public:
     bool next();
     iterator operator+(int n);
     uint32_t operator*() const;
-    
+
     /** Returns the starting position of the current character */
     std::string::size_type get_index() const { return idx; }
 
     const std::string& get_string() const { return *text; }
   };
 
-  /** 
-   * Returns the number of characters in a UTF-8 string 
+  /**
+   * Returns the number of characters in a UTF-8 string
    */
   static std::string::size_type length(const std::string& str);
 
@@ -64,8 +64,8 @@ public:
   static std::string substr(const std::string& text, std::string::size_type pos, std::string::size_type n);
   static std::string::const_iterator advance(std::string::const_iterator it, std::string::size_type n = 1);
 
-  /** 
-   * return true if a linebreak is allowed after this character 
+  /**
+   * return true if a linebreak is allowed after this character
    */
   static bool is_linebreak_character(uint32_t unicode);
 
diff --git a/test/input_test.cpp b/test/input_test.cpp
index 1fb990015..e27df1754 100644
--- a/test/input_test.cpp
+++ b/test/input_test.cpp
@@ -24,7 +24,7 @@
 
 int main()
 {
-  try 
+  try
   {
     if(SDL_Init(SDL_INIT_VIDEO | SDL_INIT_JOYSTICK) < 0)
     {
@@ -52,11 +52,11 @@ int main()
       }
 
       manager.update(0.033f);
-      
+
       SDL_Flip(screen);
     }
   }
-  catch (std::exception& err) 
+  catch (std::exception& err)
   {
     std::cout << "Exception: " << err.what() << std::endl;
   }
diff --git a/test/line_iterator_test.cpp b/test/line_iterator_test.cpp
index e066a133d..123fbb3e5 100644
--- a/test/line_iterator_test.cpp
+++ b/test/line_iterator_test.cpp
@@ -28,7 +28,7 @@ void test(const std::string& str)
   LineIterator it(str);
   while(it.next())
     std::cout << "\"" << it.get() << "\" " << std::flush;
-    
+
   std::cout << std::endl;
   std::cout << std::endl;
 }
diff --git a/test/memory_pool_test.cpp b/test/memory_pool_test.cpp
index 1a1400bdc..fb9960e84 100644
--- a/test/memory_pool_test.cpp
+++ b/test/memory_pool_test.cpp
@@ -20,7 +20,7 @@
 
 struct Thing {
   int i;
-  
+
   Thing(int i_) : i(i_) {
     std::cout << "Constructing thing: " << i << std::endl;
   }
@@ -36,7 +36,7 @@ int main()
   pool.create<Thing>(5);
   pool.create<Thing>(3);
   pool.create<Thing>(2);
-  
+
   return 0;
 }
 
diff --git a/test/rect_merger_test.cpp b/test/rect_merger_test.cpp
index 2b47d0e88..5394fc54f 100644
--- a/test/rect_merger_test.cpp
+++ b/test/rect_merger_test.cpp
@@ -24,7 +24,7 @@ int main(int argc, char** argv)
   int t = 1216020230; // 20
   //1216032809 // 20
   //int t = time(NULL);
-  //int t = 1216035347; 
+  //int t = 1216035347;
 
   srand(t);
 
@@ -61,10 +61,10 @@ int main(int argc, char** argv)
   rects_in.push_back(Rect(530, 281, 562, 313));
   rects_in.push_back(Rect(249, 280, 281, 312));
   rects_in.push_back(Rect(4, 112, 36, 144));
-                                        
+
   merge_rectangles(rects_in, rects_out);
-  
-  if (1) // print results as SVG 
+
+  if (1) // print results as SVG
     {
       std::cout << "<?xml version='1.0' standalone='no'?>\n"
                 << "<!DOCTYPE svg PUBLIC '-//W3C//DTD SVG 1.1//EN' "
@@ -74,14 +74,14 @@ int main(int argc, char** argv)
 
       std::cout << "<g>" << std::endl;
       for(std::vector<Rect>::iterator i = rects_in.begin(); i != rects_in.end(); ++i)
-        std::cout << "  <rect fill='blue' style='fill-opacity:0.5' x='" << i->left << "' y='" << i->top 
+        std::cout << "  <rect fill='blue' style='fill-opacity:0.5' x='" << i->left << "' y='" << i->top
                   << "' width='" << i->get_width() << "' height='" << i->get_height() << "' />" << std::endl;
       std::cout << "</g>" << std::endl;
       std::cout << std::endl;
 
-      std::cout << "<g>" << std::endl;  
+      std::cout << "<g>" << std::endl;
       for(std::vector<Rect>::iterator i = rects_out.begin(); i != rects_out.end(); ++i)
-        std::cout << "  <rect fill='yellow' stroke='black' style='fill-opacity:0.5;stroke-width:1px' x='" << i->left << "' y='" << i->top 
+        std::cout << "  <rect fill='yellow' stroke='black' style='fill-opacity:0.5;stroke-width:1px' x='" << i->left << "' y='" << i->top
                   << "' width='" << i->get_width() << "' height='" << i->get_height() << "' />" << std::endl;
       std::cout << "</g>" << std::endl;
       std::cout << "</svg>" << std::endl;
@@ -107,8 +107,8 @@ int main(int argc, char** argv)
       for(std::vector<Mark>::const_iterator j = i->marks.begin(); j != i->marks.end(); ++j)
         {
           std::cout << ((j->type == Mark::START_MARK) ? "'(" : "')")
-                      << j->pos 
-                      << "' ";          
+                      << j->pos
+                      << "' ";
         }
       std::cout << std::endl;
     }
@@ -121,7 +121,7 @@ int main(int argc, char** argv)
         for(std::vector<Mark>::iterator mark_it = i->marks.begin(); mark_it != i->marks.end(); ++mark_it)
           {
             std::cout << ((mark_it->type == Mark::START_MARK) ? "'(" : "')")
-                      << mark_it->pos 
+                      << mark_it->pos
                       << "' ";
           }
         std::cout << std::endl;
diff --git a/test/resource_manager_test.cpp b/test/resource_manager_test.cpp
index f95eb376f..c7036465d 100644
--- a/test/resource_manager_test.cpp
+++ b/test/resource_manager_test.cpp
@@ -14,7 +14,7 @@ public:
     m_key(key)
   {}
 
-  Sprite operator()() 
+  Sprite operator()()
   {
     return Sprite(m_key);
   }
-- 
2.51.2

